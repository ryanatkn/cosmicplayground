import{h as Dt,n as fe,T as Fe,r as te,s as U,am as At,d as f,c as R,o as E,i as A,U as Ge,V as We,W as Ye,H as Nt,z as Ot,e as S,b as P,l as C,m as p,a as J,E as Me,p as ce,a4 as Je,M as Ze,G as Oe,L as Y,J as ne,F as Ct,a6 as Ue,I as Q,C as Qe,P as ke,x as le,y as ae,A as Pe,Z as ye,a0 as Re,g as Ve,K as qt,$ as Ft}from"../chunks/scheduler.CGmLp2a4.js";import{S as ge,i as pe,t as w,b as I,c as K,a as j,m as q,d as F,g as me,e as de,h as Ae,j as Gt,f as Wt}from"../chunks/index.0VfkS216.js";import{w as De}from"../chunks/index.DfOygCNJ.js";import{p as zt}from"../chunks/stores.PwP-Al8z.js";import{b as Yt,g as Ke}from"../chunks/entry.C7HDlwdN.js";import{s as be,i as Jt}from"../chunks/dom.BLTHKhgi.js";import{A as Zt}from"../chunks/WaitingAnimation.DoFl1XLA.js";import{S as Qt,s as Xt,l as $t}from"../chunks/pixi.BNw4JtJK.js";import{b as Lt}from"../chunks/paths.BSs2Z8tW.js";import{g as Mt,s as xt}from"../chunks/clock.CLX1guZT.js";import{e as we}from"../chunks/dom.C29wazc_.js";import{t as el,s as tl}from"../chunks/idle.B5wkt_SU.js";import{T as ll,u as al,H as nl,a as rl}from"../chunks/renderStats.BaL0Gc4z.js";import{P as Be}from"../chunks/Panel.CVX3dqkQ.js";import{s as il}from"../chunks/settings.DMUTQVnp.js";import{c as sl,s as ol}from"../chunks/portals.DhkFqvWy.js";import{d as _l}from"../chunks/data.DaBRP2ae.js";import{n as ul,g as hl,o as cl,p as ml,q as dl,s as fl,t as gl,u as pl,v as vl,h as bl,i as kl,j as yl}from"../chunks/data.Dh6wXVPp.js";import{E as wl}from"../chunks/EarthThumbnail.DhdG9-_g.js";import{W as El}from"../chunks/WaitingScreen.0SexlRXT.js";import{s as Tl}from"../chunks/audio_ctx.De1TJfpf.js";import{T as Il,s as Se,a as tt,A as Sl}from"../chunks/AppDialog.Dpfl69no.js";import{B as Pl}from"../chunks/Breadcrumb.DYbJsEUQ.js";import{a as Ne,f as Dl}from"../chunks/index.DeK1U9ZM.js";import{r as Al}from"../chunks/random.BCioE_zI.js";import{P as Nl}from"../chunks/Pending_Animation.BCk8rEEV.js";import{e as lt,u as Ol,o as Cl}from"../chunks/each.af2GrV1H.js";import{s as zl}from"../chunks/songs.C6HnVUyC.js";import{l as Ll,s as Ml}from"../chunks/storage.BRfawDas.js";import{b as Vt,v as He,m as qe,c as Vl,s as at,r as nt,a as Bl,d as Hl,e as Ul,f as Rl}from"../chunks/play_song.-YVw_H94.js";import{P as Kl}from"../chunks/PortalPreview.C5wcwwNw.js";import{P as jl}from"../chunks/Preview.BFuqIoL5.js";import{s as ql}from"../chunks/dimensions.PpBVpshh.js";const Bt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Fl=!0,Gl=!1,$n=Object.freeze(Object.defineProperty({__proto__:null,prerender:Fl,ssr:Gl},Symbol.toStringTag,{value:"Module"})),Wl=[{name:"hue_a",light:"210",summary:"blue"},{name:"hue_b",light:"120",summary:"green"},{name:"hue_c",light:"0",summary:"red"},{name:"hue_d",light:"260",summary:"purple"},{name:"hue_e",light:"50",summary:"yellow"},{name:"hue_f",light:"27",summary:"brown"},{name:"hue_g",light:"335",summary:"pink"},{name:"color_a_1",light:"hsl(var(--hue_a), 65%, 91%)"},{name:"color_a_2",light:"hsl(var(--hue_a), 62%, 84%)",dark:"hsl(var(--hue_a), 62%, 88%)"},{name:"color_a_3",light:"hsl(var(--hue_a), 60%, 73%)",dark:"hsl(var(--hue_a), 60%, 82%)"},{name:"color_a_4",light:"hsl(var(--hue_a), 60%, 62%)",dark:"hsl(var(--hue_a), 60%, 76%)"},{name:"color_a_5",light:"hsl(var(--hue_a), 55%, 50%)",dark:"hsl(var(--hue_a), 55%, 70%)"},{name:"color_a_6",light:"hsl(var(--hue_a), 55%, 40%)",dark:"hsl(var(--hue_a), 55%, 55%)"},{name:"color_a_7",light:"hsl(var(--hue_a), 55%, 30%)",dark:"hsl(var(--hue_a), 55%, 40%)"},{name:"color_a_8",light:"hsl(var(--hue_a), 55%, 20%)",dark:"hsl(var(--hue_a), 55%, 25%)"},{name:"color_a_9",light:"hsl(var(--hue_a), 55%, 10%)"},{name:"color_b_1",light:"hsl(var(--hue_b), 55%, 88%)"},{name:"color_b_2",light:"hsl(var(--hue_b), 50%, 77%)",dark:"hsl(var(--hue_b), 50%, 81%)"},{name:"color_b_3",light:"hsl(var(--hue_b), 50%, 63%)",dark:"hsl(var(--hue_b), 50%, 74%)"},{name:"color_b_4",light:"hsl(var(--hue_b), 50%, 49%)",dark:"hsl(var(--hue_b), 50%, 66%)"},{name:"color_b_5",light:"hsl(var(--hue_b), 55%, 36%)",dark:"hsl(var(--hue_b), 43%, 58%)"},{name:"color_b_6",light:"hsl(var(--hue_b), 60%, 25%)",dark:"hsl(var(--hue_b), 51%, 45%)"},{name:"color_b_7",light:"hsl(var(--hue_b), 65%, 18%)",dark:"hsl(var(--hue_b), 59%, 33%)"},{name:"color_b_8",light:"hsl(var(--hue_b), 70%, 12%)",dark:"hsl(var(--hue_b), 67%, 20%)"},{name:"color_b_9",light:"hsl(var(--hue_b), 75%, 7%)"},{name:"color_c_1",light:"hsl(var(--hue_c), 85%, 92%)"},{name:"color_c_2",light:"hsl(var(--hue_c), 80%, 83%)",dark:"hsl(var(--hue_c), 81%, 83%)"},{name:"color_c_3",light:"hsl(var(--hue_c), 75%, 73%)",dark:"hsl(var(--hue_c), 78%, 74%)"},{name:"color_c_4",light:"hsl(var(--hue_c), 70%, 63%)",dark:"hsl(var(--hue_c), 74%, 65%)"},{name:"color_c_5",light:"hsl(var(--hue_c), 65%, 50%)",dark:"hsl(var(--hue_c), 70%, 56%)"},{name:"color_c_6",light:"hsl(var(--hue_c), 65%, 40%)",dark:"hsl(var(--hue_c), 65%, 45%)"},{name:"color_c_7",light:"hsl(var(--hue_c), 65%, 30%)",dark:"hsl(var(--hue_c), 65%, 33%)"},{name:"color_c_8",light:"hsl(var(--hue_c), 65%, 20%)",dark:"hsl(var(--hue_c), 65%, 22%)"},{name:"color_c_9",light:"hsl(var(--hue_c), 65%, 10%)"},{name:"color_d_1",light:"hsl(var(--hue_d), 50%, 91%)"},{name:"color_d_2",light:"hsl(var(--hue_d), 50%, 82%)",dark:"hsl(var(--hue_d), 50%, 87%)"},{name:"color_d_3",light:"hsl(var(--hue_d), 50%, 72%)",dark:"hsl(var(--hue_d), 50%, 81%)"},{name:"color_d_4",light:"hsl(var(--hue_d), 50%, 62%)",dark:"hsl(var(--hue_d), 50%, 76%)"},{name:"color_d_5",light:"hsl(var(--hue_d), 50%, 50%)",dark:"hsl(var(--hue_d), 50%, 70%)"},{name:"color_d_6",light:"hsl(var(--hue_d), 50%, 40%)",dark:"hsl(var(--hue_d), 50%, 55%)"},{name:"color_d_7",light:"hsl(var(--hue_d), 50%, 30%)",dark:"hsl(var(--hue_d), 50%, 40%)"},{name:"color_d_8",light:"hsl(var(--hue_d), 50%, 20%)",dark:"hsl(var(--hue_d), 50%, 25%)"},{name:"color_d_9",light:"hsl(var(--hue_d), 50%, 10%)"},{name:"color_e_1",light:"hsl(var(--hue_e), 85%, 91%)"},{name:"color_e_2",light:"hsl(var(--hue_e), 80%, 79%)",dark:"hsl(var(--hue_e), 80%, 83%)"},{name:"color_e_3",light:"hsl(var(--hue_e), 75%, 68%)",dark:"hsl(var(--hue_e), 75%, 76%)"},{name:"color_e_4",light:"hsl(var(--hue_e), 70%, 56%)",dark:"hsl(var(--hue_e), 70%, 69%)"},{name:"color_e_5",light:"hsl(var(--hue_e), 65%, 42%)",dark:"hsl(var(--hue_e), 70%, 62%)"},{name:"color_e_6",light:"hsl(var(--hue_e), 70%, 34%)",dark:"hsl(var(--hue_e), 70%, 49%)"},{name:"color_e_7",light:"hsl(var(--hue_e), 75%, 26%)",dark:"hsl(var(--hue_e), 75%, 36%)"},{name:"color_e_8",light:"hsl(var(--hue_e), 80%, 18%)",dark:"hsl(var(--hue_e), 80%, 23%)"},{name:"color_e_9",light:"hsl(var(--hue_e), 85%, 10%)"},{name:"color_f_1",light:"hsl(var(--hue_f), 32%, 86%)"},{name:"color_f_2",light:"hsl(var(--hue_f), 32%, 69%)",dark:"hsl(var(--hue_f), 32%, 76%)"},{name:"color_f_3",light:"hsl(var(--hue_f), 32%, 56%)",dark:"hsl(var(--hue_f), 32%, 70%)"},{name:"color_f_4",light:"hsl(var(--hue_f), 42%, 38%)",dark:"hsl(var(--hue_f), 32%, 63%)"},{name:"color_f_5",light:"hsl(var(--hue_f), 60%, 26%)",dark:"hsl(var(--hue_f), 30%, 56%)"},{name:"color_f_6",light:"hsl(var(--hue_f), 65%, 19%)",dark:"hsl(var(--hue_f), 40%, 44%)"},{name:"color_f_7",light:"hsl(var(--hue_f), 70%, 14%)",dark:"hsl(var(--hue_f), 50%, 31%)"},{name:"color_f_8",light:"hsl(var(--hue_f), 75%, 10%)",dark:"hsl(var(--hue_f), 70%, 19%)"},{name:"color_f_9",light:"hsl(var(--hue_f), 80%, 6%)"},{name:"color_g_1",light:"hsl(var(--hue_g), 72%, 91%)"},{name:"color_g_2",light:"hsl(var(--hue_g), 72%, 83%)",dark:"hsl(var(--hue_g), 72%, 87%)"},{name:"color_g_3",light:"hsl(var(--hue_g), 72%, 74%)",dark:"hsl(var(--hue_g), 72%, 81%)"},{name:"color_g_4",light:"hsl(var(--hue_g), 72%, 65%)",dark:"hsl(var(--hue_g), 72%, 76%)"},{name:"color_g_5",light:"hsl(var(--hue_g), 72%, 56%)",dark:"hsl(var(--hue_g), 72%, 70%)"},{name:"color_g_6",light:"hsl(var(--hue_g), 72%, 44%)",dark:"hsl(var(--hue_g), 72%, 55%)"},{name:"color_g_7",light:"hsl(var(--hue_g), 72%, 32%)",dark:"hsl(var(--hue_g), 72%, 40%)"},{name:"color_g_8",light:"hsl(var(--hue_g), 72%, 20%)",dark:"hsl(var(--hue_g), 72%, 25%)"},{name:"color_g_9",light:"hsl(var(--hue_g), 72%, 10%)"},{name:"darken_1",light:"#0000000f",summary:"6%"},{name:"darken_2",light:"#0000001f",summary:"12%"},{name:"darken_3",light:"#00000036",summary:"21%"},{name:"darken_4",light:"#00000052",summary:"32%"},{name:"darken_5",light:"#00000073",summary:"45%"},{name:"darken_6",light:"#000000a6",summary:"65%"},{name:"darken_7",light:"#000000cc",summary:"80%"},{name:"darken_8",light:"#000000e3",summary:"89%"},{name:"darken_9",light:"#000000f5",summary:"96%"},{name:"lighten_1",light:"#ffffff0f",summary:"6%"},{name:"lighten_2",light:"#ffffff1f",summary:"12%"},{name:"lighten_3",light:"#ffffff36",summary:"21%"},{name:"lighten_4",light:"#ffffff52",summary:"32%"},{name:"lighten_5",light:"#ffffff73",summary:"45%"},{name:"lighten_6",light:"#ffffffa6",summary:"65%"},{name:"lighten_7",light:"#ffffffcc",summary:"80%"},{name:"lighten_8",light:"#ffffffe3",summary:"89%"},{name:"lighten_9",light:"#fffffff5",summary:"96%"},{name:"tint_hue",light:"var(--hue_e)"},{name:"tint_saturation",light:"11%"},{name:"bg",light:"hsl(var(--tint_hue), var(--tint_saturation), 96%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 6%)"},{name:"fg",light:"hsl(var(--tint_hue), var(--tint_saturation), 6%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 96%)"},{name:"bg_1",light:"var(--lighten_1)",dark:"var(--darken_1)"},{name:"bg_2",light:"var(--lighten_2)",dark:"var(--darken_2)"},{name:"bg_3",light:"var(--lighten_3)",dark:"var(--darken_3)"},{name:"bg_4",light:"var(--lighten_4)",dark:"var(--darken_4)"},{name:"bg_5",light:"var(--lighten_5)",dark:"var(--darken_5)"},{name:"bg_6",light:"var(--lighten_6)",dark:"var(--darken_6)"},{name:"bg_7",light:"var(--lighten_7)",dark:"var(--darken_7)"},{name:"bg_8",light:"var(--lighten_8)",dark:"var(--darken_8)"},{name:"bg_9",light:"var(--lighten_9)",dark:"var(--darken_9)"},{name:"bg_10",light:"#fff",dark:"#000"},{name:"fg_1",light:"var(--darken_1)",dark:"var(--lighten_1)"},{name:"fg_2",light:"var(--darken_2)",dark:"var(--lighten_2)"},{name:"fg_3",light:"var(--darken_3)",dark:"var(--lighten_3)"},{name:"fg_4",light:"var(--darken_4)",dark:"var(--lighten_4)"},{name:"fg_5",light:"var(--darken_5)",dark:"var(--lighten_5)"},{name:"fg_6",light:"var(--darken_6)",dark:"var(--lighten_6)"},{name:"fg_7",light:"var(--darken_7)",dark:"var(--lighten_7)"},{name:"fg_8",light:"var(--darken_8)",dark:"var(--lighten_8)"},{name:"fg_9",light:"var(--darken_9)",dark:"var(--lighten_9)"},{name:"fg_10",light:"#000",dark:"#fff"},{name:"text_color",light:"var(--text_1)"},{name:"text_1",light:"hsl(var(--tint_hue), var(--tint_saturation), 16%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 80%)"},{name:"text_2",light:"hsl(var(--tint_hue), var(--tint_saturation), 32%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 65%)"},{name:"text_3",light:"hsl(var(--tint_hue), var(--tint_saturation), 48%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 50%)"},{name:"text_disabled",light:"var(--text_3)"},{name:"text_active",light:"hsl(var(--hue_a), 55%, 40%);",dark:"hsl(var(--hue_a), 65%, 65%);"},{name:"line_height",light:"var(--line_height_5)"},{name:"line_height_1",light:"1"},{name:"line_height_2",light:"1.1"},{name:"line_height_3",light:"1.2"},{name:"line_height_4",light:"1.35"},{name:"line_height_5",light:"1.5"},{name:"line_height_6",light:"1.75"},{name:"line_height_7",light:"2"},{name:"font_family",light:"system-ui, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",summary:"@source https://kilianvalkhof.com/2022/css-html/your-css-reset-needs-text-size-adjust-probably/"},{name:"font_family_mono",light:"ui-monospace, 'Fira Mono', monospace"},{name:"size_xs",light:"1rem"},{name:"size_sm",light:"1.3rem"},{name:"size_md",light:"1.6rem"},{name:"size_lg",light:"2.04rem"},{name:"size_1",light:"2.59rem"},{name:"size_2",light:"3.29rem"},{name:"size_3",light:"4.19rem"},{name:"size_4",light:"5.33rem"},{name:"size_5",light:"6.78rem"},{name:"size_6",light:"8.62rem"},{name:"size_7",light:"10.97rem"},{name:"size_8",light:"13.95rem"},{name:"size_9",light:"17.74rem"},{name:"link_color",light:"hsl(var(--hue_a), 61%, 35%)",dark:"hsl(var(--hue_a), 61%, 58%)"},{name:"text_decoration",light:"none"},{name:"text_decoration_hover",light:"underline"},{name:"text_decoration_selected",light:"underline"},{name:"link_active",light:"var(--text_color)"},{name:"spacing_xs5",light:"0.1rem"},{name:"spacing_xs4",light:"0.2rem"},{name:"spacing_xs3",light:"0.3rem"},{name:"spacing_xs2",light:"0.4rem"},{name:"spacing_xs",light:"0.6rem"},{name:"spacing_sm",light:"0.8rem"},{name:"spacing_md",light:"1rem"},{name:"spacing_lg",light:"1.3rem"},{name:"spacing_1",light:"1.6rem"},{name:"spacing_2",light:"2.1rem"},{name:"spacing_3",light:"2.6rem"},{name:"spacing_4",light:"3.3rem"},{name:"spacing_5",light:"4.2rem"},{name:"spacing_6",light:"5.4rem"},{name:"spacing_7",light:"6.9rem"},{name:"spacing_8",light:"8.7rem"},{name:"spacing_9",light:"11.1rem"},{name:"width_md",light:"800px"},{name:"width_sm",light:"320px"},{name:"border_color",light:"var(--border_3)"},{name:"border_1",light:"hsl(var(--tint_hue), 60%, 20%, 15%)",dark:"hsl(var(--tint_hue), 60%, 80%, 85%)"},{name:"border_2",light:"hsl(var(--tint_hue), 60%, 20%, 25%)",dark:"hsl(var(--tint_hue), 60%, 80%, 70%)"},{name:"border_3",light:"hsl(var(--tint_hue), 60%, 20%, 35%)",dark:"hsl(var(--tint_hue), 60%, 80%, 50%)"},{name:"border_4",light:"hsl(var(--tint_hue), 60%, 20%, 45%)",dark:"hsl(var(--tint_hue), 60%, 80%, 40%)"},{name:"border_5",light:"hsl(var(--tint_hue), 60%, 20%, 60%)",dark:"hsl(var(--tint_hue), 60%, 80%, 30%)"},{name:"border_disabled",light:"var(--border_3)"},{name:"border_width",light:"var(--border_width_1)"},{name:"border_width_1",light:"1px"},{name:"border_width_2",light:"2px"},{name:"border_width_3",light:"3px"},{name:"border_width_4",light:"4px"},{name:"border_width_5",light:"6px"},{name:"border_width_6",light:"8px"},{name:"border_style",light:"solid"},{name:"outline_width",light:"var(--outline_width_1)"},{name:"outline_width_1",light:"0"},{name:"outline_width_2",light:"var(--border_width_2)"},{name:"outline_width_3",light:"var(--border_width_1)"},{name:"outline_style",light:"solid"},{name:"outline_color",light:"var(--color_a_5)"},{name:"button_bg",light:"var(--fg_1)"},{name:"button_bg_hover",light:"var(--fg_2)"},{name:"button_bg_active",light:"var(--bg_3)"},{name:"button_bg_disabled",light:"transparent"},{name:"input_bg",light:"var(--bg_5)"},{name:"input_padding_y",light:"0"},{name:"input_padding_x",light:"var(--spacing_lg)"},{name:"input_width_min",light:"100px"},{name:"input_height",light:"var(--spacing_5)"},{name:"input_height_sm",light:"var(--spacing_4)"},{name:"input_height_inner",light:"calc(var(--input_height) - 2 * var(--border_width) - 2 * var(--input_padding_y))"},{name:"shadow",light:"2px 4px 9px hsla(var(--tint_hue), var(--tint_saturation), 6%, 0.28), 2px 14px 48px hsla(var(--tint_hue), var(--tint_saturation), 6%, 0.28)",dark:"2px 4px 9px hsla(var(--tint_hue), var(--tint_saturation), 82%, var(--faded_5)), 2px 14px 48px hsla(var(--tint_hue), var(--tint_saturation), 82%, var(--faded_5))"},{name:"shadow_lg",light:"2px 6px 14px hsla(var(--tint_hue), var(--tint_saturation), 6%, 0.8), 2px 6px 48px hsla(var(--tint_hue), var(--tint_saturation), 6%, 0.8)",dark:"2px 6px 18px hsla(var(--tint_hue), var(--tint_saturation), 82%, var(--faded_5)), 2px 6px 48px hsla(var(--tint_hue), var(--tint_saturation), 82%, var(--faded_5))"},{name:"shadow_inset",light:"2px 2px 4px inset var(--lighten_2), -2px -2px 4px inset var(--darken_2), 4px 4px 6px inset var(--lighten_1), -4px -4px 6px inset var(--darken_1)"},{name:"shadow_inset_active",light:"2px 2px 4px inset var(--darken_2), -2px -2px 4px inset var(--lighten_2), 4px 4px 6px inset var(--darken_1), -4px -4px 6px inset var(--lighten_1)"},{name:"icon_size",light:"var(--icon_size_md)"},{name:"icon_size_xs",light:"18px"},{name:"icon_size_sm",light:"32px"},{name:"icon_size_md",light:"48px"},{name:"icon_size_lg",light:"80px"},{name:"icon_size_1",light:"128px"},{name:"icon_size_2",light:"196px"},{name:"icon_size_3",light:"316px"},{name:"icon_size_4",light:"512px"},{name:"duration_1",light:"0.08s"},{name:"duration_2",light:"0.2s"},{name:"duration_3",light:"0.5s"},{name:"duration_4",light:"1s"},{name:"duration_5",light:"1.5s"},{name:"duration_6",light:"3s"},{name:"faded_1",light:"86%"},{name:"faded_2",light:"62%"},{name:"faded_3",light:"38%"},{name:"faded_4",light:"24%"},{name:"faded_5",light:"15%"},{name:"faded_6",light:"9%"},{name:"disabled_opacity",light:"var(--faded_2)"},{name:"border_radius",light:"var(--border_radius_md)"},{name:"border_radius_md",light:"calc(var(--input_height) / 2)"},{name:"border_radius_sm",light:"calc(var(--border_radius_md) / 1.618)"},{name:"border_radius_xs",light:"calc(var(--border_radius_sm) / 1.618)"},{name:"border_radius_xs2",light:"calc(var(--border_radius_xs) / 1.618)"}],Ht={name:"base",items:[]},Ut=[Ht,{name:"low contrast",items:[{name:"tint_saturation",light:"8%"},{name:"bg",light:"hsl(var(--tint_hue), var(--tint_saturation), 86%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 18%)"}]},{name:"high contrast",items:[{name:"bg",light:"#fff",dark:"#000"},{name:"text_1",light:"hsl(var(--tint_hue), var(--tint_saturation), 8%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 90%)"},{name:"text_2",light:"hsl(var(--tint_hue), var(--tint_saturation), 16%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 83%)"},{name:"text_3",light:"hsl(var(--tint_hue), var(--tint_saturation), 24%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 75%)"}]}],Yl=["light","auto","dark"],Rt=a=>{a==="dark"||a!=="light"&&matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Xe="color-scheme",Jl=(a,e=Xe)=>{try{a===null?localStorage.removeItem(e):localStorage.setItem(e,a)}catch{}},Zl=(a="auto",e=Xe)=>{let t;try{t=localStorage.getItem(e)}catch{return a}return Yl.includes(t)?t:a},Kt="theme",Ql=(a,e=Kt)=>{try{a===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(a))}catch{}},Xl=(a=Ut[0],e=Kt)=>{try{const t=localStorage.getItem(e),l=t===null?t:JSON.parse(t);if(l)return l}catch{}return a},$l=(a="light",e=Xe)=>`
	try {
		let c = localStorage.getItem('${e}');
		if (c === 'auto' || (c !== 'dark' && c !== 'light')) {
			c = matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
		}
		if (c === 'dark') document.documentElement.classList.add('dark');
	} catch (_) { ${a==="dark"?"document.documentElement.classList.add('dark');":""} }
`,xl=a=>`<style nonce="%sveltekit.nonce%">
	${a}
</style>`,ea=(a,e={})=>{const{comments:t=!1,id:l=null,empty_default_theme:n=!0,specificity:i=2}=e,r=a.name===Ut[0].name?n?null:Wl:a.items;if(!(r!=null&&r.length))return"";const o=r.map(u=>rt(u)).filter(Boolean),s=r.map(u=>rt(u,!0,t)).filter(Boolean),_=(l?"#"+l:":root").repeat(i);return`${o.length?`${_} {
	${o.join(`
	`)}
}`:""}
${s.length?`${_}.dark {
	${s.join(`
	`)}
}`:""}
`.trim()},rt=(a,e=!1,t=!0)=>{const l=e?a.dark:a.light;return l?"--"+a.name+": "+l+";"+(t&&a.summary?" /* "+a.summary+" */":""):""},ta=Symbol("theme"),la=a=>Dt(ta,a),aa=Symbol("color_scheme"),na=a=>Dt(aa,a),ra=a=>({style:a&1,theme_style_html:a&2,theme_setup_script:a&4,selected_theme:a&8,selected_color_scheme:a&16}),it=a=>({style:a[0],theme_style_html:a[1],theme_setup_script:a[2],selected_theme:a[3],selected_color_scheme:a[4]});function st(a){let e,t;return{c(){e=new Nt(!1),t=te(),this.h()},l(l){e=Ot(l,!1),t=te(),this.h()},h(){e.a=t},m(l,n){e.m(a[1],l,n),A(l,t,n)},p(l,n){n&2&&e.p(l[1])},d(l){l&&(f(t),e.d())}}}function ot(a){let e,t,l,n;return{c(){e=S("meta"),t=U(),l=S("script"),n=new Nt(!1),this.h()},l(i){e=P(i,"META",{name:!0,content:!0}),t=R(i),l=P(i,"SCRIPT",{});var r=C(l);n=Ot(r,!1),r.forEach(f),this.h()},h(){p(e,"name","color-scheme"),p(e,"content",a[5]),n.a=null},m(i,r){A(i,e,r),A(i,t,r),A(i,l,r),n.m(a[2],l)},p(i,r){r&32&&p(e,"content",i[5]),r&4&&n.p(i[2])},d(i){i&&(f(e),f(t),f(l))}}}function ia(a){let e,t,l,n,i=a[1]&&st(a),r=a[2]&&ot(a);const o=a[20].default,s=Fe(o,a,a[19],it);return{c(){i&&i.c(),e=te(),r&&r.c(),t=te(),l=U(),s&&s.c()},l(_){const u=At("svelte-xji6kl",document.head);i&&i.l(u),e=te(),r&&r.l(u),t=te(),u.forEach(f),l=R(_),s&&s.l(_)},m(_,u){i&&i.m(document.head,null),E(document.head,e),r&&r.m(document.head,null),E(document.head,t),A(_,l,u),s&&s.m(_,u),n=!0},p(_,[u]){_[1]?i?i.p(_,u):(i=st(_),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),_[2]?r?r.p(_,u):(r=ot(_),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),s&&s.p&&(!n||u&524319)&&Ge(s,o,_,_[19],n?Ye(o,_[19],u,ra):We(_[19]),it)},i(_){n||(w(s,_),n=!0)},o(_){I(s,_),n=!1},d(_){_&&f(l),i&&i.d(_),f(e),r&&r.d(_),f(t),s&&s.d(_)}}}function sa(a,e,t){let l,n,i,r=J,o=()=>(r(),r=Me(x,T=>t(17,i=T)),x),s,_=J,u=()=>(_(),_=Me(V,T=>t(18,s=T)),V);a.$$.on_destroy.push(()=>r()),a.$$.on_destroy.push(()=>_());let{$$slots:c={},$$scope:m}=e,{sync_color_scheme:d=Rt}=e,{load_color_scheme:h=Zl}=e,{save_color_scheme:g=Jl}=e,{load_theme:D=Xl}=e,{save_theme:z=Ql}=e,{selected_theme:x=De(D())}=e;o(),la(x);let{selected_color_scheme:V=De(h())}=e;u(),na(V);let{color_scheme_fallback:L=void 0}=e,{color_scheme_css:y=void 0}=e,{style:b=null}=e,{theme_style_html:B=null}=e,{theme_setup_script:M=null}=e,X=0,se=0,Z=0;return a.$$set=T=>{"sync_color_scheme"in T&&t(6,d=T.sync_color_scheme),"load_color_scheme"in T&&t(7,h=T.load_color_scheme),"save_color_scheme"in T&&t(8,g=T.save_color_scheme),"load_theme"in T&&t(9,D=T.load_theme),"save_theme"in T&&t(10,z=T.save_theme),"selected_theme"in T&&o(t(3,x=T.selected_theme)),"selected_color_scheme"in T&&u(t(4,V=T.selected_color_scheme)),"color_scheme_fallback"in T&&t(11,L=T.color_scheme_fallback),"color_scheme_css"in T&&t(12,y=T.color_scheme_css),"style"in T&&t(0,b=T.style),"theme_style_html"in T&&t(1,B=T.theme_style_html),"theme_setup_script"in T&&t(2,M=T.theme_setup_script),"$$scope"in T&&t(19,m=T.$$scope)},a.$$.update=()=>{a.$$.dirty&131072&&t(16,l=i.name),a.$$.dirty&196608&&t(0,b=l===Ht.name?null:ea(i)),a.$$.dirty&1&&t(1,B=b?xl(b):null),a.$$.dirty&2048&&t(2,M=$l(L)),a.$$.dirty&270400&&t(13,X++,X)&&(d==null||d(s)),a.$$.dirty&278784&&t(14,se++,se)&&(g==null||g(s)),a.$$.dirty&164864&&t(15,Z++,Z)&&(z==null||z(i)),a.$$.dirty&6144&&t(5,n=y??(L==="dark"||L==="light"?L:matchMedia("(prefers-color-scheme: dark)").matches?"dark light":"light dark"))},[b,B,M,x,V,n,d,h,g,D,z,L,y,X,se,Z,l,i,s,m,c]}class oa extends ge{constructor(e){super(),pe(this,e,sa,ia,fe,{sync_color_scheme:6,load_color_scheme:7,save_color_scheme:8,load_theme:9,save_theme:10,selected_theme:3,selected_color_scheme:4,color_scheme_fallback:11,color_scheme_css:12,style:0,theme_style_html:1,theme_setup_script:2})}}const _a=.0033,ua=(a,e,t,l=0,n=0,i=.2,r=_a)=>{a.baseTexture.setStyle(Qt.LINEAR);const o=new ll(a,e,t);o.alpha=i;const{subscribe:s,update:_}=De({sprite:o,width:e,height:t,x:l,y:n});return{subscribe:s,update_dimensions:(u,c)=>{_(m=>{const{sprite:d}=m;return!d||m.width===u&&m.height===c?m:(d.width=u,d.height=c,{...m,width:u,height:c})})},tick:u=>{_(c=>{const{sprite:m}=c;if(!m||!u)return c;const d=m.tilePosition.x+u*r,h=m.tilePosition.y+u*(r/2);return m.tilePosition.x=d,m.tilePosition.y=h,{...c,x:d,y:h}})}}};function ha(a){let e;return{c(){e=S("div"),this.h()},l(t){e=P(t,"DIV",{style:!0}),C(e).forEach(f),this.h()},h(){ce(e,"width",a[0]+"px"),ce(e,"height",a[1]+"px")},m(t,l){A(t,e,l),a[4](e)},p(t,[l]){l&1&&ce(e,"width",t[0]+"px"),l&2&&ce(e,"height",t[1]+"px")},i:J,o:J,d(t){t&&f(e),a[4](null)}}}function ca(a,e,t){let{pixi:l}=e,{width:n}=e,{height:i}=e,r;const o=_=>{if(!r)return;const{firstChild:u}=r;if(u){if(_.app.view===u)return;if(r.childNodes.length>1)throw Error(`PixiView has ${r.childNodes.length} child nodes! Expected 0 or 1.`);r.removeChild(u)}r.appendChild(_.app.view)};Je(()=>o(l)),Ze(()=>r.removeChild(l.app.view));function s(_){Oe[_?"unshift":"push"](()=>{r=_,t(2,r)})}return a.$$set=_=>{"pixi"in _&&t(3,l=_.pixi),"width"in _&&t(0,n=_.width),"height"in _&&t(1,i=_.height)},a.$$.update=()=>{a.$$.dirty&11&&(n!==l.app.renderer.width||i!==l.app.renderer.height)&&l.app.renderer.resize(n,i),a.$$.dirty&8&&o(l)},[n,i,r,l,s]}class ma extends ge{constructor(e){super(),pe(this,e,ca,ha,fe,{pixi:3,width:0,height:1})}}const da={name:"unlock",slug:"unlock",showHomeButton:!1,Preview:ul};function fa(a){let e,t;return e=new wl({props:{width:320,height:160,animationDuration:"90s",running:a[0].running,text:"deep breath"}}),{c(){K(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){q(e,l,n),t=!0},p(l,[n]){const i={};n&1&&(i.running=l[0].running),e.$set(i)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ga(a,e,t){let l;const n=Mt();return Y(a,n,i=>t(0,l=i)),[l,n]}class pa extends ge{constructor(e){super(),pe(this,e,ga,fa,fe,{})}}const va={name:"deep breath",slug:"deep-breath",showHomeButton:!1,Preview:pa},_t=[_l,hl,da,cl,va,ml,dl,fl,gl,pl,vl,bl,kl,yl],ut={portals:_t,portals_by_slug:new Map(_t.map(a=>[a.slug,a]))},{window:ba}=Bt,ka=a=>({}),ht=a=>({close:a[7]});function ct(a){let e;const t=a[10].default,l=Fe(t,a,a[15],ht);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){l&&l.p&&(!e||i&32768)&&Ge(l,t,n,n[15],e?Ye(t,n[15],i,ka):We(n[15]),ht)},i(n){e||(w(l,n),e=!0)},o(n){I(l,n),e=!1},d(n){l&&l.d(n)}}}function ya(a){let e,t,l,n,i,r,o,s,_,u=a[6]&&ct(a);return{c(){e=S("div"),t=S("div"),l=S("div"),n=S("div"),i=U(),r=S("div"),u&&u.c(),this.h()},l(c){e=P(c,"DIV",{class:!0,role:!0,"aria-modal":!0,tabindex:!0});var m=C(e);t=P(m,"DIV",{class:!0});var d=C(t);l=P(d,"DIV",{class:!0});var h=C(l);n=P(h,"DIV",{class:!0,role:!0}),C(n).forEach(f),i=R(h),r=P(h,"DIV",{class:!0,role:!0});var g=C(r);u&&u.l(g),g.forEach(f),h.forEach(f),d.forEach(f),m.forEach(f),this.h()},h(){p(n,"class","dialog_bg svelte-1ds8tii"),p(n,"role","none"),Q(n,"ready",a[6]),p(r,"class","dialog_content svelte-1ds8tii"),p(r,"role","none"),p(l,"class","dialog_wrapper svelte-1ds8tii"),p(t,"class","dialog_layout svelte-1ds8tii"),p(e,"class","dialog svelte-1ds8tii"),p(e,"role","dialog"),p(e,"aria-modal",""),p(e,"tabindex","-1"),Q(e,"ready",a[6]),Q(e,"layout-page",a[0]==="page"),ce(e,"z-index",100+a[1])},m(c,m){A(c,e,m),E(e,t),E(t,l),E(l,n),E(l,i),E(l,r),u&&u.m(r,null),a[11](r),a[13](e),o=!0,s||(_=[ne(n,"mousedown",a[7]),ne(r,"mousedown",a[12])],s=!0)},p(c,m){(!o||m&64)&&Q(n,"ready",c[6]),c[6]?u?(u.p(c,m),m&64&&w(u,1)):(u=ct(c),u.c(),w(u,1),u.m(r,null)):u&&(me(),I(u,1,1,()=>{u=null}),de()),(!o||m&64)&&Q(e,"ready",c[6]),(!o||m&1)&&Q(e,"layout-page",c[0]==="page"),m&2&&ce(e,"z-index",100+c[1])},i(c){o||(w(u),o=!0)},o(c){I(u),o=!1},d(c){c&&f(e),u&&u.d(),a[11](null),a[13](null),s=!1,Qe(_)}}}function wa(a){let e,t,l,n;return e=new Il({props:{to:a[3],$$slots:{default:[ya]},$$scope:{ctx:a}}}),e.$on("move",a[14]),{c(){K(e.$$.fragment)},l(i){j(e.$$.fragment,i)},m(i,r){q(e,i,r),t=!0,l||(n=ne(ba,"keydown",function(){Ct(a[2]?a[8]:void 0)&&(a[2]?a[8]:void 0).apply(this,arguments)}),l=!0)},p(i,[r]){a=i;const o={};r&8&&(o.to=a[3]),r&32883&&(o.$$scope={dirty:r,ctx:a}),e.$set(o)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){F(e,i),l=!1,n()}}}const mt="body",dt="dialog_open",ft="--dialog_open_padding_right",gt="dialog";function Ea(a,e,t){let{$$slots:l={},$$scope:n}=e;const i=Ue();let{container:r=void 0}=e,{layout:o="centered"}=e,{index:s=0}=e,{active:_=!0}=e,u;const c=y=>{if(y)t(3,u=y);else{const b=document.getElementById(gt);if(b)t(3,u=b);else{const B=document.querySelector(mt);if(!B)throw Error(`Cannot find dialog root element with selector '${mt}'`);t(3,u=document.createElement("div")),t(3,u.id=gt,u),t(3,u.style.display="contents",u),B.appendChild(u)}}};let m,d;const h=y=>{y&&be(y),i("close")},g=y=>{var b;if(y.key==="Escape"&&!Jt(y.target)){const B=m.parentElement,M=(b=B==null?void 0:B.parentElement)==null?void 0:b.children,X=Array.prototype.indexOf.call(M,B);(!M||X===M.length-1||X===-1)&&h(y)}};let D=!1;Ze(()=>{s===0&&(document.body.classList.remove(dt),document.body.style.setProperty(ft,null))});function z(y){Oe[y?"unshift":"push"](()=>{d=y,t(5,d)})}const x=y=>{y.target===d&&h(y)};function V(y){Oe[y?"unshift":"push"](()=>{m=y,t(4,m)})}const L=()=>{const y=Number(window.getComputedStyle(document.body).getPropertyValue("padding-right").slice(0,-2))||0,b=document.body.clientWidth;document.body.classList.add(dt);const M=document.body.clientWidth-b;M>0&&document.body.style.setProperty(ft,M+y+"px"),t(6,D=!0),m.focus()};return a.$$set=y=>{"container"in y&&t(9,r=y.container),"layout"in y&&t(0,o=y.layout),"index"in y&&t(1,s=y.index),"active"in y&&t(2,_=y.active),"$$scope"in y&&t(15,n=y.$$scope)},a.$$.update=()=>{a.$$.dirty&512&&c(r)},[o,s,_,u,m,d,D,h,g,r,l,z,x,V,L,n]}class Ta extends ge{constructor(e){super(),pe(this,e,Ea,wa,fe,{container:9,layout:0,index:1,active:2})}}function pt(a){let e,t;return e=new Ta({props:{$$slots:{default:[Ia]},$$scope:{ctx:a}}}),e.$on("close",a[2]),{c(){K(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){q(e,l,n),t=!0},p(l,n){const i={};n&34&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ia(a){let e;return{c(){e=S("div"),this.h()},l(t){e=P(t,"DIV",{class:!0}),C(e).forEach(f),this.h()},h(){p(e,"class","dialogs svelte-1ivh6wu")},m(t,l){A(t,e,l),a[3](e)},p:J,d(t){t&&f(e),a[3](null)}}}function Sa(a){let e,t,l=a[0]&&pt(a);return{c(){l&&l.c(),e=te()},l(n){l&&l.l(n),e=te()},m(n,i){l&&l.m(n,i),A(n,e,i),t=!0},p(n,[i]){n[0]?l?(l.p(n,i),i&1&&w(l,1)):(l=pt(n),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(me(),I(l,1,1,()=>{l=null}),de())},i(n){t||(w(l),t=!0)},o(n){I(l),t=!1},d(n){n&&f(e),l&&l.d(n)}}}function Pa(a,e,t){let l,n;Y(a,Se,s=>t(0,l=s)),Y(a,tt,s=>t(1,n=s));const i=Mt(),r=()=>{ke(Se,l=!1,l),i.resume()};function o(s){Oe[s?"unshift":"push"](()=>{n=s,tt.set(n)})}return[l,n,r,o]}class Da extends ge{constructor(e){super(),pe(this,e,Pa,Sa,fe,{})}}function Aa(a){let e,t,l=a[0]+1+"",n,i,r=a[1].name+"",o,s,_,u=a[1].author+"",c,m,d;return{c(){e=S("button"),t=S("div"),n=le(l),i=U(),o=le(r),s=U(),_=S("div"),c=le(u),this.h()},l(h){e=P(h,"BUTTON",{type:!0,class:!0});var g=C(e);t=P(g,"DIV",{class:!0});var D=C(t);n=ae(D,l),D.forEach(f),i=R(g),o=ae(g,r),s=R(g),_=P(g,"DIV",{class:!0});var z=C(_);c=ae(z,u),z.forEach(f),g.forEach(f),this.h()},h(){p(t,"class","count svelte-16efu7a"),p(_,"class","author svelte-16efu7a"),p(e,"type","button"),p(e,"class","deselectable svelte-16efu7a"),Q(e,"selected",a[2])},m(h,g){A(h,e,g),E(e,t),E(t,n),E(e,i),E(e,o),E(e,s),E(e,_),E(_,c),m||(d=ne(e,"click",a[3]),m=!0)},p(h,[g]){g&1&&l!==(l=h[0]+1+"")&&Pe(n,l),g&2&&r!==(r=h[1].name+"")&&Pe(o,r),g&2&&u!==(u=h[1].author+"")&&Pe(c,u),g&4&&Q(e,"selected",h[2])},i:J,o:J,d(h){h&&f(e),m=!1,d()}}}function Na(a,e,t){let l,n,i;const r=Ue();let{playlist_item:o}=e,{index:s}=e,{playing_song:_}=e,{paused:u}=e;const c=async()=>{_&&i?(t(4,u=!u),r("paused",u)):r("play",o)};return a.$$set=m=>{"playlist_item"in m&&t(5,o=m.playlist_item),"index"in m&&t(0,s=m.index),"playing_song"in m&&t(6,_=m.playing_song),"paused"in m&&t(4,u=m.paused)},a.$$.update=()=>{a.$$.dirty&32&&t(1,{song:l}=o,l),a.$$.dirty&64&&t(7,n=_==null?void 0:_.song),a.$$.dirty&130&&t(2,i=n===l)},[s,l,i,c,u,o,_,n]}class jt extends ge{constructor(e){super(),pe(this,e,Na,Aa,fe,{playlist_item:5,index:0,playing_song:6,paused:4})}}function vt(a,e,t){const l=a.slice();return l[11]=e[t],l[13]=t,l}function Oa(a){let e,t,l,n=[],i=new Map,r,o,s=lt(a[0]);const _=u=>u[11];for(let u=0;u<s.length;u+=1){let c=vt(a,s,u),m=_(c);i.set(m,n[u]=bt(m,c))}return{c(){e=S("div"),t=S("div"),l=S("ul");for(let u=0;u<n.length;u+=1)n[u].c();this.h()},l(u){e=P(u,"DIV",{class:!0});var c=C(e);t=P(c,"DIV",{class:!0});var m=C(t);l=P(m,"UL",{class:!0});var d=C(l);for(let h=0;h<n.length;h+=1)n[h].l(d);d.forEach(f),m.forEach(f),c.forEach(f),this.h()},h(){p(l,"class","svelte-vdrtfq"),p(t,"class","items-wrapper svelte-vdrtfq"),p(e,"class","playlist svelte-vdrtfq")},m(u,c){A(u,e,c),E(e,t),E(t,l);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(l,null);o=!0},p(u,c){c&13&&(s=lt(u[0]),me(),n=Ol(n,c,_,1,u,s,i,l,Cl,bt,null,vt),de())},i(u){if(!o){for(let c=0;c<s.length;c+=1)w(n[c]);u&&Re(()=>{o&&(r||(r=Ae(e,Ne,{},!0)),r.run(1))}),o=!0}},o(u){for(let c=0;c<n.length;c+=1)I(n[c]);u&&(r||(r=Ae(e,Ne,{},!1)),r.run(0)),o=!1},d(u){u&&f(e);for(let c=0;c<n.length;c+=1)n[c].d();u&&r&&r.end()}}}function Ca(a){let e,t,l=a[5]&&kt(a);return{c(){l&&l.c(),e=te()},l(n){l&&l.l(n),e=te()},m(n,i){l&&l.m(n,i),A(n,e,i),t=!0},p(n,i){n[5]?l?(l.p(n,i),i&32&&w(l,1)):(l=kt(n),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(me(),I(l,1,1,()=>{l=null}),de())},i(n){t||(w(l),t=!0)},o(n){I(l),t=!1},d(n){n&&f(e),l&&l.d(n)}}}function bt(a,e){let t,l,n;return l=new jt({props:{playlist_item:e[11],index:e[13],paused:e[2],playing_song:e[3]}}),l.$on("play",e[9]),l.$on("paused",e[10]),{key:a,first:null,c(){t=te(),K(l.$$.fragment),this.h()},l(i){t=te(),j(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,r){A(i,t,r),q(l,i,r),n=!0},p(i,r){e=i;const o={};r&1&&(o.playlist_item=e[11]),r&1&&(o.index=e[13]),r&4&&(o.paused=e[2]),r&8&&(o.playing_song=e[3]),l.$set(o)},i(i){n||(w(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&f(t),F(l,i)}}}function kt(a){let e,t,l,n;return t=new jt({props:{playlist_item:a[5],index:a[4],paused:a[2],playing_song:a[3]}}),t.$on("play",a[7]),t.$on("paused",a[8]),{c(){e=S("div"),K(t.$$.fragment),this.h()},l(i){e=P(i,"DIV",{class:!0});var r=C(e);j(t.$$.fragment,r),r.forEach(f),this.h()},h(){p(e,"class","playlist svelte-vdrtfq")},m(i,r){A(i,e,r),q(t,e,null),n=!0},p(i,r){const o={};r&32&&(o.playlist_item=i[5]),r&16&&(o.index=i[4]),r&4&&(o.paused=i[2]),r&8&&(o.playing_song=i[3]),t.$set(o)},i(i){n||(w(t.$$.fragment,i),i&&Re(()=>{n&&(l||(l=Ae(e,Ne,{},!0)),l.run(1))}),n=!0)},o(i){I(t.$$.fragment,i),i&&(l||(l=Ae(e,Ne,{},!1)),l.run(0)),n=!1},d(i){i&&f(e),F(t),i&&l&&l.end()}}}function za(a){let e,t,l,n;const i=[Ca,Oa],r=[];function o(s,_){return s[1]?0:1}return e=o(a),t=r[e]=i[e](a),{c(){t.c(),l=te()},l(s){t.l(s),l=te()},m(s,_){r[e].m(s,_),A(s,l,_),n=!0},p(s,[_]){let u=e;e=o(s),e===u?r[e].p(s,_):(me(),I(r[u],1,1,()=>{r[u]=null}),de(),t=r[e],t?t.p(s,_):(t=r[e]=i[e](s),t.c()),w(t,1),t.m(l.parentNode,l))},i(s){n||(w(t),n=!0)},o(s){I(t),n=!1},d(s){s&&f(l),r[e].d(s)}}}function La(a,e,t){let l,n,i,{playlist_items:r}=e,{collapsed:o}=e,{paused:s}=e,{playing_song:_}=e;function u(h){ye.call(this,a,h)}function c(h){ye.call(this,a,h)}function m(h){ye.call(this,a,h)}function d(h){ye.call(this,a,h)}return a.$$set=h=>{"playlist_items"in h&&t(0,r=h.playlist_items),"collapsed"in h&&t(1,o=h.collapsed),"paused"in h&&t(2,s=h.paused),"playing_song"in h&&t(3,_=h.playing_song)},a.$$.update=()=>{a.$$.dirty&8&&t(6,l=_==null?void 0:_.song),a.$$.dirty&65&&t(4,n=r.findIndex(h=>h.song===l)),a.$$.dirty&17&&t(5,i=n===-1?null:r[n])},[r,o,s,_,n,i,l,u,c,m,d]}class Ma extends ge{constructor(e){super(),pe(this,e,La,za,fe,{playlist_items:0,collapsed:1,paused:2,playing_song:3})}}function yt(a){let e,t,l;function n(o,s){return o[1]?Ha:o[0]<.33?Ba:Va}let i=n(a),r=i(a);return{c(){e=S("button"),r.c(),this.h()},l(o){e=P(o,"BUTTON",{class:!0});var s=C(e);r.l(s),s.forEach(f),this.h()},h(){p(e,"class","icon_button plain")},m(o,s){A(o,e,s),r.m(e,null),t||(l=ne(e,"click",a[3]),t=!0)},p(o,s){i!==(i=n(o))&&(r.d(1),r=i(o),r&&(r.c(),r.m(e,null)))},d(o){o&&f(e),r.d(),t=!1,l()}}}function Va(a){let e;return{c(){e=le("ðŸ”Š")},l(t){e=ae(t,"ðŸ”Š")},m(t,l){A(t,e,l)},d(t){t&&f(e)}}}function Ba(a){let e;return{c(){e=le("ðŸ”‰")},l(t){e=ae(t,"ðŸ”‰")},m(t,l){A(t,e,l)},d(t){t&&f(e)}}}function Ha(a){let e;return{c(){e=le("ðŸ”‡")},l(t){e=ae(t,"ðŸ”‡")},m(t,l){A(t,e,l)},d(t){t&&f(e)}}}function Ua(a){let e,t,l,n=Math.round(a[0]*100)+"",i,r,o="%",s,_,u,c,m=a[1]&&yt(a);return{c(){e=S("label"),m&&m.c(),t=U(),l=S("small"),i=le(n),r=S("span"),r.textContent=o,s=U(),_=S("input"),this.h()},l(d){e=P(d,"LABEL",{title:!0,class:!0});var h=C(e);m&&m.l(h),t=R(h),l=P(h,"SMALL",{class:!0});var g=C(l);i=ae(g,n),r=P(g,"SPAN",{"data-svelte-h":!0}),Ve(r)!=="svelte-1bb94ef"&&(r.textContent=o),g.forEach(f),s=R(h),_=P(h,"INPUT",{class:!0,type:!0,step:!0,min:!0,max:!0}),h.forEach(f),this.h()},h(){p(l,"class","svelte-11zkzgy"),p(_,"class","plain"),p(_,"type","range"),p(_,"step",.01),p(_,"min",0),p(_,"max",1),_.value=a[0],p(e,"title","volume"),p(e,"class","svelte-11zkzgy"),Q(e,"muted",a[1])},m(d,h){A(d,e,h),m&&m.m(e,null),E(e,t),E(e,l),E(l,i),E(l,r),E(e,s),E(e,_),u||(c=ne(_,"input",a[4]),u=!0)},p(d,[h]){d[1]?m?m.p(d,h):(m=yt(d),m.c(),m.m(e,t)):m&&(m.d(1),m=null),h&1&&n!==(n=Math.round(d[0]*100)+"")&&Pe(i,n),h&1&&(_.value=d[0]),h&2&&Q(e,"muted",d[1])},i:J,o:J,d(d){d&&f(e),m&&m.d(),u=!1,c()}}}function Ra(a,e,t){const l=Ue();let{volume:n=1}=e,{muted:i=!1}=e;const r=()=>{t(1,i=!i),l("muted",i)},o=s=>{t(0,n=Number(s.currentTarget.value)),l("volume",n)};return a.$$set=s=>{"volume"in s&&t(0,n=s.volume),"muted"in s&&t(1,i=s.muted)},[n,i,l,r,o]}class Ka extends ge{constructor(e){super(),pe(this,e,Ra,Ua,fe,{volume:0,muted:1})}}function ja(a){let e;return{c(){e=le("â¸")},l(t){e=ae(t,"â¸")},m(t,l){A(t,e,l)},d(t){t&&f(e)}}}function qa(a){let e;return{c(){e=le("âµ")},l(t){e=ae(t,"âµ")},m(t,l){A(t,e,l)},d(t){t&&f(e)}}}function Fa(a){let e,t,l=a[20](a[9]||0)+"",n,i,r=a[20](a[13])+"",o,s;return{c(){e=S("div"),t=S("span"),n=le(l),i=S("span"),o=le(r),this.h()},l(_){e=P(_,"DIV",{class:!0});var u=C(e);t=P(u,"SPAN",{});var c=C(t);n=ae(c,l),c.forEach(f),i=P(u,"SPAN",{});var m=C(i);o=ae(m,r),m.forEach(f),u.forEach(f),this.h()},h(){p(e,"class","box")},m(_,u){A(_,e,u),E(e,t),E(t,n),E(e,i),E(i,o)},p(_,u){u[0]&512&&l!==(l=_[20](_[9]||0)+"")&&Pe(n,l),u[0]&8192&&r!==(r=_[20](_[13])+"")&&Pe(o,r)},i(_){_&&(s||Re(()=>{s=Gt(e,Dl,{}),s.start()}))},o:J,d(_){_&&f(e)}}}function Ga(a){let e,t;return e=new Nl({}),{c(){K(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){q(e,l,n),t=!0},p:J,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Wa(a){let e;return{c(){e=le("âˆ’")},l(t){e=ae(t,"âˆ’")},m(t,l){A(t,e,l)},d(t){t&&f(e)}}}function Ya(a){let e;return{c(){e=le("+")},l(t){e=ae(t,"+")},m(t,l){A(t,e,l)},d(t){t&&f(e)}}}function wt(a){let e,t,l,n,i,r,o;t=new Ka({props:{volume:a[6],muted:a[7]}}),t.$on("volume",a[29]),t.$on("muted",a[30]);let s=a[3]!==null&&Et(a),_=a[2]!==null&&Tt(a);return{c(){e=S("footer"),K(t.$$.fragment),l=U(),n=S("div"),s&&s.c(),i=U(),_&&_.c(),this.h()},l(u){e=P(u,"FOOTER",{class:!0});var c=C(e);j(t.$$.fragment,c),l=R(c),n=P(c,"DIV",{class:!0});var m=C(n);s&&s.l(m),i=R(m),_&&_.l(m),m.forEach(f),c.forEach(f),this.h()},h(){p(n,"class","box row"),p(e,"class","svelte-19nvor2")},m(u,c){A(u,e,c),q(t,e,null),E(e,l),E(e,n),s&&s.m(n,null),E(n,i),_&&_.m(n,null),o=!0},p(u,c){const m={};c[0]&64&&(m.volume=u[6]),c[0]&128&&(m.muted=u[7]),t.$set(m),u[3]!==null?s?s.p(u,c):(s=Et(u),s.c(),s.m(n,i)):s&&(s.d(1),s=null),u[2]!==null?_?_.p(u,c):(_=Tt(u),_.c(),_.m(n,null)):_&&(_.d(1),_=null)},i(u){o||(w(t.$$.fragment,u),u&&Re(()=>{o&&(r||(r=Ae(e,Ne,{},!0)),r.run(1))}),o=!0)},o(u){I(t.$$.fragment,u),u&&(r||(r=Ae(e,Ne,{},!1)),r.run(0)),o=!1},d(u){u&&f(e),F(t),s&&s.d(),_&&_.d(),u&&r&&r.end()}}}function Et(a){let e,t,l,n,i;return{c(){e=S("button"),t=le("ðŸ”"),this.h()},l(r){e=P(r,"BUTTON",{type:!0,class:!0,title:!0});var o=C(e);t=ae(o,"ðŸ”"),o.forEach(f),this.h()},h(){p(e,"type","button"),p(e,"class","togglable icon_button plain deselectable svelte-19nvor2"),p(e,"title",l="repeat is "+(a[3]?"enabled":"disabled")),Q(e,"selected",a[3])},m(r,o){A(r,e,o),E(e,t),n||(i=ne(e,"click",a[31]),n=!0)},p(r,o){o[0]&8&&l!==(l="repeat is "+(r[3]?"enabled":"disabled"))&&p(e,"title",l),o[0]&8&&Q(e,"selected",r[3])},d(r){r&&f(e),n=!1,i()}}}function Tt(a){let e,t,l,n,i;return{c(){e=S("button"),t=le("ðŸ”€"),this.h()},l(r){e=P(r,"BUTTON",{type:!0,class:!0,title:!0});var o=C(e);t=ae(o,"ðŸ”€"),o.forEach(f),this.h()},h(){p(e,"type","button"),p(e,"class","togglable icon_button plain deselectable svelte-19nvor2"),p(e,"title",l="shuffle is "+(a[2]?"enabled":"disabled")),Q(e,"selected",a[2])},m(r,o){A(r,e,o),E(e,t),n||(i=ne(e,"click",a[32]),n=!0)},p(r,o){o[0]&4&&l!==(l="shuffle is "+(r[2]?"enabled":"disabled"))&&p(e,"title",l),o[0]&4&&Q(e,"selected",r[2])},d(r){r&&f(e),n=!1,i()}}}function Ja(a){let e,t,l,n,i,r,o,s,_,u,c,m,d,h,g,D,z,x="â®",V,L,y,b,B,M,X="â­",se,Z,T,ue,re,_e,ee,ve,Ee;function Te(N,H){return N[10]?qa:ja}let k=Te(a),W=k(a);const oe=[Ga,Fa],$=[];function Ce(N,H){return N[11]==="pending"?0:N[13]!=null?1:-1}~(h=Ce(a))&&(g=$[h]=oe[h](a));function ze(N,H){return N[1]?Ya:Wa}let Ie=ze(a),he=Ie(a);re=new Ma({props:{playlist_items:a[5],collapsed:a[1],paused:a[0],playing_song:a[4]}}),re.$on("play",a[27]),re.$on("paused",a[28]);let G=!a[1]&&wt(a);return{c(){e=S("div"),t=S("div"),l=S("header"),n=S("button"),W.c(),r=U(),o=S("label"),s=S("input"),m=U(),d=S("div"),g&&g.c(),D=U(),z=S("button"),z.textContent=x,V=U(),L=S("button"),y=le("â¹"),B=U(),M=S("button"),M.textContent=X,se=U(),Z=S("button"),he.c(),ue=U(),K(re.$$.fragment),_e=U(),G&&G.c(),this.h()},l(N){e=P(N,"DIV",{class:!0});var H=C(e);t=P(H,"DIV",{class:!0});var v=C(t);l=P(v,"HEADER",{class:!0});var O=C(l);n=P(O,"BUTTON",{title:!0,type:!0,class:!0});var ie=C(n);W.l(ie),ie.forEach(f),r=R(O),o=P(O,"LABEL",{class:!0,title:!0});var Le=C(o);s=P(Le,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),m=R(Le),d=P(Le,"DIV",{class:!0});var $e=C(d);g&&g.l($e),$e.forEach(f),Le.forEach(f),D=R(O),z=P(O,"BUTTON",{title:!0,type:!0,class:!0,"data-svelte-h":!0}),Ve(z)!=="svelte-1v0spi6"&&(z.textContent=x),V=R(O),L=P(O,"BUTTON",{title:!0,type:!0,class:!0});var xe=C(L);y=ae(xe,"â¹"),xe.forEach(f),B=R(O),M=P(O,"BUTTON",{title:!0,type:!0,class:!0,"data-svelte-h":!0}),Ve(M)!=="svelte-af82us"&&(M.textContent=X),se=R(O),Z=P(O,"BUTTON",{title:!0,type:!0,class:!0});var et=C(Z);he.l(et),et.forEach(f),O.forEach(f),ue=R(v),j(re.$$.fragment,v),_e=R(v),G&&G.l(v),v.forEach(f),H.forEach(f),this.h()},h(){p(n,"title",i=a[10]?"play":"pause"),p(n,"type","button"),p(n,"class","icon_button plain svelte-19nvor2"),s.disabled=_=a[13]==null,p(s,"class","plain"),p(s,"type","range"),p(s,"min",0),p(s,"max",u=a[13]??1),p(s,"step",.01),s.value=c=a[9]??0,ce(s,"flex","1"),p(d,"class","timestamp svelte-19nvor2"),p(o,"class","duration box row svelte-19nvor2"),p(o,"title","time"),p(z,"title","restart or previous"),p(z,"type","button"),p(z,"class","icon_button plain svelte-19nvor2"),p(L,"title","stop"),p(L,"type","button"),p(L,"class","icon_button plain svelte-19nvor2"),L.disabled=b=!a[8],p(M,"title","next"),p(M,"type","button"),p(M,"class","icon_button plain svelte-19nvor2"),p(Z,"title",T=a[1]?"expand":"collapse"),p(Z,"type","button"),p(Z,"class","icon_button plain svelte-19nvor2"),p(l,"class","box row svelte-19nvor2"),p(t,"class","content svelte-19nvor2"),p(e,"class","media_player svelte-19nvor2")},m(N,H){A(N,e,H),E(e,t),E(t,l),E(l,n),W.m(n,null),E(l,r),E(l,o),E(o,s),E(o,m),E(o,d),~h&&$[h].m(d,null),E(l,D),E(l,z),E(l,V),E(l,L),E(L,y),E(l,B),E(l,M),E(l,se),E(l,Z),he.m(Z,null),E(t,ue),q(re,t,null),E(t,_e),G&&G.m(t,null),ee=!0,ve||(Ee=[ne(n,"click",a[22]),ne(s,"input",a[19]),ne(z,"click",a[23]),ne(L,"click",a[24]),ne(M,"click",a[25]),ne(Z,"click",a[26])],ve=!0)},p(N,H){k!==(k=Te(N))&&(W.d(1),W=k(N),W&&(W.c(),W.m(n,null))),(!ee||H[0]&1024&&i!==(i=N[10]?"play":"pause"))&&p(n,"title",i),(!ee||H[0]&8192&&_!==(_=N[13]==null))&&(s.disabled=_),(!ee||H[0]&8192&&u!==(u=N[13]??1))&&p(s,"max",u),(!ee||H[0]&512&&c!==(c=N[9]??0))&&(s.value=c);let v=h;h=Ce(N),h===v?~h&&$[h].p(N,H):(g&&(me(),I($[v],1,1,()=>{$[v]=null}),de()),~h?(g=$[h],g?g.p(N,H):(g=$[h]=oe[h](N),g.c()),w(g,1),g.m(d,null)):g=null),(!ee||H[0]&256&&b!==(b=!N[8]))&&(L.disabled=b),Ie!==(Ie=ze(N))&&(he.d(1),he=Ie(N),he&&(he.c(),he.m(Z,null))),(!ee||H[0]&2&&T!==(T=N[1]?"expand":"collapse"))&&p(Z,"title",T);const O={};H[0]&32&&(O.playlist_items=N[5]),H[0]&2&&(O.collapsed=N[1]),H[0]&1&&(O.paused=N[0]),H[0]&16&&(O.playing_song=N[4]),re.$set(O),N[1]?G&&(me(),I(G,1,1,()=>{G=null}),de()):G?(G.p(N,H),H[0]&2&&w(G,1)):(G=wt(N),G.c(),w(G,1),G.m(t,null))},i(N){ee||(w(g),w(re.$$.fragment,N),w(G),ee=!0)},o(N){I(g),I(re.$$.fragment,N),I(G),ee=!1},d(N){N&&f(e),W.d(),~h&&$[h].d(),he.d(),F(re),G&&G.d(),ve=!1,Qe(Ee)}}}const Za=.29;function Qa(a,e,t){let l,n,i,r,o,s,_,u=J,c=()=>(u(),u=Me(r,v=>t(21,_=v)),r);a.$$.on_destroy.push(()=>u());const m=Ue();let{playing_song:d}=e,{playlist_items:h}=e,{collapsed:g=!1}=e,{paused:D=!1}=e,{volume:z=1}=e,{muted:x=!1}=e,{shuffle:V=!1}=e,{repeat:L=!1}=e,y=null,b=null;const B=async v=>{if(!v||(y=v,!v.ended||v.ended===b)||(b=v.ended,await v.ended,b!==v.ended))return;const O=L?h.find(ie=>ie.song===v.song):ue();O&&m("play",O)},M=()=>{if(l)t(0,D=!D),m("paused",D);else{const v=y||ue();v&&m("play",v)}},X=()=>{m("stop")},se=async()=>{const v=i||(y==null?void 0:y.audio_el);if(!v||v.currentTime<Za){const O=T();O&&m("play",O)}else v.currentTime=0},Z=async()=>{const v=ue();v&&m("play",v)},T=()=>{if(h.length<=1)return h[0];if(V)return re(d||y);const v=d?h.findIndex(ie=>ie.song===d.song):y?h.findIndex(ie=>ie.song===y.song):1,O=v===0?h.length-1:v-1;return h[O]},ue=()=>{if(h.length<=1)return h[0];if(V)return re(d||y);const v=d?h.findIndex(ie=>ie.song===d.song):y?h.findIndex(ie=>ie.song===y.song):h.length-1,O=v===h.length-1?0:v+1;return h[O]},re=v=>{if(h.length===0)return;if(h.length===1)return h[0];let O;do O=Al(h);while(O===v);return O};let _e,ee;const ve=()=>{t(9,_e=i==null?void 0:i.currentTime),ee=requestAnimationFrame(ve)};Je(()=>{ve()}),Ze(()=>{cancelAnimationFrame(ee)});const Ee=v=>{be(v);const O=Number(v.currentTarget.value);Number.isNaN(O)||i&&(i.currentTime=O)},Te=v=>{const O=v/60|0,ie=(v|0)%60;return O+":"+(ie<10?"0":"")+ie},k=()=>M(),W=()=>se(),oe=()=>X(),$=()=>Z(),Ce=()=>t(1,g=!g);function ze(v){ye.call(this,a,v)}function Ie(v){ye.call(this,a,v)}function he(v){ye.call(this,a,v)}function G(v){ye.call(this,a,v)}const N=()=>{t(3,L=!L),m("repeat",L)},H=()=>{t(2,V=!V),m("shuffle",V)};return a.$$set=v=>{"playing_song"in v&&t(4,d=v.playing_song),"playlist_items"in v&&t(5,h=v.playlist_items),"collapsed"in v&&t(1,g=v.collapsed),"paused"in v&&t(0,D=v.paused),"volume"in v&&t(6,z=v.volume),"muted"in v&&t(7,x=v.muted),"shuffle"in v&&t(2,V=v.shuffle),"repeat"in v&&t(3,L=v.repeat)},a.$$.update=()=>{a.$$.dirty[0]&16&&console.log("[MediaPlayer playing_song]",d,d==null?void 0:d.audio_el),a.$$.dirty[0]&16&&t(8,l=!!d),a.$$.dirty[0]&16&&t(13,n=d==null?void 0:d.duration),a.$$.dirty[0]&16&&(i=d==null?void 0:d.audio_el),a.$$.dirty[0]&16&&c(t(12,r=d==null?void 0:d.audio)),a.$$.dirty[0]&2097152&&t(11,o=_==null?void 0:_.status),a.$$.dirty[0]&16&&d&&B(d),a.$$.dirty[0]&257&&t(10,s=!l||D)},[D,g,V,L,d,h,z,x,l,_e,s,o,r,n,m,M,X,se,Z,Ee,Te,_,k,W,oe,$,Ce,ze,Ie,he,G,N,H]}class Xa extends ge{constructor(e){super(),pe(this,e,Qa,Ja,fe,{playing_song:4,playlist_items:5,collapsed:1,paused:0,volume:6,muted:7,shuffle:2,repeat:3},null,[-1,-1])}}function It(a){let e,t,l;return t=new Be({props:{$$slots:{default:[xa]},$$scope:{ctx:a}}}),{c(){e=S("div"),K(t.$$.fragment),this.h()},l(n){e=P(n,"DIV",{class:!0});var i=C(e);j(t.$$.fragment,i),i.forEach(f),this.h()},h(){p(e,"class","prose box")},m(n,i){A(n,e,i),q(t,e,null),l=!0},i(n){l||(w(t.$$.fragment,n),l=!0)},o(n){I(t.$$.fragment,n),l=!1},d(n){n&&f(e),F(t)}}}function $a(a){let e;return{c(){e=le("ðŸŒ ")},l(t){e=ae(t,"ðŸŒ ")},m(t,l){A(t,e,l)},d(t){t&&f(e)}}}function xa(a){let e,t;return e=new Pl({props:{$$slots:{default:[$a]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){q(e,l,n),t=!0},p(l,n){const i={};n&524288&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function en(a){let e,t,l;function n(r){a[11](r)}let i={playing_song:a[2],playlist_items:a[8],volume:a[3],muted:a[4],paused:a[5],shuffle:a[6],repeat:a[7]};return a[0]!==void 0&&(i.collapsed=a[0]),e=new Xa({props:i}),Oe.push(()=>Wt(e,"collapsed",n)),e.$on("play",a[12]),e.$on("stop",a[13]),e.$on("paused",a[14]),e.$on("volume",a[15]),e.$on("muted",a[16]),e.$on("shuffle",a[17]),e.$on("repeat",a[18]),{c(){K(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,o){q(e,r,o),l=!0},p(r,o){const s={};o&4&&(s.playing_song=r[2]),o&8&&(s.volume=r[3]),o&16&&(s.muted=r[4]),o&32&&(s.paused=r[5]),o&64&&(s.shuffle=r[6]),o&128&&(s.repeat=r[7]),!t&&o&1&&(t=!0,s.collapsed=r[0],qt(()=>t=!1)),e.$set(s)},i(r){l||(w(e.$$.fragment,r),l=!0)},o(r){I(e.$$.fragment,r),l=!1},d(r){F(e,r)}}}function tn(a){let e,t;return e=new jl({}),{c(){K(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){q(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function ln(a){let e,t;return e=new Kl({props:{href:Lt+"/about",$$slots:{default:[tn]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){q(e,l,n),t=!0},p(l,n){const i={};n&524288&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function an(a){let e,t,l,n,i,r,o=a[1].url.pathname!=="/"&&It(a);return l=new Be({props:{$$slots:{default:[en]},$$scope:{ctx:a}}}),i=new Be({props:{$$slots:{default:[ln]},$$scope:{ctx:a}}}),{c(){e=S("div"),o&&o.c(),t=U(),K(l.$$.fragment),n=U(),K(i.$$.fragment)},l(s){e=P(s,"DIV",{});var _=C(e);o&&o.l(_),t=R(_),j(l.$$.fragment,_),n=R(_),j(i.$$.fragment,_),_.forEach(f)},m(s,_){A(s,e,_),o&&o.m(e,null),E(e,t),q(l,e,null),E(e,n),q(i,e,null),r=!0},p(s,[_]){s[1].url.pathname!=="/"?o?_&2&&w(o,1):(o=It(s),o.c(),w(o,1),o.m(e,t)):o&&(me(),I(o,1,1,()=>{o=null}),de());const u={};_&524541&&(u.$$scope={dirty:_,ctx:s}),l.$set(u);const c={};_&524288&&(c.$$scope={dirty:_,ctx:s}),i.$set(c)},i(s){r||(w(o),w(l.$$.fragment,s),w(i.$$.fragment,s),r=!0)},o(s){I(o),I(l.$$.fragment,s),I(i.$$.fragment,s),r=!1},d(s){s&&f(e),o&&o.d(),F(l),F(i)}}}const St="media_player_collapsed",nn=!1;function rn(a,e,t){let l,n,i,r,o,s,_;Y(a,zt,b=>t(1,l=b)),Y(a,Vt,b=>t(2,n=b)),Y(a,He,b=>t(3,i=b)),Y(a,qe,b=>t(4,r=b)),Y(a,Vl,b=>t(5,o=b)),Y(a,at,b=>t(6,s=b)),Y(a,nt,b=>t(7,_=b));const u=Array.from(zl.values()).map(b=>({song:b}));let c=Ll(St,nn),m=c;const d=async b=>{const{song:B}=b;await Bl(B)};function h(b){c=b,t(0,c)}const g=b=>d(b.detail),D=()=>Hl(n),z=b=>b.detail?Ul(n):Rl(n),x=b=>ke(He,i=b.detail,i),V=b=>ke(qe,r=b.detail,r),L=b=>ke(at,s=b.detail,s),y=b=>ke(nt,_=b.detail,_);return a.$$.update=()=>{a.$$.dirty&1025&&m!==c&&(t(10,m=c),Ml(St,c))},[c,l,n,i,r,o,s,_,u,d,m,h,g,D,z,x,V,L,y]}class sn extends ge{constructor(e){super(),pe(this,e,rn,an,fe,{})}}const{window:je}=Bt;function on(a){let e,t;return e=new Be({props:{$$slots:{default:[hn]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){q(e,l,n),t=!0},p(l,n){const i={};n&67108864&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function _n(a){return{c:J,l:J,m:J,p:J,i:J,o:J,d:J}}function un(a){let e,t,l,n;const i=[mn,cn],r=[];function o(s,_){return s[5]!=="success"?0:1}return e=o(a),t=r[e]=i[e](a),{c(){t.c(),l=te()},l(s){t.l(s),l=te()},m(s,_){r[e].m(s,_),A(s,l,_),n=!0},p(s,_){let u=e;e=o(s),e===u?r[e].p(s,_):(me(),I(r[u],1,1,()=>{r[u]=null}),de(),t=r[e],t?t.p(s,_):(t=r[e]=i[e](s),t.c()),w(t,1),t.m(l.parentNode,l))},i(s){n||(w(t),n=!0)},o(s){I(t),n=!1},d(s){s&&f(l),r[e].d(s)}}}function hn(a){let e,t=`<h1>blip :(</h1> <p>It looks like your browser doesn&#39;t support WebGL, and sadly this website requires it. I&#39;m
					sorry, please try another browser or device if you can. (or enable it?)</p> <p>source code is at <a href="https://github.com/ryanatkn/cosmicplayground">github.com/ryanatkn/cosmicplayground</a></p>`;return{c(){e=S("div"),e.innerHTML=t,this.h()},l(l){e=P(l,"DIV",{class:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-1ujtcob"&&(e.innerHTML=t),this.h()},h(){p(e,"class","prose")},m(l,n){A(l,e,n)},p:J,d(l){l&&f(e)}}}function cn(a){let e,t,l,n,i,r,o,s,_,u;t=new ma({props:{pixi:a[11],width:a[3].width,height:a[3].height}});let c=(!a[9].selected_portal||a[9].selected_portal.showHomeButton)&&Pt(a);const m=a[24].default,d=Fe(m,a,a[26],null);return o=new Da({}),_=new Sl({props:{$$slots:{default:[fn]},$$scope:{ctx:a}}}),{c(){e=S("div"),K(t.$$.fragment),l=U(),n=S("main"),c&&c.c(),i=U(),d&&d.c(),r=U(),K(o.$$.fragment),s=U(),K(_.$$.fragment),this.h()},l(h){e=P(h,"DIV",{class:!0,style:!0});var g=C(e);j(t.$$.fragment,g),g.forEach(f),l=R(h),n=P(h,"MAIN",{class:!0});var D=C(n);c&&c.l(D),i=R(D),d&&d.l(D),D.forEach(f),r=R(h),j(o.$$.fragment,h),s=R(h),j(_.$$.fragment,h),this.h()},h(){p(e,"class","pixi-wrapper fade-in svelte-y6kwh3"),ce(e,"width",a[3].width+"px"),ce(e,"height",a[3].height+"px"),p(n,"class","fade-in svelte-y6kwh3"),Q(n,"paused",!a[2].running),Q(n,"secret",a[1].secret_enabled),Q(n,"idle",a[8]||a[1].idle_mode)},m(h,g){A(h,e,g),q(t,e,null),A(h,l,g),A(h,n,g),c&&c.m(n,null),E(n,i),d&&d.m(n,null),A(h,r,g),q(o,h,g),A(h,s,g),q(_,h,g),u=!0},p(h,g){const D={};g&8&&(D.width=h[3].width),g&8&&(D.height=h[3].height),t.$set(D),(!u||g&8)&&ce(e,"width",h[3].width+"px"),(!u||g&8)&&ce(e,"height",h[3].height+"px"),!h[9].selected_portal||h[9].selected_portal.showHomeButton?c?g&512&&w(c,1):(c=Pt(h),c.c(),w(c,1),c.m(n,i)):c&&(me(),I(c,1,1,()=>{c=null}),de()),d&&d.p&&(!u||g&67108864)&&Ge(d,m,h,h[26],u?Ye(m,h[26],g,null):We(h[26]),null),(!u||g&4)&&Q(n,"paused",!h[2].running),(!u||g&2)&&Q(n,"secret",h[1].secret_enabled),(!u||g&258)&&Q(n,"idle",h[8]||h[1].idle_mode);const z={};g&67108864&&(z.$$scope={dirty:g,ctx:h}),_.$set(z)},i(h){u||(w(t.$$.fragment,h),w(c),w(d,h),w(o.$$.fragment,h),w(_.$$.fragment,h),u=!0)},o(h){I(t.$$.fragment,h),I(c),I(d,h),I(o.$$.fragment,h),I(_.$$.fragment,h),u=!1},d(h){h&&(f(e),f(l),f(n),f(r),f(s)),F(t),c&&c.d(),d&&d.d(h),F(o,h),F(_,h)}}}function mn(a){let e,t;return e=new El({props:{status:a[5]}}),{c(){K(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){q(e,l,n),t=!0},p(l,n){const i={};n&32&&(i.status=l[5]),e.$set(i)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Pt(a){let e,t;return e=new nl({props:{$$slots:{default:[dn]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){q(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function dn(a){let e,t;return e=new rl({}),{c(){K(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){q(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function fn(a){let e,t;return e=new sn({}),{c(){K(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){q(e,l,n),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function gn(a){let e,t,l,n;const i=[un,_n,on],r=[];function o(s,_){return s[4]?0:s[4]===null?1:2}return e=o(a),t=r[e]=i[e](a),{c(){t.c(),l=te()},l(s){t.l(s),l=te()},m(s,_){r[e].m(s,_),A(s,l,_),n=!0},p(s,_){let u=e;e=o(s),e===u?r[e].p(s,_):(me(),I(r[u],1,1,()=>{r[u]=null}),de(),t=r[e],t?t.p(s,_):(t=r[e]=i[e](s),t.c()),w(t,1),t.m(l.parentNode,l))},i(s){n||(w(t),n=!0)},o(s){I(t),n=!1},d(s){s&&f(l),r[e].d(s)}}}function pn(a){let e,t,l,n,i,r;return l=new oa({props:{selected_color_scheme:a[10],color_scheme_fallback:a[7],$$slots:{default:[gn]},$$scope:{ctx:a}}}),{c(){t=U(),K(l.$$.fragment),this.h()},l(o){At("svelte-12e3mlr",document.head).forEach(f),t=R(o),j(l.$$.fragment,o),this.h()},h(){document.title="cosmicplayground"},m(o,s){A(o,t,s),q(l,o,s),n=!0,i||(r=[Ft(e=el.call(null,je,{idle:a[16],time_to_go_idle:a[6],idle_interval_time:1e3})),ne(je,"resize",a[25]),ne(je,"keydown",a[17])],i=!0)},p(o,[s]){e&&Ct(e.update)&&s&64&&e.update.call(null,{idle:o[16],time_to_go_idle:o[6],idle_interval_time:1e3});const _={};s&128&&(_.color_scheme_fallback=o[7]),s&67109694&&(_.$$scope={dirty:s,ctx:o}),l.$set(_)},i(o){n||(w(l.$$.fragment,o),n=!0)},o(o){I(l.$$.fragment,o),n=!1},d(o){o&&f(t),F(l,o),i=!1,Qe(r)}}}function vn(a,e,t){let l,n,i,r,o,s,_,u,c,m,d,h=J,g=()=>(h(),h=Me(T,k=>t(28,d=k)),T),D,z,x,V;Y(a,zt,k=>t(20,o=k)),Y(a,Se,k=>t(27,s=k)),Y(a,He,k=>t(21,u=k)),Y(a,qe,k=>t(22,c=k)),Y(a,Vt,k=>t(23,m=k)),a.$$.on_destroy.push(()=>h());let{$$slots:L={},$$scope:y}=e;const b=De("dark");Y(a,b,k=>t(7,z=k)),Rt(z),Yt(()=>{ke(Se,s=!1,s)});let B=null;const M=new $t;console.log("pixi",M);const X=xt();Y(a,X,k=>t(2,_=k));const se=ql(De({width:window.innerWidth,height:window.innerHeight}));Y(a,se,k=>t(3,D=k)),Xt(M);const Z=Lt+"/assets/space/galaxies.jpg";let T,ue="initial";Je(async()=>{const k=re();k&&await k,t(5,ue="pending");try{M.init({width:D.width,height:D.height,sharedTicker:!0}),t(4,B=!0)}catch(oe){console.error("failed to create PixiApp",oe),t(4,B=!1),console.error(oe)}const W=await Zt.load(Z);g(t(0,T=ua(W,D.width,D.height))),M.default_scene.addChild(d.sprite),t(5,ue="success")});const re=()=>{const{hash:k}=window.location;if(k)return window.location.hash="",Ke("/"+k.substring(1),{replaceState:!0})},_e=il({audio_enabled:!0,dev_mode:!1,recording_mode:!1,idle_mode:!1,time_to_go_idle:6e3});Y(a,_e,k=>t(1,r=k)),X.resume();const ee=sl({data:ut,selected_portal:ut.portals_by_slug.get(o.url.pathname.substring(1))||null});Y(a,ee,k=>t(9,V=k)),ol(ee);const ve=De(!1);Y(a,ve,k=>t(8,x=k)),tl(ve),Tl();const Ee=async k=>{const{key:W,target:oe}=k;console.log("key",W),W==="`"&&!k.ctrlKey&&we(oe)?(be(k),X.toggle()):W==="`"&&k.ctrlKey&&we(oe)?(be(k),_e.update($=>({...$,dev_mode:!$.dev_mode}))):W==="Escape"&&!k.shiftKey&&we(k.currentTarget)?(be(k),s?(ke(Se,s=!1,s),X.resume()):(ke(Se,s=!0,s),X.pause())):W==="Escape"&&k.shiftKey&&we(oe)?(be(k),await Ke(o.url.pathname.split("/").slice(0,-1).join("/")||"/")):k.key==="!"&&k.ctrlKey&&we(oe)?o.url.pathname!=="/unlock/atlas"&&(be(k),await Ke("/unlock/atlas")):W==="-"&&!k.ctrlKey&&we(oe)?(be(k),_e.update($=>({...$,idle_mode:!$.idle_mode})),console.log("idle mode is now",r.idle_mode)):W==="="&&!k.ctrlKey&&we(oe)&&(be(k),_e.update($=>({...$,recording_mode:!$.recording_mode})),console.log("recording mode is now",r.recording_mode))},Te=()=>ke(se,D={width:window.innerWidth,height:window.innerHeight},D);return a.$$set=k=>{"$$scope"in k&&t(26,y=k.$$scope)},a.$$.update=()=>{a.$$.dirty&8&&console.log("$dimensions",D),a.$$.dirty&9&&(T==null||T.update_dimensions(D.width,D.height)),a.$$.dirty&5&&(T==null||T.tick(_.dt)),a.$$.dirty&8388608&&t(19,l=m==null?void 0:m.audio_el),a.$$.dirty&6815744&&l&&t(19,l.volume=c?0:u,l),a.$$.dirty&6815744&&l&&t(19,l.volume=c?0:He?u:1,l),a.$$.dirty&4&&al(_.dt),a.$$.dirty&1048576&&t(18,n=o.url.pathname.substring(1).split("/")[0]),a.$$.dirty&262144&&ee.select(n),a.$$.dirty&2&&t(6,i=r.dev_mode?99999999999:r.recording_mode?500:r.time_to_go_idle)},[T,r,_,D,B,ue,i,z,x,V,b,M,X,se,_e,ee,ve,Ee,n,l,o,u,c,m,L,Te,y]}class xn extends ge{constructor(e){super(),pe(this,e,vn,pn,fe,{})}}export{xn as component,$n as universal};
