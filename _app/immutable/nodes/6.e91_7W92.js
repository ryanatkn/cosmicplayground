import{n as ge,e as L,s as H,x as ne,b as C,l as U,d as b,c as N,y as ae,m as I,p as F,I as rt,i as B,o as $,J as en,F as st,L as Be,g as te,a as G,E as J,a0 as ye,a4 as bt,M as tn,G as Te,K as Ce,P as ee,Z as vn,T as yn,U as zn,V as kn,W as In,r as de,_ as Se,A as lt}from"../chunks/scheduler.0wHob__M.js";import{S as be,i as pe,c as P,a as A,m as W,t as w,b as z,d as q,g as le,e as ue,j as ze,k as nn,f as Ve}from"../chunks/index.5fTbtE3D.js";import{t as Tn}from"../chunks/tweened.xMFOL7Lj.js";import{d as se,b as v,f as et,c as tt,g as Bn,h as Dn,i as $n,q as Ee,j as En,k as Sn,l as Ln,a as Cn}from"../chunks/index.3bLhxnvS.js";import{a as Bt}from"../chunks/random.oPe0JuqT.js";import{g as pt}from"../chunks/clock.Sr0a0M49.js";import{s as mt}from"../chunks/dom.z-RU6ZBL.js";import{g as Vn}from"../chunks/dimensions.WJ8pRZoj.js";import{e as Dt}from"../chunks/dom.LE2hs0yM.js";import{b as On}from"../chunks/paths.YKIxcYXz.js";import{E as Mn}from"../chunks/EarthThumbnail.6SGCY8jm.js";import{H as an,a as Hn}from"../chunks/renderStats.d3SVKfY7.js";import{R as Nn,c as Pn,a as An,b as rn,u as nt,f as $t,d as Wn,e as Et,g as qn,T as jn,C as Rn,E as Fn,M as Gn,S as Un}from"../chunks/Camera.yFMiwmQg.js";import{P as ht}from"../chunks/Panel.gv325ouo.js";import{C as on}from"../chunks/ChunkyButton.h77vE4yb.js";import{D as Kn}from"../chunks/DeepBreathCredits.4gftFdfe.js";import{C as Yn}from"../chunks/CreditsProjectSignature.UxZi_0g5.js";import{P as Xn}from"../chunks/Preview.XycVFnSx.js";import{P as Jn}from"../chunks/PortalPreview.UXvREe28.js";import{P as Zn}from"../chunks/PortalLink.UfTvLQqv.js";import{w as _t}from"../chunks/index.c0wBgp3C.js";import{g as wt}from"../chunks/settings.Fk3TQKDX.js";import{b as _e}from"../chunks/index.SiiQPnVm.js";import{S as Qn}from"../chunks/Surface2.dCtNYOQ9.js";import{e as ot,u as sn,d as ln}from"../chunks/each.YfpP0LeT.js";import{F as ut}from"../chunks/FloatingIconButton.FbDrh2kJ.js";import{F as Xe}from"../chunks/FloatingTextButton.pmF1MYdq.js";import{r as St}from"../chunks/maths.K6m04wT8.js";const Lt=600;function xn(a){let t,n,e,o,i,r,s,l,u,f,m,h;return e=new Mn({props:{width:a[0],height:a[0]/2,animationDuration:"45s",running:a[4].running}}),{c(){t=L("div"),n=L("div"),P(e.$$.fragment),o=H(),i=L("div"),r=ne("deep breath"),this.h()},l(c){t=C(c,"DIV",{class:!0,style:!0,role:!0,"aria-label":!0,tabindex:!0});var _=U(t);n=C(_,"DIV",{class:!0});var y=U(n);A(e.$$.fragment,y),y.forEach(b),o=N(_),i=C(_,"DIV",{class:!0,style:!0});var d=U(i);r=ae(d,"deep breath"),d.forEach(b),_.forEach(b),this.h()},h(){I(n,"class","thumbnail-animation-wrapper svelte-18y6147"),I(i,"class","thumbnail-text svelte-18y6147"),F(i,"transform","scale3d("+a[3]+", "+a[3]+", "+a[3]+")"),I(t,"class","deep-breath-thumbnail svelte-18y6147"),F(t,"width",a[0]+"px"),F(t,"height",a[0]/2+"px"),I(t,"role",s=a[2]?"button":void 0),I(t,"aria-label",l=a[2]?a[1]:void 0),I(t,"tabindex",u=a[2]?0:void 0),rt(t,"buttonish",a[2])},m(c,_){B(c,t,_),$(t,n),W(e,n,null),$(t,o),$(t,i),$(i,r),f=!0,m||(h=en(t,"click",function(){st(a[2])&&a[2].apply(this,arguments)}),m=!0)},p(c,[_]){a=c;const y={};_&1&&(y.width=a[0]),_&1&&(y.height=a[0]/2),_&16&&(y.running=a[4].running),e.$set(y),(!f||_&8)&&F(i,"transform","scale3d("+a[3]+", "+a[3]+", "+a[3]+")"),(!f||_&1)&&F(t,"width",a[0]+"px"),(!f||_&1)&&F(t,"height",a[0]/2+"px"),(!f||_&4&&s!==(s=a[2]?"button":void 0))&&I(t,"role",s),(!f||_&6&&l!==(l=a[2]?a[1]:void 0))&&I(t,"aria-label",l),(!f||_&4&&u!==(u=a[2]?0:void 0))&&I(t,"tabindex",u),(!f||_&4)&&rt(t,"buttonish",a[2])},i(c){f||(w(e.$$.fragment,c),f=!0)},o(c){z(e.$$.fragment,c),f=!1},d(c){c&&b(t),q(e),m=!1,h()}}}function ea(a,t,n){let e,o,{earthWidth:i=Lt}=t,{label:r="proceed"}=t,{on_click:s=null}=t;const l=pt();return Be(a,l,u=>n(4,o=u)),a.$$set=u=>{"earthWidth"in u&&n(0,i=u.earthWidth),"label"in u&&n(1,r=u.label),"on_click"in u&&n(2,s=u.on_click)},a.$$.update=()=>{a.$$.dirty&1&&n(3,e=i/Lt)},[i,r,s,e,o,l]}class ta extends be{constructor(t){super(),pe(this,t,ea,xn,ge,{earthWidth:0,label:1,on_click:2})}}function na(a){let t,n;return t=new Hn({}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function aa(a){let t,n="The download is about 75MB of images. If that's ok with you, continue on:",e,o,i;return o=new on({props:{$$slots:{default:[oa]},$$scope:{ctx:a}}}),o.$on("click",a[4]),{c(){t=L("p"),t.textContent=n,e=H(),P(o.$$.fragment)},l(r){t=C(r,"P",{"data-svelte-h":!0}),te(t)!=="svelte-1eqb2mx"&&(t.textContent=n),e=N(r),A(o.$$.fragment,r)},m(r,s){B(r,t,s),B(r,e,s),W(o,r,s),i=!0},p(r,s){const l={};s&64&&(l.$$scope={dirty:s,ctx:r}),o.$set(l)},i(r){i||(w(o.$$.fragment,r),i=!0)},o(r){z(o.$$.fragment,r),i=!1},d(r){r&&(b(t),b(e)),q(o,r)}}}function ia(a){let t,n;return t=new Nn({props:{resources:a[0]}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,o){const i={};o&1&&(i.resources=e[0]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function ra(a){let t,n;return t=new on({props:{$$slots:{default:[sa]},$$scope:{ctx:a}}}),t.$on("click",function(){st(a[1])&&a[1].apply(this,arguments)}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,o){a=e;const i={};o&64&&(i.$$scope={dirty:o,ctx:a}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function oa(a){let t;return{c(){t=ne("continue with 75MB download!")},l(n){t=ae(n,"continue with 75MB download!")},m(n,e){B(n,t,e)},d(n){n&&b(t)}}}function sa(a){let t;return{c(){t=ne("back to the map!")},l(n){t=ae(n,"back to the map!")},m(n,e){B(n,t,e)},d(n){n&&b(t)}}}function la(a){let t,n,e="If all ice on Earth melts, how will sea levels change?",o,i,r=`Deep Breath is an interactive webpage with a rough sketch of Earth&#39;s coastlines if all ice
					melts. Most estimates range from 60 to 75 meters above 2020&#39;s oceansâ€”some are higherâ€”and
					this map shows about 65 meters. This is an extreme hypothetical: <a href="https://wikipedia.org/wiki/Sea_level_rise">Wikipedia can help put it into perspective</a>. The project&#39;s facts are flawed; see below for more details.`,s,l,u=`There&#39;s <a href="https://www.youtube.com/watch?v=7xEPqg-Kyg4">a video on YouTube with a 6 minute tour</a>
					set to music, and you can get the same experience by clicking &quot;tour&quot; on the map. The visuals
					are higher quality here than in the video, but the video is recommended for mobile devices,
					older hardware, and screens smaller than 1080p. (it doesn&#39;t currently scale the resolution)
					The code and image data are
					<a href="https://github.com/ryanatkn/cosmicplayground">open source on GitHub</a>. Credits
					are below.`,f,m,h=`This map is resource-intensive and may be broken or slow depending on your hardware and
					browser. More optimizations like <a href="https://github.com/ryanatkn/cosmicplayground/issues/56">this one</a> would help.`,c,_,y,d,p,g,k,j,E,M,Z,K,Q,Y,R=`<p>Please be aware that <strong>the project&#39;s facts are flawed:</strong></p> <ul><li>The elevation data is low resolution and the highest sea level is an approximation
						convenient to the source images. The science has wide ranging possible values for
						maximum sea level rise from what I found, and this project displays a value near the
						lower bound. I am not a scientist.</li> <li>Ice remains visible in places like Greenland and Antarctica when sea levels rise, even
						though sea level rise implies the ice has melted. This could be fixed by faking the
						revealed terrain.</li> <li>Landlocked areas below sea level fill with water even though they probably won&#39;t flood
						because they don&#39;t border the oceans. I find them interesting so I left them in, but
						they could be misleading. The most prominent examples are central Australia and the Aral
						Sea.</li></ul>`,ie;d=new Zn({props:{slug:"soggy-planet"}});const fe=[ra,ia,aa],x=[];function oe(O,S){return O[2].status==="success"?0:O[2].status!=="initial"?1:2}return E=oe(a),M=x[E]=fe[E](a),{c(){t=L("section"),n=L("h2"),n.textContent=e,o=H(),i=L("p"),i.innerHTML=r,s=H(),l=L("p"),l.innerHTML=u,f=H(),m=L("p"),m.innerHTML=h,c=H(),_=L("p"),y=ne("See also "),P(d.$$.fragment),p=ne("."),g=H(),k=L("hr"),j=H(),M.c(),Z=H(),K=L("hr"),Q=H(),Y=L("section"),Y.innerHTML=R,this.h()},l(O){t=C(O,"SECTION",{class:!0});var S=U(t);n=C(S,"H2",{"data-svelte-h":!0}),te(n)!=="svelte-1wi71o2"&&(n.textContent=e),o=N(S),i=C(S,"P",{"data-svelte-h":!0}),te(i)!=="svelte-1q1wr0n"&&(i.innerHTML=r),s=N(S),l=C(S,"P",{"data-svelte-h":!0}),te(l)!=="svelte-1apyjwi"&&(l.innerHTML=u),f=N(S),m=C(S,"P",{"data-svelte-h":!0}),te(m)!=="svelte-1xto716"&&(m.innerHTML=h),c=N(S),_=C(S,"P",{});var X=U(_);y=ae(X,"See also "),A(d.$$.fragment,X),p=ae(X,"."),X.forEach(b),S.forEach(b),g=N(O),k=C(O,"HR",{}),j=N(O),M.l(O),Z=N(O),K=C(O,"HR",{}),Q=N(O),Y=C(O,"SECTION",{class:!0,"data-svelte-h":!0}),te(Y)!=="svelte-1hx426d"&&(Y.innerHTML=R),this.h()},h(){I(t,"class","prose"),I(Y,"class","prose")},m(O,S){B(O,t,S),$(t,n),$(t,o),$(t,i),$(t,s),$(t,l),$(t,f),$(t,m),$(t,c),$(t,_),$(_,y),W(d,_,null),$(_,p),B(O,g,S),B(O,k,S),B(O,j,S),x[E].m(O,S),B(O,Z,S),B(O,K,S),B(O,Q,S),B(O,Y,S),ie=!0},p(O,S){let X=E;E=oe(O),E===X?x[E].p(O,S):(le(),z(x[X],1,1,()=>{x[X]=null}),ue(),M=x[E],M?M.p(O,S):(M=x[E]=fe[E](O),M.c()),w(M,1),M.m(Z.parentNode,Z))},i(O){ie||(w(d.$$.fragment,O),w(M),ie=!0)},o(O){z(d.$$.fragment,O),z(M),ie=!1},d(O){O&&(b(t),b(g),b(k),b(j),b(Z),b(K),b(Q),b(Y)),q(d),x[E].d(O)}}}function ua(a){let t,n,e="Credits",o,i,r;return i=new Kn({}),{c(){t=L("section"),n=L("h2"),n.textContent=e,o=H(),P(i.$$.fragment),this.h()},l(s){t=C(s,"SECTION",{class:!0});var l=U(t);n=C(l,"H2",{"data-svelte-h":!0}),te(n)!=="svelte-129hxhk"&&(n.textContent=e),o=N(l),A(i.$$.fragment,l),l.forEach(b),this.h()},h(){I(t,"class","prose")},m(s,l){B(s,t,l),$(t,n),$(t,o),W(i,t,null),r=!0},p:G,i(s){r||(w(i.$$.fragment,s),r=!0)},o(s){z(i.$$.fragment,s),r=!1},d(s){s&&b(t),q(i)}}}function fa(a){let t,n,e;return n=new Yn({}),{c(){t=L("section"),P(n.$$.fragment),this.h()},l(o){t=C(o,"SECTION",{class:!0});var i=U(t);A(n.$$.fragment,i),i.forEach(b),this.h()},h(){I(t,"class","prose")},m(o,i){B(o,t,i),W(n,t,null),e=!0},p:G,i(o){e||(w(n.$$.fragment,o),e=!0)},o(o){z(n.$$.fragment,o),e=!1},d(o){o&&b(t),q(n)}}}function ca(a){let t,n;return t=new Xn({}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function ma(a){let t,n,e,o,i,r,s,l,u,f,m,h,c,_,y;return t=new an({props:{$$slots:{default:[na]},$$scope:{ctx:a}}}),i=new ta({props:{on_click:a[3]?a[4]:null}}),s=new ht({props:{$$slots:{default:[la]},$$scope:{ctx:a}}}),u=new ht({props:{$$slots:{default:[ua]},$$scope:{ctx:a}}}),m=new ht({props:{$$slots:{default:[fa]},$$scope:{ctx:a}}}),_=new Jn({props:{href:On+"/about",$$slots:{default:[ca]},$$scope:{ctx:a}}}),{c(){P(t.$$.fragment),n=H(),e=L("div"),o=L("div"),P(i.$$.fragment),r=H(),P(s.$$.fragment),l=H(),P(u.$$.fragment),f=H(),P(m.$$.fragment),h=H(),c=L("section"),P(_.$$.fragment),this.h()},l(d){A(t.$$.fragment,d),n=N(d),e=C(d,"DIV",{class:!0});var p=U(e);o=C(p,"DIV",{class:!0});var g=U(o);A(i.$$.fragment,g),r=N(g),A(s.$$.fragment,g),l=N(g),A(u.$$.fragment,g),f=N(g),A(m.$$.fragment,g),h=N(g),c=C(g,"SECTION",{});var k=U(c);A(_.$$.fragment,k),k.forEach(b),g.forEach(b),p.forEach(b),this.h()},h(){I(o,"class","box width_md"),I(e,"class","deep_breath_title_screen box width_full svelte-rbpi7d")},m(d,p){W(t,d,p),B(d,n,p),B(d,e,p),$(e,o),W(i,o,null),$(o,r),W(s,o,null),$(o,l),W(u,o,null),$(o,f),W(m,o,null),$(o,h),$(o,c),W(_,c,null),y=!0},p(d,[p]){const g={};p&64&&(g.$$scope={dirty:p,ctx:d}),t.$set(g);const k={};p&71&&(k.$$scope={dirty:p,ctx:d}),s.$set(k);const j={};p&64&&(j.$$scope={dirty:p,ctx:d}),u.$set(j);const E={};p&64&&(E.$$scope={dirty:p,ctx:d}),m.$set(E);const M={};p&64&&(M.$$scope={dirty:p,ctx:d}),_.$set(M)},i(d){y||(w(t.$$.fragment,d),w(i.$$.fragment,d),w(s.$$.fragment,d),w(u.$$.fragment,d),w(m.$$.fragment,d),w(_.$$.fragment,d),y=!0)},o(d){z(t.$$.fragment,d),z(i.$$.fragment,d),z(s.$$.fragment,d),z(u.$$.fragment,d),z(m.$$.fragment,d),z(_.$$.fragment,d),y=!1},d(d){d&&(b(n),b(e)),q(t,d),q(i),q(s),q(u),q(m),q(_)}}}const Ct="cpg__hasLoadedDeepBreath";function ha(a,t,n){let e,o=G,i=()=>(o(),o=J(r,m=>n(2,e=m)),r);a.$$.on_destroy.push(()=>o());let{resources:r}=t;i();let{proceed:s}=t;const l=!!localStorage.getItem(Ct),u=l,f=async()=>{await r.load(),e.status==="success"&&(l||localStorage.setItem(Ct,"true"),s())};return a.$$set=m=>{"resources"in m&&i(n(0,r=m.resources)),"proceed"in m&&n(1,s=m.proceed)},[r,s,e,u,f]}class _a extends be{constructor(t){super(),pe(this,t,ha,ma,ge,{resources:0,proceed:1})}}const da=(a,t,n=!1)=>{const e=Pn(),o=1e3,i=o*2,r=o*3,s=15250,l=3201,u=1405,f=5e3,m=e.event("load");return n?(e.pan(l,u,0),e.zoom(f,0)):(e.pan(l,u,2e3),e.zoom(5,2e3),e.wait(),e.zoom(50,1e3),e.wait()),m(),n||(e.zoom(f,1e3),e.wait()),e.event("show_intro"),e.wait(a),e.event("playOceanWavesSound"),e.zoom(50,2450),e.pan(l+1,u-1,2450),e.wait(),e.zoom(12,6650),e.pan(l+3,u-7,6650),e.event("show_title"),e.wait(),e.zoom(13,1e3),e.pan(l+4,u-6,1e3),e.wait(),e.zoom(4,500),e.wait(500),e.pan(l,u,3900,se),e.zoom(6,8400,se),e.wait(2e3),e.event("play_main_song"),e.wait(1900),e.pan(2560,1090,13e3),e.wait(4500),e.zoom(2,9e3),e.wait(),e.zoomBy(.97,3e3,v),e.wait(3e3),e.pan(2520,1047,r,se),e.zoom(4.3,r),e.wait(),e.zoomBy(1.02,i,v),e.panBy(2,2,i,v),e.wait(),e.pan(2533,1247,r),e.zoom(5.1,r,se),e.wait(),e.zoomBy(.97,i,v),e.panBy(0,2,i,v),e.wait(),e.pan(2348,1215,r),e.zoom(2.3,r),e.wait(),e.zoomBy(.97,i,v),e.panBy(-3,0,i,v),e.wait(),e.pan(2110,995,r*3-i),e.zoom(6.4,r*2-i),e.wait(),e.zoomBy(1.02,i,v),e.panBy(-1,-1,i,v),e.wait(),e.pan(1894,875,r),e.zoom(4.1,r),e.wait(),e.zoomBy(.97,i,v),e.panBy(-4,-1,i,v),e.wait(),e.pan(2203,789,r),e.zoom(2.7,r,et),e.wait(),e.zoomBy(.95,i,tt),e.panBy(-10,-5,i,tt),e.wait(),e.pan(2287,689,r,se),e.zoom(6.5,r),e.wait(r),e.zoom(5.6,r),e.wait(i),e.pan(2034,600,r*2),e.wait(r),e.zoom(6.2,r),e.wait(),e.zoomBy(1.01,i,v),e.panBy(-2,-1,i,v),e.wait(),e.pan(2042,491,r),e.zoom(10.9,r),e.wait(),e.zoomBy(.9,i,se),e.panBy(0,3,i,v),e.wait(),e.pan(1981,405,r),e.zoom(9,r),e.wait(),e.panBy(-2,-2,i,v),e.zoomBy(.98,i,v),e.wait(),e.pan(1843,290,r),e.zoom(11,r,Bn),e.wait(),e.zoomBy(1.04,i,Dn),e.wait(),e.pan(2090,443,r*2),e.zoom(3,r*2),e.wait(),e.zoomBy(.98,i,v),e.panBy(2,1,i,v),e.wait(),e.pan(2155,408,r,se),e.zoom(7.5,r,$n),e.wait(),e.zoomBy(1.17,i,v),e.panBy(2,-3,i,v),e.wait(),e.pan(2176,510,r,Ee),e.zoom(10.5,r+i,et),e.wait(r),e.panBy(1,4,i,v),e.wait(),e.pan(2223,574,r),e.zoom(3.8,r,tt),e.wait(),e.zoomBy(.98,i,v),e.panBy(3,5,i,v),e.wait(),e.pan(2322,337,r),e.zoom(4.3,r,Ee),e.wait(),e.zoomBy(.98,i,v),e.panBy(1,-4,i,v),e.wait(),e.pan(2657,323,r),e.zoom(1.7,r),e.wait(),e.zoomBy(.98,i,v),e.wait(),e.pan(2546,497,r),e.zoom(4.2,r),e.wait(),e.zoomBy(1.03,i,v),e.panBy(-1,3,i,v),e.wait(),e.pan(2577,741,r*2),e.zoom(2.9,r*2,se),e.wait(),e.zoomBy(1.02,i,v),e.panBy(0,2,i,v),e.wait(),e.pan(2821,824,r),e.zoom(3.7,r),e.wait(),e.zoomBy(1.02,i,v),e.panBy(2,1,i,v),e.wait(),e.pan(3097,770,r),e.zoom(6.7,r),e.wait(),e.panBy(6,-1,i,v),e.zoomBy(1.02,i,v),e.wait(),e.pan(3216,835,r),e.zoom(4.3,r),e.wait(),e.zoomBy(.98,i,v),e.panBy(2,2,i,v),e.wait(),e.pan(3511,984,r),e.zoom(2.45,r),e.wait(),e.zoomBy(.96,i,v),e.panBy(2,1,i,v),e.wait(),e.zoomBy(1.16,r,Ee),e.panBy(2,6,r,v),e.wait(),e.pan(3589,1332,r),e.zoom(2.8,r,Ee),e.wait(),e.zoomBy(.98,i,v),e.panBy(1,3,i,v),e.wait(),e.pan(4014,1489,r),e.zoom(7,r,et),e.wait(),e.zoomBy(1.02,i,v),e.panBy(3,0,i,v),e.wait(),e.pan(4059,1229,r),e.zoom(1.4,r*2),e.wait(r+i/2),e.pan(3772,1199,r-i/2,Ee),e.wait(),e.zoomBy(.97,i,v),e.panBy(-16,-16,i,v),e.wait(),e.pan(3335,675,r),e.zoom(3.5,r),e.wait(),e.zoomBy(1.04,i,v),e.panBy(-2,-6,i,v),e.wait(),e.pan(3595,588,r),e.zoom(5.6,r),e.wait(),e.zoomBy(1.02,i,v),e.panBy(1,0,i,v),e.wait(),e.pan(3465,612,r*2,se),e.zoom(1,r*2),e.wait(),e.zoomBy(.98,i,v),e.panBy(-2,1,i,v),e.wait(),e.pan(4359,788,r,En),e.zoom(13,r,Sn),e.wait(),e.zoomBy(1.22,i,v),e.panBy(2,0,i,v),e.wait(),e.pan(4136,306,r,et),e.zoom(3,r,tt),e.wait(r),e.panBy(10,15,i),e.zoom(2.8,i/2),e.wait(i/2),e.zoom(2.9,i/2),e.wait(i/2),e.pan(5043,281,r+i,Ee),e.zoom(2.4,i),e.wait(i),e.zoom(2,r,se),e.wait(),e.zoomBy(1.03,i,v),e.panBy(4,0,i,v),e.wait(),e.pan(4743,478,r),e.zoom(9.1,r,Ln),e.wait(),e.zoomBy(1.02,i,v),e.panBy(-2,3,i,v),e.wait(),e.pan(4775,578,r),e.zoom(10.1,r),e.wait(),e.zoomBy(1.03,i,v),e.panBy(0,3,i,v),e.wait(),e.pan(4695,602,r),e.zoom(3,r),e.wait(),e.zoomBy(.98,i,v),e.panBy(1,1,i,v),e.wait(),e.pan(4999,732,r),e.zoom(4.6,r,se),e.wait(),e.zoomBy(.98,i,v),e.panBy(3,1,i,v),e.wait(),e.pan(5160,673,r),e.zoom(6.8,r),e.wait(),e.zoomBy(1.04,i,v),e.panBy(3,0,i,v),e.wait(),e.pan(5297,549,r),e.zoom(4.7,r),e.wait(),e.zoomBy(.98,i,v),e.panBy(2,-3,i,v),e.wait(),e.pan(5290,776,r),e.zoom(5.6,r,se),e.wait(),e.zoomBy(.97,i,v),e.panBy(0,2,i,v),e.wait(),e.pan(5176,872,r),e.zoom(4.7,r),e.wait(),e.zoomBy(.98,i,v),e.panBy(0,2,i,v),e.wait(),e.pan(5395,908,r),e.zoom(5.6,r),e.wait(),e.zoomBy(1.01,i,v),e.panBy(2,0,i,v),e.wait(),e.pan(5510,1052,r),e.zoom(5.1,r),e.wait(),e.zoomBy(.98,i,v),e.panBy(1,2,i,v),e.wait(),e.pan(5414,1011,r),e.zoom(2,r),e.wait(),e.zoomBy(.97,i,v),e.wait(),e.pan(5538,1416,r),e.zoom(2.2,r,se),e.wait(),e.zoomBy(.98,i,v),e.panBy(1,4,i,v),e.wait(),e.pan(5163,1016,r*2-i/2,se),e.zoom(.6,r*2-i/2),e.wait(),e.zoomBy(.985,i/2,v),e.panBy(7,-6,i/2,v),e.wait(),e.pan(7764,895,s,Ee),e.zoom(.66,r),e.wait(r),e.zoom(.56,r),e.wait(r),e.zoom(.7,r),e.wait(r),e.zoom(.6,s-r*3-2e3),e.wait(s-r*3-2e3),e.zoom(5,r,Ee),e.wait(r),e.zoomBy(.85,500),e.wait(500),e.event("debug_final_zoom_in"),e.zoom(400,1e3),e.wait(),e.wait(1e3),e.event("show_title"),e.wait(t),e.event("show_credits"),e.event("playOceanWavesSound"),e.wait(1e9),e.zoomBy(1,0),e.finalize()};function ga(a){let t,n,e,o='If all ice on <span class="earth-text svelte-oczlsv">Earth</span> melts,',i,r,s,l,u="how will sea levels change?",f,m,h,c,_="This is a rough sketch.",y,d,p;return{c(){t=L("div"),n=L("div"),e=L("div"),e.innerHTML=o,r=H(),s=L("div"),l=L("div"),l.textContent=u,m=H(),h=L("div"),c=L("div"),c.textContent=_,this.h()},l(g){t=C(g,"DIV",{class:!0});var k=U(t);n=C(k,"DIV",{class:!0,style:!0});var j=U(n);e=C(j,"DIV",{"data-svelte-h":!0}),te(e)!=="svelte-4tuvff"&&(e.innerHTML=o),j.forEach(b),r=N(k),s=C(k,"DIV",{class:!0,style:!0});var E=U(s);l=C(E,"DIV",{"data-svelte-h":!0}),te(l)!=="svelte-1cvn0jo"&&(l.textContent=u),E.forEach(b),m=N(k),h=C(k,"DIV",{class:!0,style:!0});var M=U(h);c=C(M,"DIV",{"data-svelte-h":!0}),te(c)!=="svelte-1j33ysy"&&(c.textContent=_),M.forEach(b),k.forEach(b),this.h()},h(){I(n,"class","text svelte-oczlsv"),I(n,"style",a[3]),I(s,"class","text svelte-oczlsv"),I(s,"style",a[3]),I(h,"class","text final-text svelte-oczlsv"),I(h,"style",a[3]),I(t,"class","tour-title svelte-oczlsv")},m(g,k){B(g,t,k),$(t,n),$(n,e),$(t,r),$(t,s),$(s,l),$(t,m),$(t,h),$(h,c),p=!0},p(g,[k]){a=g,(!p||k&8)&&I(n,"style",a[3]),(!p||k&8)&&I(s,"style",a[3]),(!p||k&8)&&I(h,"style",a[3])},i(g){p||(g&&(i||ye(()=>{i=ze(e,_e,{duration:a[0],amount:at}),i.start()})),g&&(f||ye(()=>{f=ze(l,_e,{duration:a[0],amount:at,delay:a[4]}),f.start()})),g&&(y||ye(()=>{y=ze(c,_e,{duration:a[0],amount:at,delay:a[2]}),y.start()})),d&&d.end(1),p=!0)},o(g){g&&(d=nn(t,_e,{duration:a[1],amount:at})),p=!1},d(g){g&&b(t),g&&d&&d.end()}}}const at=99;function ba(a,t,n){let e,{hide:o}=t,{totalDuration:i}=t,{transitionInDuration:r}=t,{transitionOutDuration:s}=t,{maxDelay:l}=t;const u=Math.min(l,2e3);let f;return bt(()=>{f=setTimeout(()=>o(),i-s)}),tn(()=>{clearTimeout(f)}),a.$$set=m=>{"hide"in m&&n(5,o=m.hide),"totalDuration"in m&&n(6,i=m.totalDuration),"transitionInDuration"in m&&n(0,r=m.transitionInDuration),"transitionOutDuration"in m&&n(1,s=m.transitionOutDuration),"maxDelay"in m&&n(2,l=m.maxDelay)},a.$$.update=()=>{a.$$.dirty&64&&n(3,e=`animation-duration: ${i}ms;`)},[r,s,l,e,u,o,i]}class pa extends be{constructor(t){super(),pe(this,t,ba,ga,ge,{hide:5,totalDuration:6,transitionInDuration:0,transitionOutDuration:1,maxDelay:2})}}function wa(a){let t,n,e,o="deep",i,r,s,l,u="breath",f,m,h;return{c(){t=L("div"),n=L("div"),e=L("div"),e.textContent=o,r=H(),s=L("div"),l=L("div"),l.textContent=u,this.h()},l(c){t=C(c,"DIV",{class:!0});var _=U(t);n=C(_,"DIV",{class:!0,style:!0});var y=U(n);e=C(y,"DIV",{"data-svelte-h":!0}),te(e)!=="svelte-1rl9bve"&&(e.textContent=o),y.forEach(b),r=N(_),s=C(_,"DIV",{class:!0,style:!0});var d=U(s);l=C(d,"DIV",{"data-svelte-h":!0}),te(l)!=="svelte-152l3jn"&&(l.textContent=u),d.forEach(b),_.forEach(b),this.h()},h(){I(n,"class","text svelte-1nsditn"),I(n,"style",a[2]),I(s,"class","text svelte-1nsditn"),I(s,"style",a[2]),I(t,"class","tour-title svelte-1nsditn")},m(c,_){B(c,t,_),$(t,n),$(n,e),$(t,r),$(t,s),$(s,l),h=!0},p(c,[_]){a=c,(!h||_&4)&&I(n,"style",a[2]),(!h||_&4)&&I(s,"style",a[2])},i(c){h||(c&&(i||ye(()=>{i=ze(e,_e,{duration:a[0],amount:dt}),i.start()})),c&&(f||ye(()=>{f=ze(l,_e,{duration:a[0],amount:dt,delay:a[1]}),f.start()})),m&&m.end(1),h=!0)},o(c){c&&(m=nn(t,_e,{duration:a[0],amount:dt})),h=!1},d(c){c&&b(t),c&&m&&m.end()}}}const dt=99;function va(a,t,n){let e,o,{hide:i}=t,{transitionDuration:r}=t,{pauseDuration:s}=t,{maxDelay:l}=t,u;return bt(()=>{u=setTimeout(()=>i(),r+l+s)}),tn(()=>{clearTimeout(u)}),a.$$set=f=>{"hide"in f&&n(3,i=f.hide),"transitionDuration"in f&&n(0,r=f.transitionDuration),"pauseDuration"in f&&n(4,s=f.pauseDuration),"maxDelay"in f&&n(1,l=f.maxDelay)},a.$$.update=()=>{a.$$.dirty&17&&n(5,e=r*2+s),a.$$.dirty&32&&n(2,o=`animation-duration: ${e}ms;`)},[r,l,o,i,s,e]}class ya extends be{constructor(t){super(),pe(this,t,va,wa,ge,{hide:3,transitionDuration:0,pauseDuration:4,maxDelay:1})}}function za(a){let t,n,e=`<h2 class="svelte-1iur3fz">created by</h2>
		Ryan Atkinson<br/> <a href="https://www.ryanatkn.com" class="svelte-1iur3fz">ryanatkn.com</a>`,o,i,r,s='<h2 class="svelte-1iur3fz">interactive webpage</h2> <a href="https://www.cosmicplayground.org/deep-breath" class="svelte-1iur3fz">cosmicplayground.org/deep-breath</a>',l,u,f,m='<h2 class="svelte-1iur3fz">open source code &amp; assets</h2> <a href="https://github.com/ryanatkn/cosmicplayground" class="svelte-1iur3fz">github.com/ryanatkn/cosmicplayground</a>',h,c,_,y=`<h2 class="svelte-1iur3fz">music</h2>
		&quot;Winter&quot; by Alexander Nakarada<br/> <a href="https://www.serpentsoundstudios.com" class="svelte-1iur3fz">serpentsoundstudios.com</a>`,d,p,g,k=`<h2 class="svelte-1iur3fz">imagery &amp; data</h2> <a href="https://visibleearth.nasa.gov/collection/1484/blue-marble" class="svelte-1iur3fz">Blue Marble Next Generation</a>
		by Reto StÃ¶ckli <br/> <a href="https://visibleearth.nasa.gov" class="svelte-1iur3fz">NASA Visible Earth</a> and
		<a href="https://earthobservatory.nasa.gov" class="svelte-1iur3fz">NASA Earth Observatory</a>
		(2004) <br/> <br/> Earth <a href="https://visibleearth.nasa.gov/images/73934/topography" class="svelte-1iur3fz">topography</a> and
		<a href="https://visibleearth.nasa.gov/images/73963/bathymetry" class="svelte-1iur3fz">bathymetry</a>
		by Jesse Allen <br/> <a href="https://visibleearth.nasa.gov" class="svelte-1iur3fz">NASA Visible Earth</a> and
		<a href="https://earthobservatory.nasa.gov" class="svelte-1iur3fz">NASA Earth Observatory</a> <br/> using data from the
		<a href="https://www.gebco.net/" class="svelte-1iur3fz">General Bathymetric Chart of the Oceans</a> <br/> produced by the <a href="https://www.bodc.ac.uk/" class="svelte-1iur3fz">British Oceanographic Data Centre</a> (2005)`,j;return{c(){t=L("div"),n=L("section"),n.innerHTML=e,i=H(),r=L("section"),r.innerHTML=s,u=H(),f=L("section"),f.innerHTML=m,c=H(),_=L("section"),_.innerHTML=y,p=H(),g=L("section"),g.innerHTML=k,this.h()},l(E){t=C(E,"DIV",{class:!0});var M=U(t);n=C(M,"SECTION",{class:!0,"data-svelte-h":!0}),te(n)!=="svelte-es6ik4"&&(n.innerHTML=e),i=N(M),r=C(M,"SECTION",{class:!0,"data-svelte-h":!0}),te(r)!=="svelte-honlk9"&&(r.innerHTML=s),u=N(M),f=C(M,"SECTION",{class:!0,"data-svelte-h":!0}),te(f)!=="svelte-jdrscv"&&(f.innerHTML=m),c=N(M),_=C(M,"SECTION",{class:!0,"data-svelte-h":!0}),te(_)!=="svelte-x4ggcf"&&(_.innerHTML=y),p=N(M),g=C(M,"SECTION",{class:!0,"data-svelte-h":!0}),te(g)!=="svelte-1eldbgm"&&(g.innerHTML=k),M.forEach(b),this.h()},h(){I(n,"class","svelte-1iur3fz"),I(r,"class","svelte-1iur3fz"),I(f,"class","svelte-1iur3fz"),I(_,"class","svelte-1iur3fz"),I(g,"class","svelte-1iur3fz"),I(t,"class","tour-credits prose svelte-1iur3fz"),rt(t,"displayForVideo",a[1])},m(E,M){B(E,t,M),$(t,n),$(t,i),$(t,r),$(t,u),$(t,f),$(t,c),$(t,_),$(t,p),$(t,g)},p(E,[M]){a=E,M&2&&rt(t,"displayForVideo",a[1])},i(E){E&&(o||ye(()=>{o=ze(n,_e,{duration:a[0],amount:Ye}),o.start()})),E&&(l||ye(()=>{l=ze(r,_e,{duration:a[0],delay:it*1,amount:Ye}),l.start()})),E&&(h||ye(()=>{h=ze(f,_e,{duration:a[0],delay:it*2,amount:Ye}),h.start()})),E&&(d||ye(()=>{d=ze(_,_e,{duration:a[0],delay:it*3,amount:Ye}),d.start()})),E&&(j||ye(()=>{j=ze(g,_e,{duration:a[0],delay:it*4,amount:Ye}),j.start()}))},o:G,d(E){E&&b(t)}}}const it=250,Ye=20;function ka(a,t,n){let e,o;const i=wt();Be(a,i,s=>n(3,o=s));let{transitionDuration:r}=t;return a.$$set=s=>{"transitionDuration"in s&&n(0,r=s.transitionDuration)},a.$$.update=()=>{a.$$.dirty&8&&n(1,e=o.recording_mode)},[r,e,i,o]}class Ia extends be{constructor(t){super(),pe(this,t,ka,za,ge,{transitionDuration:0})}}function Vt(a){let t,n,e,o,i=a[16]&&Ot(a),r=a[15]&&Mt(a),s=a[14]&&Ht();return{c(){t=L("div"),i&&i.c(),n=H(),r&&r.c(),e=H(),s&&s.c(),this.h()},l(l){t=C(l,"DIV",{class:!0});var u=U(t);i&&i.l(u),n=N(u),r&&r.l(u),e=N(u),s&&s.l(u),u.forEach(b),this.h()},h(){I(t,"class","tour svelte-1ryehd")},m(l,u){B(l,t,u),i&&i.m(t,null),$(t,n),r&&r.m(t,null),$(t,e),s&&s.m(t,null),o=!0},p(l,u){l[16]?i?(i.p(l,u),u[0]&65536&&w(i,1)):(i=Ot(l),i.c(),w(i,1),i.m(t,n)):i&&(le(),z(i,1,1,()=>{i=null}),ue()),l[15]?r?(r.p(l,u),u[0]&32768&&w(r,1)):(r=Mt(l),r.c(),w(r,1),r.m(t,e)):r&&(le(),z(r,1,1,()=>{r=null}),ue()),l[14]?s?(s.p(l,u),u[0]&16384&&w(s,1)):(s=Ht(),s.c(),w(s,1),s.m(t,null)):s&&(le(),z(s,1,1,()=>{s=null}),ue())},i(l){o||(w(i),w(r),w(s),o=!0)},o(l){z(i),z(r),z(s),o=!1},d(l){l&&b(t),i&&i.d(),r&&r.d(),s&&s.d()}}}function Ot(a){let t,n;return t=new pa({props:{hide:a[27],totalDuration:a[20],transitionInDuration:un,transitionOutDuration:fn,maxDelay:cn}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,o){const i={};o[0]&65536&&(i.hide=e[27]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Mt(a){let t,n;return t=new ya({props:{hide:a[28],transitionDuration:vt,pauseDuration:mn,maxDelay:hn}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,o){const i={};o[0]&32768&&(i.hide=e[28]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Ht(a){let t,n;return t=new Ia({props:{transitionDuration:vt}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p:G,i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Ta(a){let t,n,e,o,i,r,s,l,u,f=a[11]&&Vt(a);function m(g){a[31](g)}function h(g){a[32](g)}function c(g){a[33](g)}function _(g){a[34](g)}function y(g){a[35](g)}function d(g){a[36](g)}let p={camera:a[7],clock:a[17],hooks:a[22],create_tour_data:a[29]};return a[2]!==void 0&&(p.touring=a[2]),a[3]!==void 0&&(p.tourData=a[3]),a[4]!==void 0&&(p.currentTime=a[4]),a[5]!==void 0&&(p.currentStepIndex=a[5]),a[0]!==void 0&&(p.paused=a[0]),a[6]!==void 0&&(p.begin_tour=a[6]),n=new An({props:p}),a[30](n),Te.push(()=>Ve(n,"touring",m)),Te.push(()=>Ve(n,"tourData",h)),Te.push(()=>Ve(n,"currentTime",c)),Te.push(()=>Ve(n,"currentStepIndex",_)),Te.push(()=>Ve(n,"paused",y)),Te.push(()=>Ve(n,"begin_tour",d)),n.$on("begin",a[37]),{c(){f&&f.c(),t=H(),P(n.$$.fragment)},l(g){f&&f.l(g),t=N(g),A(n.$$.fragment,g)},m(g,k){f&&f.m(g,k),B(g,t,k),W(n,g,k),u=!0},p(g,k){g[11]?f?(f.p(g,k),k[0]&2048&&w(f,1)):(f=Vt(g),f.c(),w(f,1),f.m(t.parentNode,t)):f&&(le(),z(f,1,1,()=>{f=null}),ue());const j={};k[0]&128&&(j.camera=g[7]),k[0]&8192&&(j.create_tour_data=g[29]),!e&&k[0]&4&&(e=!0,j.touring=g[2],Ce(()=>e=!1)),!o&&k[0]&8&&(o=!0,j.tourData=g[3],Ce(()=>o=!1)),!i&&k[0]&16&&(i=!0,j.currentTime=g[4],Ce(()=>i=!1)),!r&&k[0]&32&&(r=!0,j.currentStepIndex=g[5],Ce(()=>r=!1)),!s&&k[0]&1&&(s=!0,j.paused=g[0],Ce(()=>s=!1)),!l&&k[0]&64&&(l=!0,j.begin_tour=g[6],Ce(()=>l=!1)),n.$set(j)},i(g){u||(w(f),w(n.$$.fragment,g),u=!0)},o(g){z(f),z(n.$$.fragment,g),u=!1},d(g){g&&b(t),f&&f.d(g),a[30](null),q(n,g)}}}const Nt="/assets/audio/Alexander_Nakarada__Winter.mp3",Pt="/assets/audio/ocean_waves.mp3",un=2e3,fn=2e3,Ba=3e3,cn=6e3,vt=2e3,mn=3e3,hn=250;function Da(a,t,n){let e,o,i,r,s,l=G,u=()=>(l(),l=J(me,T=>n(43,s=T)),me),f,m=G,h=()=>(m(),m=J(V,T=>n(14,f=T)),V),c,_=G,y=()=>(_(),_=J(ce,T=>n(15,c=T)),ce),d,p=G,g=()=>(p(),p=J(he,T=>n(16,d=T)),he),k,j=G,E=()=>(j(),j=J(X,T=>n(44,k=T)),X),M,Z=G,K=()=>(Z(),Z=J(O,T=>n(11,M=T)),O),Q,Y=G,R=()=>(Y(),Y=J(S,T=>n(24,Q=T)),S),ie,fe;a.$$.on_destroy.push(()=>l()),a.$$.on_destroy.push(()=>m()),a.$$.on_destroy.push(()=>_()),a.$$.on_destroy.push(()=>p()),a.$$.on_destroy.push(()=>j()),a.$$.on_destroy.push(()=>Z()),a.$$.on_destroy.push(()=>Y());let{camera:x}=t,{tour:oe=void 0}=t,{touring:O=void 0}=t;K();let{tourData:S=void 0}=t;R();let{currentTime:X=void 0}=t;E();let{currentStepIndex:ke=void 0}=t,{paused:re=void 0}=t,{begin_tour:Ie=void 0}=t;const he=_t(!1);g();const ce=_t(!1);y();const V=_t(!1);h();let{scale:me}=x;u();const je=pt(),Re=wt();Be(a,Re,T=>n(26,fe=T));const De=rn();Be(a,De,T=>n(25,ie=T)),De.addResource("audio",Nt),De.addResource("audio",Pt);let we,ve;const Oe=un+cn+Ba+fn,Le=vt*2+hn+mn;let $e=re;const Fe=T=>{nt(we.audio,i,k,e,T),nt(ve.audio,r,k,e,T)},yt={event:(T,xe)=>{switch(T){case"load":return De.load();case"playOceanWavesSound":{ve.audio.currentTime=0,e&&ve.audio.play();return}case"play_main_song":{we.audio.currentTime=0,e&&we.audio.play();break}case"show_intro":{ee(he,d=!0,d);return}case"show_title":{ee(ce,c=!0,c);return}case"show_credits":{ee(V,f=!0,f);return}}},seek:(T,xe)=>{if(!we.audio)throw Error("seek expects expected mainSong.audio");if(!ve.audio)throw Error("seek expects expected oceanWavesSound.audio");if(!i)throw Error("seek expects mainSongStep");if(!r)throw Error("seek expects oceanWavesStep");nt(we.audio,i,T,e,re),nt(ve.audio,r,T,e,re),ee(he,d=!1,d),ee(ce,c=!1,c),ee(V,f=!1,f)},done:T=>{ee(he,d=!1,d),ee(ce,c=!1,c),ee(V,f=!1,f),s>50&&ee(me,s=50,s),we.audio&&!we.audio.paused&&we.audio.pause(),ve.audio&&!ve.audio.paused&&ve.audio.pause()}},Je=()=>ee(he,d=!1,d),Me=()=>ee(ce,c=!1,c),Ge=()=>da(Oe,Le,o);function He(T){Te[T?"unshift":"push"](()=>{oe=T,n(1,oe)})}function Ze(T){O=T,K(n(2,O))}function ft(T){S=T,R(n(3,S))}function Ne(T){X=T,E(n(4,X))}function Pe(T){ke=T,n(5,ke)}function Ae(T){re=T,n(0,re)}function We(T){Ie=T,n(6,Ie)}function Qe(T){vn.call(this,a,T)}return a.$$set=T=>{"camera"in T&&n(7,x=T.camera),"tour"in T&&n(1,oe=T.tour),"touring"in T&&K(n(2,O=T.touring)),"tourData"in T&&R(n(3,S=T.tourData)),"currentTime"in T&&E(n(4,X=T.currentTime)),"currentStepIndex"in T&&n(5,ke=T.currentStepIndex),"paused"in T&&n(0,re=T.paused),"begin_tour"in T&&n(6,Ie=T.begin_tour)},a.$$.update=()=>{a.$$.dirty[0]&128&&u(n(12,{scale:me}=x,me)),a.$$.dirty[0]&67108864&&n(13,{audio_enabled:e,dev_mode:o}=fe,o),a.$$.dirty[0]&33554432&&(we=ie.resources.find(T=>T.url===Nt)),a.$$.dirty[0]&33554432&&(ve=ie.resources.find(T=>T.url===Pt)),a.$$.dirty[0]&16777216&&(i=Q&&$t(Q,"play_main_song")),a.$$.dirty[0]&16777216&&(r=Q&&$t(Q,"playOceanWavesSound")),a.$$.dirty[0]&8390657&&M&&re!==void 0&&re!==$e&&(n(23,$e=re),Fe(re))},[re,oe,O,S,X,ke,Ie,x,he,ce,V,M,me,o,f,c,d,je,Re,De,Oe,Le,yt,$e,Q,ie,fe,Je,Me,Ge,He,Ze,ft,Ne,Pe,Ae,We,Qe]}class $a extends be{constructor(t){super(),pe(this,t,Da,Ta,ge,{camera:7,tour:1,touring:2,tourData:3,currentTime:4,currentStepIndex:5,paused:0,begin_tour:6,showTourIntro:8,showTourTitle:9,showTourCredits:10},null,[-1,-1])}get showTourIntro(){return this.$$.ctx[8]}get showTourTitle(){return this.$$.ctx[9]}get showTourCredits(){return this.$$.ctx[10]}}function Ea(a){let t,n,e;const o=a[8].default,i=yn(o,a,a[9],null);return{c(){t=L("div"),n=L("div"),i&&i.c(),this.h()},l(r){t=C(r,"DIV",{class:!0});var s=U(t);n=C(s,"DIV",{class:!0,style:!0});var l=U(n);i&&i.l(l),l.forEach(b),s.forEach(b),this.h()},h(){I(n,"class","transform-wrapper svelte-10bve70"),F(n,"transform","scale3d("+a[4]+", "+a[4]+", 1) translate3d("+a[2]+"px, "+a[3]+"px, 0)"),F(n,"width",a[0]+"px"),F(n,"height",a[1]+"px"),I(t,"class","image-viewer svelte-10bve70")},m(r,s){B(r,t,s),$(t,n),i&&i.m(n,null),e=!0},p(r,s){i&&i.p&&(!e||s&512)&&zn(i,o,r,r[9],e?In(o,r[9],s,null):kn(r[9]),null),(!e||s&28)&&F(n,"transform","scale3d("+r[4]+", "+r[4]+", 1) translate3d("+r[2]+"px, "+r[3]+"px, 0)"),(!e||s&1)&&F(n,"width",r[0]+"px"),(!e||s&2)&&F(n,"height",r[1]+"px")},i(r){e||(w(i,r),e=!0)},o(r){z(i,r),e=!1},d(r){r&&b(t),i&&i.d(r)}}}function Sa(a){let t,n;return t=new Qn({props:{width:a[0],height:a[1],scale:a[4],zoom:a[5],pan:a[6],disabled:!a[7],$$slots:{default:[Ea]},$$scope:{ctx:a}}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,[o]){const i={};o&1&&(i.width=e[0]),o&2&&(i.height=e[1]),o&16&&(i.scale=e[4]),o&32&&(i.zoom=e[5]),o&64&&(i.pan=e[6]),o&128&&(i.disabled=!e[7]),o&543&&(i.$$scope={dirty:o,ctx:e}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function La(a,t,n){let{$$slots:e={},$$scope:o}=t,{width:i}=t,{height:r}=t,{x:s}=t,{y:l}=t,{scale:u}=t,{zoom_camera:f}=t,{move_camera:m}=t,{input_enabled:h=!0}=t;return a.$$set=c=>{"width"in c&&n(0,i=c.width),"height"in c&&n(1,r=c.height),"x"in c&&n(2,s=c.x),"y"in c&&n(3,l=c.y),"scale"in c&&n(4,u=c.scale),"zoom_camera"in c&&n(5,f=c.zoom_camera),"move_camera"in c&&n(6,m=c.move_camera),"input_enabled"in c&&n(7,h=c.input_enabled),"$$scope"in c&&n(9,o=c.$$scope)},[i,r,s,l,u,f,m,h,e,o]}class Ca extends be{constructor(t){super(),pe(this,t,La,Sa,ge,{width:0,height:1,x:2,y:3,scale:4,zoom_camera:5,move_camera:6,input_enabled:7})}}function At(a,t,n){const e=a.slice();return e[4]=t[n],e[6]=n,e}function Wt(a,t){let n,e;return{key:a,first:null,c(){n=L("img"),this.h()},l(o){n=C(o,"IMG",{src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){Se(n.src,e=t[4])||I(n,"src",e),I(n,"alt",t[1]),F(n,"opacity",t[2][t[6]]),F(n,"z-index",Et(t[0].length,t[6],t[2][t[6]])),I(n,"class","svelte-vqzya9"),this.first=n},m(o,i){B(o,n,i)},p(o,i){t=o,i&1&&!Se(n.src,e=t[4])&&I(n,"src",e),i&2&&I(n,"alt",t[1]),i&5&&F(n,"opacity",t[2][t[6]]),i&5&&F(n,"z-index",Et(t[0].length,t[6],t[2][t[6]]))},d(o){o&&b(n)}}}function Va(a){let t=[],n=new Map,e,o=ot(a[0]);const i=r=>r[4];for(let r=0;r<o.length;r+=1){let s=At(a,o,r),l=i(s);n.set(l,t[r]=Wt(l,s))}return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=de()},l(r){for(let s=0;s<t.length;s+=1)t[s].l(r);e=de()},m(r,s){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(r,s);B(r,e,s)},p(r,[s]){s&7&&(o=ot(r[0]),t=sn(t,s,i,1,r,o,n,e.parentNode,ln,Wt,e,At))},i:G,o:G,d(r){r&&b(e);for(let s=0;s<t.length;s+=1)t[s].d(r)}}}function Oa(a,t,n){let e,{images:o}=t,{value:i}=t,{alt:r}=t;return a.$$set=s=>{"images"in s&&n(0,o=s.images),"value"in s&&n(3,i=s.value),"alt"in s&&n(1,r=s.alt)},a.$$.update=()=>{a.$$.dirty&9&&n(2,e=Wn(o.length,i))},[o,r,e,i]}class qt extends be{constructor(t){super(),pe(this,t,Oa,Va,ge,{images:0,value:3,alt:1})}}function jt(a,t,n){const e=a.slice();return e[6]=t[n],e[8]=n,e}function Rt(a,t){let n,e;return{key:a,first:null,c(){n=L("img"),this.h()},l(o){n=C(o,"IMG",{src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){Se(n.src,e=t[6])||I(n,"src",e),I(n,"alt",t[1]),F(n,"opacity",t[4][t[8]]),F(n,"z-index",t[3]===void 0||t[8]===t[3]?t[2]:t[2]+1),I(n,"class","svelte-vqzya9"),this.first=n},m(o,i){B(o,n,i)},p(o,i){t=o,i&1&&!Se(n.src,e=t[6])&&I(n,"src",e),i&2&&I(n,"alt",t[1]),i&17&&F(n,"opacity",t[4][t[8]]),i&13&&F(n,"z-index",t[3]===void 0||t[8]===t[3]?t[2]:t[2]+1)},d(o){o&&b(n)}}}function Ma(a){let t=[],n=new Map,e,o=ot(a[0]);const i=r=>r[6];for(let r=0;r<o.length;r+=1){let s=jt(a,o,r),l=i(s);n.set(l,t[r]=Rt(l,s))}return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=de()},l(r){for(let s=0;s<t.length;s+=1)t[s].l(r);e=de()},m(r,s){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(r,s);B(r,e,s)},p(r,[s]){s&31&&(o=ot(r[0]),t=sn(t,s,i,1,r,o,n,e.parentNode,ln,Rt,e,jt))},i:G,o:G,d(r){r&&b(e);for(let s=0;s<t.length;s+=1)t[s].d(r)}}}function Ha(a,t,n){let e,{images:o}=t,{value:i}=t,{alt:r}=t,{zIndex:s=1}=t,{floorIndex:l=void 0}=t;return a.$$set=u=>{"images"in u&&n(0,o=u.images),"value"in u&&n(5,i=u.value),"alt"in u&&n(1,r=u.alt),"zIndex"in u&&n(2,s=u.zIndex),"floorIndex"in u&&n(3,l=u.floorIndex)},a.$$.update=()=>{a.$$.dirty&41&&n(4,e=qn(o.length,i,void 0,l))},[o,r,s,l,e,i]}class Ft extends be{constructor(t){super(),pe(this,t,Ha,Ma,ge,{images:0,value:5,alt:1,zIndex:2,floorIndex:3})}}function Gt(a){let t,n,e,o;return{c(){t=L("div"),n=H(),e=L("img"),this.h()},l(i){t=C(i,"DIV",{class:!0}),U(t).forEach(b),n=N(i),e=C(i,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){I(t,"class","nightfall svelte-841573"),F(t,"opacity",a[8]),I(e,"class","lights svelte-841573"),Se(e.src,o=a[6])||I(e,"src",o),I(e,"alt","Earth's lights at night"),F(e,"opacity",a[7])},m(i,r){B(i,t,r),B(i,n,r),B(i,e,r)},p(i,r){r&256&&F(t,"opacity",i[8]),r&64&&!Se(e.src,o=i[6])&&I(e,"src",o),r&128&&F(e,"opacity",i[7])},d(i){i&&(b(t),b(n),b(e))}}}function Ut(a){let t,n,e,o;return{c(){t=L("div"),n=H(),e=L("img"),this.h()},l(i){t=C(i,"DIV",{class:!0}),U(t).forEach(b),n=N(i),e=C(i,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){I(t,"class","nightfall svelte-841573"),F(t,"opacity",a[8]),I(e,"class","lights svelte-841573"),Se(e.src,o=a[6])||I(e,"src",o),I(e,"alt","Earth's lights at night"),F(e,"opacity",a[7])},m(i,r){B(i,t,r),B(i,n,r),B(i,e,r)},p(i,r){r&256&&F(t,"opacity",i[8]),r&64&&!Se(e.src,o=i[6])&&I(e,"src",o),r&128&&F(e,"opacity",i[7])},d(i){i&&(b(t),b(n),b(e))}}}function Na(a){let t,n,e,o,i,r,s,l,u,f,m,h,c;e=new qt({props:{alt:"Earth's land",images:a[4],value:a[10]}}),i=new Ft({props:{alt:"Earth's oceans",images:a[14],value:a[11],zIndex:100,floorIndex:a[5]}});let _=a[9]&&Gt(a);u=new qt({props:{alt:"Earth's land",images:a[4],value:a[10]}}),m=new Ft({props:{alt:"Earth's oceans",images:a[14],value:a[11],zIndex:100,floorIndex:a[5]}});let y=a[9]&&Ut(a);return{c(){t=L("div"),n=L("div"),P(e.$$.fragment),o=H(),P(i.$$.fragment),r=H(),_&&_.c(),s=H(),l=L("div"),P(u.$$.fragment),f=H(),P(m.$$.fragment),h=H(),y&&y.c(),this.h()},l(d){t=C(d,"DIV",{class:!0});var p=U(t);n=C(p,"DIV",{class:!0,style:!0});var g=U(n);A(e.$$.fragment,g),o=N(g),A(i.$$.fragment,g),r=N(g),_&&_.l(g),g.forEach(b),s=N(p),l=C(p,"DIV",{class:!0,style:!0});var k=U(l);A(u.$$.fragment,k),f=N(k),A(m.$$.fragment,k),h=N(k),y&&y.l(k),k.forEach(b),p.forEach(b),this.h()},h(){I(n,"class","earth svelte-841573"),F(n,"left",a[2]+"px"),I(l,"class","earth svelte-841573"),F(l,"left",a[3]+"px"),I(t,"class","earths pixelated svelte-841573")},m(d,p){B(d,t,p),$(t,n),W(e,n,null),$(n,o),W(i,n,null),$(n,r),_&&_.m(n,null),$(t,s),$(t,l),W(u,l,null),$(l,f),W(m,l,null),$(l,h),y&&y.m(l,null),c=!0},p(d,p){const g={};p&16&&(g.images=d[4]),p&1024&&(g.value=d[10]),e.$set(g);const k={};p&16384&&(k.images=d[14]),p&2048&&(k.value=d[11]),p&32&&(k.floorIndex=d[5]),i.$set(k),d[9]?_?_.p(d,p):(_=Gt(d),_.c(),_.m(n,null)):_&&(_.d(1),_=null),(!c||p&4)&&F(n,"left",d[2]+"px");const j={};p&16&&(j.images=d[4]),p&1024&&(j.value=d[10]),u.$set(j);const E={};p&16384&&(E.images=d[14]),p&2048&&(E.value=d[11]),p&32&&(E.floorIndex=d[5]),m.$set(E),d[9]?y?y.p(d,p):(y=Ut(d),y.c(),y.m(l,null)):y&&(y.d(1),y=null),(!c||p&8)&&F(l,"left",d[3]+"px")},i(d){c||(w(e.$$.fragment,d),w(i.$$.fragment,d),w(u.$$.fragment,d),w(m.$$.fragment,d),c=!0)},o(d){z(e.$$.fragment,d),z(i.$$.fragment,d),z(u.$$.fragment,d),z(m.$$.fragment,d),c=!1},d(d){d&&b(t),q(e),q(i),_&&_.d(),q(u),q(m),y&&y.d()}}}function Pa(a){let t,n;return t=new Ca({props:{width:a[13],height:a[12],x:a[16],y:a[15],scale:a[22],move_camera:a[0].move_camera,zoom_camera:a[0].zoom_camera,input_enabled:a[1],$$slots:{default:[Na]},$$scope:{ctx:a}}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,[o]){const i={};o&8192&&(i.width=e[13]),o&4096&&(i.height=e[12]),o&65536&&(i.x=e[16]),o&32768&&(i.y=e[15]),o&4194304&&(i.scale=e[22]),o&1&&(i.move_camera=e[0].move_camera),o&1&&(i.zoom_camera=e[0].zoom_camera),o&2&&(i.input_enabled=e[1]),o&134238204&&(i.$$scope={dirty:o,ctx:e}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Aa(a,t,n){let e,o,i,r,s,l,u,f,m,h=G,c=()=>(h(),h=J(r,V=>n(12,m=V)),r),_,y=G,d=()=>(y(),y=J(o,V=>n(25,_=V)),o),p,g=G,k=()=>(g(),g=J(i,V=>n(13,p=V)),i),j,E=G,M=()=>(E(),E=J(e,V=>n(26,j=V)),e),Z,K=G,Q=()=>(K(),K=J(s,V=>n(22,Z=V)),s);a.$$.on_destroy.push(()=>h()),a.$$.on_destroy.push(()=>y()),a.$$.on_destroy.push(()=>g()),a.$$.on_destroy.push(()=>E()),a.$$.on_destroy.push(()=>K());let{camera:Y}=t,{input_enabled:R=!0}=t,{earth1LeftOffset:ie}=t,{earth2LeftOffset:fe}=t,{landImages:x}=t,{seaImages:oe}=t,{shoreImages:O=void 0}=t,{seashoreFloorIndex:S=void 0}=t,{lightsImage:X=void 0}=t,{lightsOpacity:ke=0}=t,{nightfallOpacity:re=0}=t,{showLights:Ie=!1}=t,{activeLandValue:he}=t,{activeSeaLevel:ce}=t;return a.$$set=V=>{"camera"in V&&n(0,Y=V.camera),"input_enabled"in V&&n(1,R=V.input_enabled),"earth1LeftOffset"in V&&n(2,ie=V.earth1LeftOffset),"earth2LeftOffset"in V&&n(3,fe=V.earth2LeftOffset),"landImages"in V&&n(4,x=V.landImages),"seaImages"in V&&n(23,oe=V.seaImages),"shoreImages"in V&&n(24,O=V.shoreImages),"seashoreFloorIndex"in V&&n(5,S=V.seashoreFloorIndex),"lightsImage"in V&&n(6,X=V.lightsImage),"lightsOpacity"in V&&n(7,ke=V.lightsOpacity),"nightfallOpacity"in V&&n(8,re=V.nightfallOpacity),"showLights"in V&&n(9,Ie=V.showLights),"activeLandValue"in V&&n(10,he=V.activeLandValue),"activeSeaLevel"in V&&n(11,ce=V.activeSeaLevel)},a.$$.update=()=>{a.$$.dirty&1&&M(n(21,{x:e,y:o,width:i,height:r,scale:s}=Y,e,d(n(20,o)),k(n(19,i)),c(n(18,r)),Q(n(17,s)))),a.$$.dirty&67117056&&n(16,l=j*-1+p/2),a.$$.dirty&33558528&&n(15,u=_*-1+m/2),a.$$.dirty&25165824&&n(14,f=O?O.concat(oe):oe)},[Y,R,ie,fe,x,S,X,ke,re,Ie,he,ce,m,p,f,u,l,s,r,i,o,e,Z,oe,O,_,j]}class Wa extends be{constructor(t){super(),pe(this,t,Aa,Pa,ge,{camera:0,input_enabled:1,earth1LeftOffset:2,earth2LeftOffset:3,landImages:4,seaImages:23,shoreImages:24,seashoreFloorIndex:5,lightsImage:6,lightsOpacity:7,nightfallOpacity:8,showLights:9,activeLandValue:10,activeSeaLevel:11})}}function qa(a){let t=a[5]?"webgl":"dom",n;return{c(){n=ne(t)},l(e){n=ae(e,t)},m(e,o){B(e,n,o)},p(e,o){o&32&&t!==(t=e[5]?"webgl":"dom")&&lt(n,t)},d(e){e&&b(n)}}}function ja(a){let t,n=St(a[8],1)+"",e;return{c(){t=ne("scale: "),e=ne(n)},l(o){t=ae(o,"scale: "),e=ae(o,n)},m(o,i){B(o,t,i),B(o,e,i)},p(o,i){i&256&&n!==(n=St(o[8],1)+"")&&lt(e,n)},d(o){o&&(b(t),b(e))}}}function Ra(a){let t,n=Math.round(a[9])+"",e;return{c(){t=ne("x: "),e=ne(n)},l(o){t=ae(o,"x: "),e=ae(o,n)},m(o,i){B(o,t,i),B(o,e,i)},p(o,i){i&512&&n!==(n=Math.round(o[9])+"")&&lt(e,n)},d(o){o&&(b(t),b(e))}}}function Fa(a){let t,n=Math.round(a[10])+"",e;return{c(){t=ne("y: "),e=ne(n)},l(o){t=ae(o,"y: "),e=ae(o,n)},m(o,i){B(o,t,i),B(o,e,i)},p(o,i){i&1024&&n!==(n=Math.round(o[10])+"")&&lt(e,n)},d(o){o&&(b(t),b(e))}}}function Kt(a){let t,n;return t=new jn({props:{tour:a[0],debug_start_time:a[6]}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,o){const i={};o&1&&(i.tour=e[0]),o&64&&(i.debug_start_time=e[6]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Ga(a){let t,n,e,o,i,r,s,l,u,f;t=new Xe({props:{$$slots:{default:[qa]},$$scope:{ctx:a}}}),t.$on("click",a[12]),e=new Xe({props:{$$slots:{default:[ja]},$$scope:{ctx:a}}}),e.$on("click",a[13]),i=new Xe({props:{$$slots:{default:[Ra]},$$scope:{ctx:a}}}),i.$on("click",a[14]),s=new Xe({props:{$$slots:{default:[Fa]},$$scope:{ctx:a}}}),s.$on("click",a[15]);let m=a[0]&&a[11]&&Kt(a);return{c(){P(t.$$.fragment),n=H(),P(e.$$.fragment),o=H(),P(i.$$.fragment),r=H(),P(s.$$.fragment),l=H(),m&&m.c(),u=de()},l(h){A(t.$$.fragment,h),n=N(h),A(e.$$.fragment,h),o=N(h),A(i.$$.fragment,h),r=N(h),A(s.$$.fragment,h),l=N(h),m&&m.l(h),u=de()},m(h,c){W(t,h,c),B(h,n,c),W(e,h,c),B(h,o,c),W(i,h,c),B(h,r,c),W(s,h,c),B(h,l,c),m&&m.m(h,c),B(h,u,c),f=!0},p(h,[c]){const _={};c&65568&&(_.$$scope={dirty:c,ctx:h}),t.$set(_);const y={};c&65792&&(y.$$scope={dirty:c,ctx:h}),e.$set(y);const d={};c&66048&&(d.$$scope={dirty:c,ctx:h}),i.$set(d);const p={};c&66560&&(p.$$scope={dirty:c,ctx:h}),s.$set(p),h[0]&&h[11]?m?(m.p(h,c),c&2049&&w(m,1)):(m=Kt(h),m.c(),w(m,1),m.m(u.parentNode,u)):m&&(le(),z(m,1,1,()=>{m=null}),ue())},i(h){f||(w(t.$$.fragment,h),w(e.$$.fragment,h),w(i.$$.fragment,h),w(s.$$.fragment,h),w(m),f=!0)},o(h){z(t.$$.fragment,h),z(e.$$.fragment,h),z(i.$$.fragment,h),z(s.$$.fragment,h),z(m),f=!1},d(h){h&&(b(n),b(o),b(r),b(l),b(u)),q(t,h),q(e,h),q(i,h),q(s,h),m&&m.d(h)}}}function Ua(a,t,n){let e,o,i=G,r=()=>(i(),i=J(k,R=>n(8,o=R)),k),s,l=G,u=()=>(l(),l=J(p,R=>n(9,s=R)),p),f,m=G,h=()=>(m(),m=J(g,R=>n(10,f=R)),g),c,_=G,y=()=>(_(),_=J(e,R=>n(11,c=R)),e);a.$$.on_destroy.push(()=>i()),a.$$.on_destroy.push(()=>l()),a.$$.on_destroy.push(()=>m()),a.$$.on_destroy.push(()=>_());let{tour:d}=t,{x:p}=t;u();let{y:g}=t;h();let{scale:k}=t;r();let{togglePixiEarthViewer:j}=t,{enablePixiEarthViewer:E}=t,{debug_start_time:M}=t;const Z=()=>{j(!E)},K=()=>{ee(k,o=Number(prompt("ðŸ”Ž",o+""))||o,o)},Q=()=>{const R=Number(prompt("x",s+""));Number.isNaN(R)||ee(p,s=R,s)},Y=()=>{const R=Number(prompt("y",f+""));Number.isNaN(R)||ee(g,f=R,f)};return a.$$set=R=>{"tour"in R&&n(0,d=R.tour),"x"in R&&u(n(1,p=R.x)),"y"in R&&h(n(2,g=R.y)),"scale"in R&&r(n(3,k=R.scale)),"togglePixiEarthViewer"in R&&n(4,j=R.togglePixiEarthViewer),"enablePixiEarthViewer"in R&&n(5,E=R.enablePixiEarthViewer),"debug_start_time"in R&&n(6,M=R.debug_start_time)},a.$$.update=()=>{a.$$.dirty&1&&y(n(7,e=d==null?void 0:d.touring))},[d,p,g,k,j,E,M,e,o,s,f,c,Z,K,Q,Y]}class Ka extends be{constructor(t){super(),pe(this,t,Ua,Ga,ge,{tour:0,x:1,y:2,scale:3,togglePixiEarthViewer:4,enablePixiEarthViewer:5,debug_start_time:6})}}function Yt(a){let t,n,e,o;const i=[Xa,Ya],r=[];function s(l,u){return!l[13]&&l[21].status==="success"?0:1}return n=s(a),e=r[n]=i[n](a),{c(){t=L("div"),e.c(),this.h()},l(l){t=C(l,"DIV",{class:!0});var u=U(t);e.l(u),u.forEach(b),this.h()},h(){I(t,"class","deep-breath svelte-i47juo")},m(l,u){B(l,t,u),r[n].m(t,null),o=!0},p(l,u){let f=n;n=s(l),n===f?r[n].p(l,u):(le(),z(r[f],1,1,()=>{r[f]=null}),ue(),e=r[n],e?e.p(l,u):(e=r[n]=i[n](l),e.c()),w(e,1),e.m(t,null))},i(l){o||(w(e),o=!0)},o(l){z(e),o=!1},d(l){l&&b(t),r[n].d()}}}function Ya(a){let t,n;return t=new _a({props:{resources:a[29],proceed:a[41]}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p:G,i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Xa(a){let t,n,e,o,i,r,s,l;const u=[Za,Ja],f=[];function m(_,y){return _[11]?0:1}t=m(a),n=f[t]=u[t](a);function h(_){a[55](_)}let c={camera:a[0]};return a[1]!==void 0&&(c.tour=a[1]),o=new $a({props:c}),Te.push(()=>Ve(o,"tour",h)),o.$on("begin",a[40]),s=new an({props:{$$slots:{default:[oi]},$$scope:{ctx:a}}}),{c(){n.c(),e=H(),P(o.$$.fragment),r=H(),P(s.$$.fragment)},l(_){n.l(_),e=N(_),A(o.$$.fragment,_),r=N(_),A(s.$$.fragment,_)},m(_,y){f[t].m(_,y),B(_,e,y),W(o,_,y),B(_,r,y),W(s,_,y),l=!0},p(_,y){let d=t;t=m(_),t===d?f[t].p(_,y):(le(),z(f[d],1,1,()=>{f[d]=null}),ue(),n=f[t],n?n.p(_,y):(n=f[t]=u[t](_),n.c()),w(n,1),n.m(e.parentNode,e));const p={};y[0]&1&&(p.camera=_[0]),!i&&y[0]&2&&(i=!0,p.tour=_[1],Ce(()=>i=!1)),o.$set(p);const g={};y[0]&1658478|y[2]&8&&(g.$$scope={dirty:y,ctx:_}),s.$set(g)},i(_){l||(w(n),w(o.$$.fragment,_),w(s.$$.fragment,_),l=!0)},o(_){z(n),z(o.$$.fragment,_),z(s.$$.fragment,_),l=!1},d(_){_&&(b(e),b(r)),f[t].d(_),q(o,_),q(s,_)}}}function Ja(a){let t,n;return t=new Wa({props:{camera:a[0],input_enabled:a[17],earth1LeftOffset:a[4],earth2LeftOffset:a[12],landImages:a[32],seaImages:a[33],activeLandValue:a[15],activeSeaLevel:a[16]}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,o){const i={};o[0]&1&&(i.camera=e[0]),o[0]&131072&&(i.input_enabled=e[17]),o[0]&16&&(i.earth1LeftOffset=e[4]),o[0]&4096&&(i.earth2LeftOffset=e[12]),o[0]&32768&&(i.activeLandValue=e[15]),o[0]&65536&&(i.activeSeaLevel=e[16]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Za(a){let t,n;return t=new Fn({props:{camera:a[0],landImages:a[32],seaImages:a[33],activeLandValue:a[15],activeSeaLevel:a[16],input_enabled:a[17],imageWidth:qe,imageHeight:_n}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,o){const i={};o[0]&1&&(i.camera=e[0]),o[0]&32768&&(i.activeLandValue=e[15]),o[0]&65536&&(i.activeSeaLevel=e[16]),o[0]&131072&&(i.input_enabled=e[17]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Qa(a){let t,n;return t=new ut({props:{pressed:a[10],label:"toggle hud controls",$$slots:{default:[ti]},$$scope:{ctx:a}}}),t.$on("click",a[31]),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,o){const i={};o[0]&1024&&(i.pressed=e[10]),o[2]&8&&(i.$$scope={dirty:o,ctx:e}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function xa(a){let t,n;return t=new ut({props:{label:"go back to title screen",$$slots:{default:[ni]},$$scope:{ctx:a}}}),t.$on("click",a[42]),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,o){const i={};o[2]&8&&(i.$$scope={dirty:o,ctx:e}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function ei(a){let t,n;return t=new ut({props:{label:"cancel tour",$$slots:{default:[ai]},$$scope:{ctx:a}}}),t.$on("click",function(){st(a[1].cancel)&&a[1].cancel.apply(this,arguments)}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,o){a=e;const i={};o[2]&8&&(i.$$scope={dirty:o,ctx:a}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function ti(a){let t;return{c(){t=ne("âˆ™âˆ™âˆ™")},l(n){t=ae(n,"âˆ™âˆ™âˆ™")},m(n,e){B(n,t,e)},d(n){n&&b(t)}}}function ni(a){let t;return{c(){t=ne("â‡¦")},l(n){t=ae(n,"â‡¦")},m(n,e){B(n,t,e)},d(n){n&&b(t)}}}function ai(a){let t;return{c(){t=ne("âœ•")},l(n){t=ae(n,"âœ•")},m(n,e){B(n,t,e)},d(n){n&&b(t)}}}function Xt(a){let t,n,e,o,i,r,s,l;n=new ut({props:{pressed:a[10],label:"toggle hud controls",$$slots:{default:[ii]},$$scope:{ctx:a}}}),n.$on("click",a[31]);let u=a[1]&&!a[9]&&Jt(a),f=a[14]&&Zt(a),m=!a[9]&&Qt(a);return{c(){t=L("div"),P(n.$$.fragment),e=H(),u&&u.c(),o=H(),i=L("div"),f&&f.c(),r=H(),m&&m.c(),s=de(),this.h()},l(h){t=C(h,"DIV",{class:!0});var c=U(t);A(n.$$.fragment,c),e=N(c),u&&u.l(c),c.forEach(b),o=N(h),i=C(h,"DIV",{class:!0});var _=U(i);f&&f.l(_),_.forEach(b),r=N(h),m&&m.l(h),s=de(),this.h()},h(){I(t,"class","hud-top-controls svelte-i47juo"),I(i,"class","hud-left-controls svelte-i47juo")},m(h,c){B(h,t,c),W(n,t,null),$(t,e),u&&u.m(t,null),B(h,o,c),B(h,i,c),f&&f.m(i,null),B(h,r,c),m&&m.m(h,c),B(h,s,c),l=!0},p(h,c){const _={};c[0]&1024&&(_.pressed=h[10]),c[2]&8&&(_.$$scope={dirty:c,ctx:h}),n.$set(_),h[1]&&!h[9]?u?(u.p(h,c),c[0]&514&&w(u,1)):(u=Jt(h),u.c(),w(u,1),u.m(t,null)):u&&(le(),z(u,1,1,()=>{u=null}),ue()),h[14]?f?(f.p(h,c),c[0]&16384&&w(f,1)):(f=Zt(h),f.c(),w(f,1),f.m(i,null)):f&&(le(),z(f,1,1,()=>{f=null}),ue()),h[9]?m&&(le(),z(m,1,1,()=>{m=null}),ue()):m?(m.p(h,c),c[0]&512&&w(m,1)):(m=Qt(h),m.c(),w(m,1),m.m(s.parentNode,s))},i(h){l||(w(n.$$.fragment,h),w(u),w(f),w(m),l=!0)},o(h){z(n.$$.fragment,h),z(u),z(f),z(m),l=!1},d(h){h&&(b(t),b(o),b(i),b(r),b(s)),q(n),u&&u.d(),f&&f.d(),m&&m.d(h)}}}function ii(a){let t;return{c(){t=ne("âˆ™âˆ™âˆ™")},l(n){t=ae(n,"âˆ™âˆ™âˆ™")},m(n,e){B(n,t,e)},d(n){n&&b(t)}}}function Jt(a){let t,n;return t=new Xe({props:{$$slots:{default:[ri]},$$scope:{ctx:a}}}),t.$on("click",function(){st(a[1].begin_tour)&&a[1].begin_tour.apply(this,arguments)}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,o){a=e;const i={};o[2]&8&&(i.$$scope={dirty:o,ctx:a}),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function ri(a){let t;return{c(){t=ne("tour")},l(n){t=ae(n,"tour")},m(n,e){B(n,t,e)},d(n){n&&b(t)}}}function Zt(a){let t,n;return t=new Ka({props:{tour:a[1]||null,x:a[5],y:a[20],scale:a[19],togglePixiEarthViewer:a[56],enablePixiEarthViewer:a[11],debug_start_time:li}}),{c(){P(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,o){W(t,e,o),n=!0},p(e,o){const i={};o[0]&2&&(i.tour=e[1]||null),o[0]&32&&(i.x=e[5]),o[0]&1048576&&(i.y=e[20]),o[0]&524288&&(i.scale=e[19]),o[0]&2048&&(i.togglePixiEarthViewer=e[56]),o[0]&2048&&(i.enablePixiEarthViewer=e[11]),t.$set(i)},i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function Qt(a){let t,n,e,o,i;return n=new Gn({props:{active_land_index:a[6],selected_land_index:a[3],select_land_index:a[36],hover_land_index:a[37]}}),o=new Un({props:{sea_level:a[16],sea_index_max:a[34],selected_sea_level:a[2],select_sea_level:a[38],hover_sea_level:a[39]}}),{c(){t=L("div"),P(n.$$.fragment),e=H(),P(o.$$.fragment),this.h()},l(r){t=C(r,"DIV",{class:!0});var s=U(t);A(n.$$.fragment,s),s.forEach(b),e=N(r),A(o.$$.fragment,r),this.h()},h(){I(t,"class","month-wrapper svelte-i47juo")},m(r,s){B(r,t,s),W(n,t,null),B(r,e,s),W(o,r,s),i=!0},p(r,s){const l={};s[0]&64&&(l.active_land_index=r[6]),s[0]&8&&(l.selected_land_index=r[3]),n.$set(l);const u={};s[0]&65536&&(u.sea_level=r[16]),s[0]&4&&(u.selected_sea_level=r[2]),o.$set(u)},i(r){i||(w(n.$$.fragment,r),w(o.$$.fragment,r),i=!0)},o(r){z(n.$$.fragment,r),z(o.$$.fragment,r),i=!1},d(r){r&&(b(t),b(e)),q(n),q(o,r)}}}function oi(a){let t,n,e,o,i;const r=[ei,xa,Qa],s=[];function l(f,m){return f[1]&&f[9]?0:f[10]?1:2}t=l(a),n=s[t]=r[t](a);let u=a[10]&&(!a[9]||a[14])&&Xt(a);return{c(){n.c(),e=H(),u&&u.c(),o=de()},l(f){n.l(f),e=N(f),u&&u.l(f),o=de()},m(f,m){s[t].m(f,m),B(f,e,m),u&&u.m(f,m),B(f,o,m),i=!0},p(f,m){let h=t;t=l(f),t===h?s[t].p(f,m):(le(),z(s[h],1,1,()=>{s[h]=null}),ue(),n=s[t],n?n.p(f,m):(n=s[t]=r[t](f),n.c()),w(n,1),n.m(e.parentNode,e)),f[10]&&(!f[9]||f[14])?u?(u.p(f,m),m[0]&17920&&w(u,1)):(u=Xt(f),u.c(),w(u,1),u.m(o.parentNode,o)):u&&(le(),z(u,1,1,()=>{u=null}),ue())},i(f){i||(w(n),w(u),i=!0)},o(f){z(n),z(u),i=!1},d(f){f&&(b(e),b(o)),s[t].d(f),u&&u.d(f)}}}function si(a){let t,n,e,o,i,r,s={initialX:a[24],initialY:a[25],initialWidth:a[26],initialHeight:a[27]};t=new Rn({props:s}),a[54](t);let l=a[0]&&a[5]&&a[20]&&a[19]&&Yt(a);return{c(){P(t.$$.fragment),n=H(),l&&l.c(),e=de()},l(u){A(t.$$.fragment,u),n=N(u),l&&l.l(u),e=de()},m(u,f){W(t,u,f),B(u,n,f),l&&l.m(u,f),B(u,e,f),o=!0,i||(r=en(window,"keydown",a[30]),i=!0)},p(u,f){const m={};t.$set(m),u[0]&&u[5]&&u[20]&&u[19]?l?(l.p(u,f),f[0]&1572897&&w(l,1)):(l=Yt(u),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(le(),z(l,1,1,()=>{l=null}),ue())},i(u){o||(w(t.$$.fragment,u),w(l),o=!0)},o(u){z(t.$$.fragment,u),z(l),o=!1},d(u){u&&(b(n),b(e)),a[54](null),q(t,u),l&&l.d(u),i=!1,r()}}}const qe=4096,_n=2048,li=0,xt=230,gt=1e3;function ui(a,t,n){let e,o,i,r,s,l,u,f,m,h,c,_,y,d=G,p=()=>(d(),d=J(u,D=>n(9,y=D)),u),g,k=G,j=()=>(k(),k=J(e,D=>n(49,g=D)),e),E,M,Z,K,Q,Y=G,R=()=>(Y(),Y=J(s,D=>n(58,Q=D)),s),ie,fe=G,x=()=>(fe(),fe=J(r,D=>n(59,ie=D)),r),oe;a.$$.on_destroy.push(()=>d()),a.$$.on_destroy.push(()=>k()),a.$$.on_destroy.push(()=>Y()),a.$$.on_destroy.push(()=>fe());const O=pt();Be(a,O,D=>n(51,M=D));let S;const X=Vn();Be(a,X,D=>n(53,K=D));const ke=Bt(0,qe),re=Bt(K.height/2,_n-K.height/2),Ie=K.width,he=K.height,ce=wt();Be(a,ce,D=>n(52,Z=D));const V=rn();Be(a,V,D=>n(21,oe=D));let me,je=!0;const Re=(D=!je)=>{n(10,je=D)};let De=!0;const we=D=>{Ue||f&&(D.key==="Escape"&&!D.ctrlKey&&Dt(D.target)?(mt(D),Tt()):D.key==="1"&&Dt(D.target)&&(mt(D),Re()))},ve=D=>{mt(D),Re()},Oe=Array.from({length:12},(D,Ke)=>`/assets/earth/land_${Ke+1}.png`);let Le=0,$e=0;const Fe=Array.from({length:3},(D,Ke)=>`/assets/earth/sea_${Ke+1}.png`),Je=Fe.length-1;let Me=gt;const Ge=Tn(0,{easing:Cn,duration:gt});Be(a,Ge,D=>n(50,E=D));let He=0;const Ze=[0,1].map(D=>Math.round(D*Je)),ft=()=>{He>=Ze.length-1?He=0:He++;const D=Ze[He];ee(Ge,E=D,E)};let Ne=null,Pe=null,Ae=null,We=null;const Qe=D=>{n(44,$e=xt*D)},T=D=>{n(3,Ae=D),D!==null&&Qe(D)},xe=D=>{n(47,We=D),D!==null&&Qe(D)},zt=D=>{n(2,Ne=D)},kt=D=>{n(46,Pe=D)},dn=()=>{console.log("BEGIN TOUR"),T(null),xe(null),zt(null),kt(null)};let ct,It;Oe.forEach(D=>V.addResource("image",D)),Fe.forEach(D=>V.addResource("image",D));let Ue=!0;const gn=()=>{n(13,Ue=!1)},Tt=()=>{y&&me.cancel(),n(13,Ue=!0)};bt(()=>{l&&(n(13,Ue=!1),V.load())});function bn(D){Te[D?"unshift":"push"](()=>{S=D,n(0,S)})}function pn(D){me=D,n(1,me)}const wn=D=>n(11,De=D);return a.$$.update=()=>{if(a.$$.dirty[0]&1&&j(n(5,e=S==null?void 0:S.x)),a.$$.dirty[0]&1&&n(20,o=S==null?void 0:S.y),a.$$.dirty[0]&1&&n(19,i=S==null?void 0:S.scale),a.$$.dirty[0]&1&&x(n(8,r=S==null?void 0:S.width)),a.$$.dirty[0]&1&&R(n(7,s=S==null?void 0:S.height)),a.$$.dirty[0]&256|a.$$.dirty[1]&4194304&&r&&ee(r,ie=K.width,ie),a.$$.dirty[0]&128|a.$$.dirty[1]&4194304&&s&&ee(s,Q=K.height,Q),a.$$.dirty[1]&2097152&&n(14,l=Z.dev_mode),a.$$.dirty[0]&2&&p(n(18,u=me?me.touring:null)),a.$$.dirty[0]&512&&n(17,f=!y),a.$$.dirty[0]&8|a.$$.dirty[1]&1122304&&Ae===null&&We===null&&(n(44,$e+=M.dt),n(43,Le=$e/xt%Oe.length)),a.$$.dirty[1]&4096&&n(48,m=Math.floor(Le)),a.$$.dirty[0]&4|a.$$.dirty[1]&1097728&&Ne===null&&Pe===null&&(n(45,Me-=M.dt),Me<=0&&(n(45,Me=gt),ft())),a.$$.dirty[0]&4|a.$$.dirty[1]&557056&&n(16,h=Pe??Ne??E),a.$$.dirty[0]&8|a.$$.dirty[1]&196608&&n(6,c=We??Ae??m),a.$$.dirty[0]&64|a.$$.dirty[1]&135168&&n(15,_=c===m?Le:c),a.$$.dirty[0]&48|a.$$.dirty[1]&262144&&e){const D=Math.floor(g/qe);n(4,ct=D*qe);const Ke=g/qe-D;n(12,It=ct+qe*(Ke<.5?-1:1))}},[S,me,Ne,Ae,ct,e,c,s,r,y,je,De,It,Ue,l,_,h,f,u,i,o,oe,O,X,ke,re,Ie,he,ce,V,we,ve,Oe,Fe,Je,Ge,T,xe,zt,kt,dn,gn,Tt,Le,$e,Me,Pe,We,m,g,E,M,Z,K,bn,pn,wn]}class Pi extends be{constructor(t){super(),pe(this,t,ui,si,ge,{},null,[-1,-1,-1])}}export{Pi as component};
