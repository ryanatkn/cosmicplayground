import{n as He,s as P,e as S,c as H,b as z,l as j,d as p,p as Re,m as R,i as L,o as b,x as K,r as Xe,g as W,y as J,J as Ee,F as ft,C as dt,a as te,E as de,I as ct,G as Ie,L as Me,A as mt,P as be,a0 as Pe,H as wn,z as $n,a4 as Qt,M as kn,K as Fe,Z as Cn,B as Tn}from"../chunks/scheduler.317e39f5.js";import{S as De,i as Ne,c as O,a as V,m as x,t as w,g as ye,b as T,e as we,d as G,h as Lt,j as Ge,k as En,f as je}from"../chunks/index.3972ef43.js";import{a as It}from"../chunks/random.c2e51b4a.js";import{s as nt}from"../chunks/dom.affe8f60.js";import{g as kt}from"../chunks/clock.fa46b71f.js";import{e as Mt}from"../chunks/dom.194afe55.js";import{g as en}from"../chunks/dimensions.37c4a151.js";import{e as yt,u as Sn,d as zn}from"../chunks/each.5e813342.js";import{P as Ln}from"../chunks/PendingAnimation.c9fb3dcf.js";import{b as tn}from"../chunks/paths.a283bf73.js";import{S as In,a as Mn,b as wt}from"../chunks/Soggy_Planet_Thumbnail.a6c80e17.js";import{H as nn,a as Bn}from"../chunks/renderStats.8617c1fe.js";import{c as Pn,R as Hn,T as Dn,a as Nn,b as rn,u as lt,f as Bt,C as An,E as On,M as Vn,S as xn}from"../chunks/Camera.f247757c.js";import{P as ut}from"../chunks/Panel.6b267d3d.js";import{C as on}from"../chunks/ChunkyButton.2c055f14.js";import{C as Gn}from"../chunks/CreditsProjectSignature.00696f54.js";import{P as Rn}from"../chunks/Preview.1f3d3af4.js";import{P as Yn}from"../chunks/PortalPreview.9dd003be.js";import{P as Fn}from"../chunks/PortalLink.bf94af9c.js";import{b as Z,q as Pt}from"../chunks/index.276c4212.js";import{z as We}from"../chunks/index.0ec66d4d.js";import{g as rt}from"../chunks/settings.5286e666.js";import{F as ht}from"../chunks/FloatingIconButton.3441810e.js";import{F as tt}from"../chunks/FloatingTextButton.5a8683b2.js";import{w as bt}from"../chunks/index.28c54d51.js";import{b as Te}from"../chunks/index.592aa6fa.js";import{A as jn}from"../chunks/AppControlsTable.8bc1d1fc.js";import{A as Un}from"../chunks/AppDialog.fa5e3fad.js";We.object({name:We.string(),url:We.string(),myth:We.boolean().optional(),x:We.number(),y:We.number()});const an=[{name:"Zealandia",url:"https://wikipedia.org/wiki/Zealandia",x:400,y:70},{name:"Sundaland",url:"https://wikipedia.org/wiki/Sundaland",x:300,y:-200},{name:"Kumari Kandam",url:"https://wikipedia.org/wiki/Kumari_Kandam",myth:!0,x:0,y:404},{name:"Lemuria",url:"https://wikipedia.org/wiki/Lemuria",myth:!0,x:200,y:230},{name:"Persian Gulf",url:"https://wikipedia.org/wiki/Persian_Gulf",x:210,y:-80},{name:"Black Sea deluge",url:"https://wikipedia.org/wiki/Black_Sea_deluge_hypothesis",myth:!0,x:0,y:50},{name:"Adriatic Sea",url:"https://wikipedia.org/wiki/Adriatic_Sea",x:130,y:-410},{name:"Doggerland",url:"https://wikipedia.org/wiki/Doggerland",x:0,y:-200},{name:"Ys",url:"https://wikipedia.org/wiki/Ys",myth:!0,x:20,y:20},{name:"Beringia",url:"https://wikipedia.org/wiki/Beringia",x:-200,y:230},{name:"Missoula floods",url:"https://wikipedia.org/wiki/Missoula_floods",x:110,y:-90},{name:"Land bridges of Japan",url:"https://wikipedia.org/wiki/Land_bridges_of_Japan",x:400,y:300},{name:"Mu",url:"https://wikipedia.org/wiki/Mu_(mythical_lost_continent)",myth:!0,x:120,y:-30}],qn=r=>{const t=an.find(e=>e.name===r);if(!t)throw Error(`unknown point of interest "${r}"`);return t},pe=r=>{const t=qn(r),e=`<a href="${t.url}">${r}</a>`;return`<span style="position: relative; left: ${t.x}px; top: ${t.y}px;">${t.myth?e+`<span title="${r} may be a myth">?</span>`:e}</span>`},Kn=(r,t=!1)=>{const e=Pn(),n=1e3,o=n*6,a=n*3,s=13900,l=2e3,_=4e3,c=24,i=1405,u=5e3,d=(m,y,h=70)=>{let E=0;if(m===y)return 0;if(m>y)for(let g=m;g>=y;g--)e.event("update_sea_level",{min:g,max:g}),e.wait(h),E+=h;else for(let g=m;g<=y;g++)e.event("update_sea_level",{min:g,max:g}),e.wait(h),E+=h;return E},f=e.event("load");return t?(e.pan(c,i,0),e.zoom(u,0)):(e.pan(c,i,2e3),e.zoom(5,2e3),e.wait(),e.zoom(50,1e3),e.wait()),f(),t||(e.zoom(u,1e3),e.wait()),e.event("update_land_images",{min:0,max:11}),e.event("update_daylight",{min:0,max:0}),e.event("update_sea_level",{min:12,max:12}),e.event("play_water_trickle"),e.event("show_text",{content:"for tens of thousands of years",count:3}),e.zoom(200,2e3),e.wait(l),e.event("show_text",{content:"we have thrived",count:3}),e.zoom(50,3e3),e.wait(l),e.event("show_text",{content:"along coastlines and waterways",count:3}),e.wait(l),e.wait(_-1e3),e.event("clear_text"),e.wait(1e3),e.event("show_text",{content:'<span style="position: relative; left: 0; top: -170px;">around 19 or 20 thousand years ago</span>',count:3}),e.zoom(3,6e3),e.wait(l),e.event("show_text",{content:'<span style="position: relative; left: 0; top: -195px;">at the end of <a href="https://wikipedia.org/wiki/Last_Glacial_Maximum">the Last Glacial Maximum</a></span>',count:3}),e.wait(l),e.event("show_text",{content:'<span style="position: relative; left: 0; top: -170px;">global sea levels were about 125 meters lower</span>',count:3}),e.wait(l-d(12,0)),e.wait(_),e.event("clear_text"),e.wait(1e3),e.event("update_land_images",{min:6,max:6}),e.event("play_main_song"),e.event("show_text",{content:'<span style="position: relative; left: 200px; top: -100px;">glaciers ate mountains of moisture</span>',count:2}),e.pan(-174,1092,4e3),e.zoom(.7,4e3),e.wait(l+l/2),e.event("show_text",{content:'<span style="position: relative; left: 250px; top: -110px;">and myth flooded our imaginations</span>',count:2}),e.wait(l/2),e.wait(_),e.event("clear_text"),e.wait(),e.pan(-67,1358,a),e.zoom(2.2,a),e.wait(a-d(1,12)),e.zoomBy(1.02,o,Z),e.panBy(2,2,o,Z),e.wait(1e3),e.event("show_text",pe("Zealandia")),e.wait(800-d(11,0)),e.event("update_land_images",{min:0,max:11}),e.wait(),e.event("clear_text"),e.pan(-664,920,a),e.zoom(1.8,a/2),e.wait(a/2-d(1,12)),e.zoom(2.6,a/2),e.wait(),e.zoomBy(1.02,o,Z),e.panBy(1,2,o,Z),e.wait(1e3),e.event("show_text",pe("Sundaland")),e.wait(e.get_time_diff()-d(11,0)),e.event("clear_text"),e.pan(-1222,940,a),e.zoom(1.8,a/2),e.wait(a/2-d(1,12)),e.zoom(3.9,a/2),e.wait(1e3),e.event("show_text",pe("Kumari Kandam")),e.wait(e.get_time_diff()-d(11,0)),e.zoomBy(1.02,o,Z),e.panBy(2,0,o,Z),e.wait(),e.event("clear_text"),e.pan(-1445,1223,a),e.zoom(2.9,a/2),e.wait(a/2-d(1,12)),e.zoom(3.2,a/2),e.wait(),e.zoomBy(.98,o,Z),e.panBy(1,-2,o,Z),e.event("show_text",pe("Lemuria")),e.wait(1e3-d(11,0)),e.wait(1e3),e.wait(1500-d(1,12)),e.wait(1500-d(11,0)),e.wait(),e.event("clear_text"),e.pan(-1460,724,a),e.zoom(4.7,a/2),e.wait(a/2-d(1,12)),e.event("update_land_images",{min:6,max:6}),e.zoom(3.5,a/2),e.wait(),e.zoomBy(1.01,o,Z),e.panBy(-1,-2,o,Z),e.event("show_text",pe("Persian Gulf")),e.wait(e.get_time_diff()-d(11,0)),e.event("clear_text"),e.pan(-1648,527,a),e.zoom(4.6,a*(1/3)),e.wait(a*(1/3)-d(1,12)),e.zoom(3.4,a*(1/3)),e.wait(a*(1/3)),e.zoom(10,a*(1/3)),e.wait(),e.zoomBy(1.02,o,Z),e.panBy(2,-1,o,Z),e.event("show_text",pe("Black Sea deluge")),e.wait(e.get_time_diff()-d(11,0)),e.event("clear_text"),e.pan(-1847,578,a),e.zoom(6.8,a),e.wait(a-d(1,12)),e.zoomBy(1.02,o,Z),e.panBy(-1,-3,o,Z),e.event("show_text",pe("Adriatic Sea")),e.wait(o-d(11,0)),e.event("clear_text"),e.pan(-2022,403,a),e.zoom(5.6,a*(1/2)),e.wait(a*(1/2)),e.zoom(4.3,a*(1/2)),e.wait(),e.panBy(2,2,o,Z),e.wait(2e3),e.zoom(13.3,a*(1/2)),e.wait(600),e.event("show_text",pe("Doggerland")),e.wait(e.get_time_diff()-d(1,11)),e.event("clear_text"),e.pan(-2105,490,a),e.zoom(9.6,a/2),e.wait(a/2-d(10,0)),e.zoom(16.1,a/2),e.wait(),e.zoomBy(.65,o),e.panBy(1,1,o,Z),e.event("show_text",pe("Ys")),e.wait(e.get_time_diff()-d(1,9,80)),e.event("clear_text"),e.pan(-3020,548,o+a),e.zoom(1.6,o+a-2500),e.wait(o+a-d(8,0)),e.event("clear_text"),e.pan(-4036,302,a),e.zoom(2.4,a*(1/2)),e.wait(a*(1/2)-d(1,12)),e.zoom(3.4,a*(1/2)),e.wait(),e.zoomBy(.98,o,Z),e.panBy(3,2,o,Z),e.event("show_text",pe("Beringia")),e.wait(2e3-d(11,0)),e.wait(),e.event("clear_text"),e.pan(-3404,482,a),e.zoom(2.6,a/2),e.wait(a/2),e.zoom(11,a/2),e.wait(),e.zoomBy(.77,o-2800),e.panBy(10,-2,o-2800),e.event("show_text",pe("Missoula floods")),e.wait(),e.zoom(4,500,Z),e.wait(),e.zoomBy(.83,2800-500,Z),e.panBy(3,2,2800-500,Z),e.wait(2800-500),e.event("clear_text"),e.pan(-2764,1267,a*2),e.zoom(1.3,a),e.wait(),e.event("clear_text"),e.pan(-4591,577,a),e.zoom(1.9,a*(1/2)),e.wait(a*(1/2)-d(1,12)),e.zoom(3.5,a*(1/2)),e.wait(),e.zoomBy(1.01,o,Z),e.panBy(2,-2,o,Z),e.event("show_text",pe("Land bridges of Japan")),e.wait(e.get_time_diff()-d(11,0)),e.event("clear_text"),e.pan(-4059,1007,a),e.zoom(1.7,a/2),e.wait(a/2-d(1,12)),e.zoom(2.2,a/2),e.wait(),e.zoomBy(.99,o,Z),e.panBy(-2,-2,o,Z),e.wait(1e3-d(11,0)),e.wait(1e3-d(1,12)),e.wait(1e3-d(11,0)),e.event("show_text",pe("Mu")),e.wait(),e.event("clear_text"),e.pan(-434,635,s,Pt),e.zoom(1.1,a),e.wait(a),e.zoom(.8,a),e.wait(a),e.zoom(1.1,a),e.wait(a),e.zoom(1,s-a*3-2500),e.wait(s-a*3-2500),e.zoom(5,a/2,Pt),e.wait(a/2),e.zoomBy(.85,500),e.wait(500),e.event("debug_final_zoom_in"),e.zoom(4e3,1e3),e.wait(),e.wait(1500),e.event("show_title"),e.wait(r),e.event("show_credits"),e.wait(1e9),e.zoomBy(1,0),e.finalize()};function Jn(r,t,e){const n=r.slice();return n[8]=t[e],n}function Zn(r){let t,e;return t=new Bn({}),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function Ht(r){let t,e;return t=new Ln({}),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function Wn(r){let t,e="The download is about 81MB of images. If that's ok with you, continue on:",n,o,a;return o=new on({props:{$$slots:{default:[er]},$$scope:{ctx:r}}}),o.$on("click",r[6]),{c(){t=S("p"),t.textContent=e,n=P(),O(o.$$.fragment)},l(s){t=z(s,"P",{"data-svelte-h":!0}),W(t)!=="svelte-5n7p6g"&&(t.textContent=e),n=H(s),V(o.$$.fragment,s)},m(s,l){L(s,t,l),L(s,n,l),x(o,s,l),a=!0},p(s,l){const _={};l&2048&&(_.$$scope={dirty:l,ctx:s}),o.$set(_)},i(s){a||(w(o.$$.fragment,s),a=!0)},o(s){T(o.$$.fragment,s),a=!1},d(s){s&&(p(t),p(n)),G(o,s)}}}function Xn(r){let t,e;return t=new Hn({props:{resources:r[0]}}),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},p(n,o){const a={};o&1&&(a.resources=n[0]),t.$set(a)},i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function Qn(r){let t,e;return t=new on({props:{$$slots:{default:[tr]},$$scope:{ctx:r}}}),t.$on("click",function(){ft(r[1])&&r[1].apply(this,arguments)}),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},p(n,o){r=n;const a={};o&2048&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function er(r){let t;return{c(){t=K("continue with 81MB download!")},l(e){t=J(e,"continue with 81MB download!")},m(e,n){L(e,t,n)},d(e){e&&p(t)}}}function tr(r){let t;return{c(){t=K("back to the map!")},l(e){t=J(e,"back to the map!")},m(e,n){L(e,t,n)},d(e){e&&p(t)}}}function nr(r){let t,e,n=`Soggy Planet is an interactive map of Earth where sea levels rise and fall and the lights
					of civilization shine through the night. It displays <a href="https://wikipedia.org/wiki/Past_sea_level">past sea levels</a>
					roughly between:`,o,a,s=`<li>the lowest point during
						<a href="https://wikipedia.org/wiki/Last_Glacial_Maximum">the Last Glacial Maximum</a>
						before
						<a href="https://wikipedia.org/wiki/Early_Holocene_sea_level_rise">the early Holocene sea level rise</a></li> <li>and one
						<a href="https://wikipedia.org/wiki/Sea_level_rise">estimated possible maximum</a></li>`,l,_,c="For a 3 minute musical tour of some of our soggy planet's sunken history and myths:",i,u,d,f,m,y,h="tour",E,g,I="the map",M,C,$=`see
						<a href="https://www.youtube.com/watch?v=akP5J3jfjt4">the video on YouTube</a>`,A,N,ne="or learn more below",X,Q,ie=`This map is resource-intensive and may be broken or slow depending on your hardware and
					browser. More optimizations like <a href="https://github.com/ryanatkn/cosmicplayground/issues/56">this one</a> would help.`,D,Y,B=`The code and image data are
					<a href="https://github.com/ryanatkn/cosmicplayground">open source on GitHub</a>. Credits
					are below.`,q,ee,ce,me,Be,$e,Se,le,re,oe,ke,ve,fe,he;me=new Fn({props:{slug:"deep-breath"}});const ae=[Qn,Xn,Wn],ue=[];function ze(U,F){return U[4].status==="success"?0:U[4].status!=="initial"?1:2}return re=ze(r),oe=ue[re]=ae[re](r),{c(){t=S("section"),e=S("p"),e.innerHTML=n,o=P(),a=S("ul"),a.innerHTML=s,l=P(),_=S("p"),_.textContent=c,i=P(),u=S("ul"),d=S("li"),f=S("p"),m=K("click the "),y=S("button"),y.textContent=h,E=K(`
							button on `),g=S("button"),g.textContent=I,M=P(),C=S("li"),C.innerHTML=$,A=P(),N=S("li"),N.textContent=ne,X=P(),Q=S("p"),Q.innerHTML=ie,D=P(),Y=S("p"),Y.innerHTML=B,q=P(),ee=S("p"),ce=K("For a different experience about sea level rise see "),O(me.$$.fragment),Be=K(" ðŸŒš"),$e=P(),Se=S("hr"),le=P(),oe.c(),ke=Xe(),this.h()},l(U){t=z(U,"SECTION",{class:!0});var F=j(t);e=z(F,"P",{"data-svelte-h":!0}),W(e)!=="svelte-1con3e5"&&(e.innerHTML=n),o=H(F),a=z(F,"UL",{"data-svelte-h":!0}),W(a)!=="svelte-1u0lrbn"&&(a.innerHTML=s),l=H(F),_=z(F,"P",{"data-svelte-h":!0}),W(_)!=="svelte-zm50la"&&(_.textContent=c),i=H(F),u=z(F,"UL",{});var se=j(u);d=z(se,"LI",{});var Ue=j(d);f=z(Ue,"P",{});var Le=j(f);m=J(Le,"click the "),y=z(Le,"BUTTON",{class:!0,"data-svelte-h":!0}),W(y)!=="svelte-l12i07"&&(y.textContent=h),E=J(Le,`
							button on `),g=z(Le,"BUTTON",{class:!0,"data-svelte-h":!0}),W(g)!=="svelte-oycntp"&&(g.textContent=I),Le.forEach(p),Ue.forEach(p),M=H(se),C=z(se,"LI",{"data-svelte-h":!0}),W(C)!=="svelte-1kavo3j"&&(C.innerHTML=$),A=H(se),N=z(se,"LI",{"data-svelte-h":!0}),W(N)!=="svelte-ybr8jh"&&(N.textContent=ne),se.forEach(p),X=H(F),Q=z(F,"P",{"data-svelte-h":!0}),W(Q)!=="svelte-1xto716"&&(Q.innerHTML=ie),D=H(F),Y=z(F,"P",{"data-svelte-h":!0}),W(Y)!=="svelte-1ttsbq6"&&(Y.innerHTML=B),q=H(F),ee=z(F,"P",{});var Ce=j(ee);ce=J(Ce,"For a different experience about sea level rise see "),V(me.$$.fragment,Ce),Be=J(Ce," ðŸŒš"),Ce.forEach(p),F.forEach(p),$e=H(U),Se=z(U,"HR",{}),le=H(U),oe.l(U),ke=Xe(),this.h()},h(){R(y,"class","inline"),R(g,"class","inline"),Re(f,"margin-bottom",0),R(t,"class","prose")},m(U,F){L(U,t,F),b(t,e),b(t,o),b(t,a),b(t,l),b(t,_),b(t,i),b(t,u),b(u,d),b(d,f),b(f,m),b(f,y),b(f,E),b(f,g),b(u,M),b(u,C),b(u,A),b(u,N),b(t,X),b(t,Q),b(t,D),b(t,Y),b(t,q),b(t,ee),b(ee,ce),x(me,ee,null),b(ee,Be),L(U,$e,F),L(U,Se,F),L(U,le,F),ue[re].m(U,F),L(U,ke,F),ve=!0,fe||(he=[Ee(y,"click",function(){ft(r[2])&&r[2].apply(this,arguments)}),Ee(g,"click",r[6])],fe=!0)},p(U,F){r=U;let se=re;re=ze(r),re===se?ue[re].p(r,F):(ye(),T(ue[se],1,1,()=>{ue[se]=null}),we(),oe=ue[re],oe?oe.p(r,F):(oe=ue[re]=ae[re](r),oe.c()),w(oe,1),oe.m(ke.parentNode,ke))},i(U){ve||(w(me.$$.fragment,U),w(oe),ve=!0)},o(U){T(me.$$.fragment,U),T(oe),ve=!1},d(U){U&&(p(t),p($e),p(Se),p(le),p(ke)),G(me),ue[re].d(U),fe=!1,dt(he)}}}function rr(r){let t;return{c(){t=K("(myth?)")},l(e){t=J(e,"(myth?)")},m(e,n){L(e,t,n)},d(e){e&&p(t)}}}function or(r,t){let e,n,o=t[8].name+"",a,s,l,_=t[8].myth&&rr();return{key:r,first:null,c(){e=S("li"),n=S("a"),a=K(o),s=P(),_&&_.c(),l=P(),this.h()},l(c){e=z(c,"LI",{});var i=j(e);n=z(i,"A",{href:!0});var u=j(n);a=J(u,o),u.forEach(p),s=H(i),_&&_.l(i),l=H(i),i.forEach(p),this.h()},h(){R(n,"href",t[8].url),this.first=e},m(c,i){L(c,e,i),b(e,n),b(n,a),b(e,s),_&&_.m(e,null),b(e,l)},p:te,d(c){c&&p(e),_&&_.d()}}}function ar(r){let t,e,n="Tour",o,a,s,l,_="Last Glacial Maximum",c,i,u="start tour",d,f,m="the map",y,h,E="the video on YouTube",g,I,M,C="Learn about the tour's points of interest on Wikipedia:",$,A,N=[],ne=new Map,X,Q,ie=yt(an);const D=Y=>Y[8];for(let Y=0;Y<ie.length;Y+=1){let B=Jn(r,ie,Y),q=D(B);ne.set(q,N[Y]=or(q,B))}return{c(){t=S("section"),e=S("h2"),e.textContent=n,o=P(),a=S("p"),s=K(`Soggy Planet includes a 3 minute tour of some points of interest related to sea levels at
					the `),l=S("a"),l.textContent=_,c=K(`.
					Click the `),i=S("button"),i.textContent=u,d=K(`
					button on `),f=S("button"),f.textContent=m,y=K(` or see
					`),h=S("a"),h.textContent=E,g=K("."),I=P(),M=S("p"),M.textContent=C,$=P(),A=S("ul");for(let Y=0;Y<N.length;Y+=1)N[Y].c();this.h()},l(Y){t=z(Y,"SECTION",{class:!0});var B=j(t);e=z(B,"H2",{"data-svelte-h":!0}),W(e)!=="svelte-czv2r0"&&(e.textContent=n),o=H(B),a=z(B,"P",{});var q=j(a);s=J(q,`Soggy Planet includes a 3 minute tour of some points of interest related to sea levels at
					the `),l=z(q,"A",{href:!0,"data-svelte-h":!0}),W(l)!=="svelte-atqrgm"&&(l.textContent=_),c=J(q,`.
					Click the `),i=z(q,"BUTTON",{class:!0,"data-svelte-h":!0}),W(i)!=="svelte-h69vsr"&&(i.textContent=u),d=J(q,`
					button on `),f=z(q,"BUTTON",{class:!0,"data-svelte-h":!0}),W(f)!=="svelte-oycntp"&&(f.textContent=m),y=J(q,` or see
					`),h=z(q,"A",{href:!0,"data-svelte-h":!0}),W(h)!=="svelte-wp73fi"&&(h.textContent=E),g=J(q,"."),q.forEach(p),I=H(B),M=z(B,"P",{"data-svelte-h":!0}),W(M)!=="svelte-14gzp6"&&(M.textContent=C),$=H(B),A=z(B,"UL",{});var ee=j(A);for(let ce=0;ce<N.length;ce+=1)N[ce].l(ee);ee.forEach(p),B.forEach(p),this.h()},h(){R(l,"href","https://wikipedia.org/wiki/Last_Glacial_Maximum"),R(i,"class","inline"),R(f,"class","inline"),R(h,"href","https://www.youtube.com/watch?v=akP5J3jfjt4"),R(t,"class","prose")},m(Y,B){L(Y,t,B),b(t,e),b(t,o),b(t,a),b(a,s),b(a,l),b(a,c),b(a,i),b(a,d),b(a,f),b(a,y),b(a,h),b(a,g),b(t,I),b(t,M),b(t,$),b(t,A);for(let q=0;q<N.length;q+=1)N[q]&&N[q].m(A,null);X||(Q=[Ee(i,"click",function(){ft(r[2])&&r[2].apply(this,arguments)}),Ee(f,"click",r[6])],X=!0)},p(Y,B){r=Y},d(Y){Y&&p(t);for(let B=0;B<N.length;B+=1)N[B].d();X=!1,dt(Q)}}}function ir(r){let t,e,n="Credits",o,a,s;return a=new Mn({}),{c(){t=S("section"),e=S("h2"),e.textContent=n,o=P(),O(a.$$.fragment),this.h()},l(l){t=z(l,"SECTION",{class:!0});var _=j(t);e=z(_,"H2",{"data-svelte-h":!0}),W(e)!=="svelte-129hxhk"&&(e.textContent=n),o=H(_),V(a.$$.fragment,_),_.forEach(p),this.h()},h(){R(t,"class","prose")},m(l,_){L(l,t,_),b(t,e),b(t,o),x(a,t,null),s=!0},p:te,i(l){s||(w(a.$$.fragment,l),s=!0)},o(l){T(a.$$.fragment,l),s=!1},d(l){l&&p(t),G(a)}}}function sr(r){let t,e,n;return e=new Gn({}),{c(){t=S("section"),O(e.$$.fragment),this.h()},l(o){t=z(o,"SECTION",{class:!0});var a=j(t);V(e.$$.fragment,a),a.forEach(p),this.h()},h(){R(t,"class","prose")},m(o,a){L(o,t,a),x(e,t,null),n=!0},p:te,i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){o&&p(t),G(e)}}}function lr(r){let t,e;return t=new Rn({}),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function ur(r){let t,e,n,o,a,s,l,_,c,i,u,d,f,m,y,h,E,g,I,M;t=new nn({props:{$$slots:{default:[Zn]},$$scope:{ctx:r}}}),s=new In({props:{on_click:r[5]?r[6]:null}});let C=r[3]&&Ht();return i=new ut({props:{$$slots:{default:[nr]},$$scope:{ctx:r}}}),d=new ut({props:{$$slots:{default:[ar]},$$scope:{ctx:r}}}),m=new ut({props:{$$slots:{default:[ir]},$$scope:{ctx:r}}}),h=new ut({props:{$$slots:{default:[sr]},$$scope:{ctx:r}}}),I=new Yn({props:{href:tn+"/about",$$slots:{default:[lr]},$$scope:{ctx:r}}}),{c(){O(t.$$.fragment),e=P(),n=S("div"),o=S("div"),a=S("div"),O(s.$$.fragment),l=P(),_=S("div"),C&&C.c(),c=P(),O(i.$$.fragment),u=P(),O(d.$$.fragment),f=P(),O(m.$$.fragment),y=P(),O(h.$$.fragment),E=P(),g=S("section"),O(I.$$.fragment),this.h()},l($){V(t.$$.fragment,$),e=H($),n=z($,"DIV",{class:!0});var A=j(n);o=z(A,"DIV",{class:!0});var N=j(o);a=z(N,"DIV",{});var ne=j(a);V(s.$$.fragment,ne),ne.forEach(p),l=H(N),_=z(N,"DIV",{class:!0});var X=j(_);C&&C.l(X),X.forEach(p),c=H(N),V(i.$$.fragment,N),u=H(N),V(d.$$.fragment,N),f=H(N),V(m.$$.fragment,N),y=H(N),V(h.$$.fragment,N),E=H(N),g=z(N,"SECTION",{});var Q=j(g);V(I.$$.fragment,Q),Q.forEach(p),N.forEach(p),A.forEach(p),this.h()},h(){Re(a,"margin-bottom","55px"),R(_,"class","loading_animation svelte-3mhbr8"),R(o,"class","box width_md"),R(n,"class","soggy_planet_title_screen box width_full svelte-3mhbr8")},m($,A){x(t,$,A),L($,e,A),L($,n,A),b(n,o),b(o,a),x(s,a,null),b(o,l),b(o,_),C&&C.m(_,null),b(o,c),x(i,o,null),b(o,u),x(d,o,null),b(o,f),x(m,o,null),b(o,y),x(h,o,null),b(o,E),b(o,g),x(I,g,null),M=!0},p($,[A]){const N={};A&2048&&(N.$$scope={dirty:A,ctx:$}),t.$set(N),$[3]?C?A&8&&w(C,1):(C=Ht(),C.c(),w(C,1),C.m(_,null)):C&&(ye(),T(C,1,1,()=>{C=null}),we());const ne={};A&2071&&(ne.$$scope={dirty:A,ctx:$}),i.$set(ne);const X={};A&2052&&(X.$$scope={dirty:A,ctx:$}),d.$set(X);const Q={};A&2048&&(Q.$$scope={dirty:A,ctx:$}),m.$set(Q);const ie={};A&2048&&(ie.$$scope={dirty:A,ctx:$}),h.$set(ie);const D={};A&2048&&(D.$$scope={dirty:A,ctx:$}),I.$set(D)},i($){M||(w(t.$$.fragment,$),w(s.$$.fragment,$),w(C),w(i.$$.fragment,$),w(d.$$.fragment,$),w(m.$$.fragment,$),w(h.$$.fragment,$),w(I.$$.fragment,$),M=!0)},o($){T(t.$$.fragment,$),T(s.$$.fragment,$),T(C),T(i.$$.fragment,$),T(d.$$.fragment,$),T(m.$$.fragment,$),T(h.$$.fragment,$),T(I.$$.fragment,$),M=!1},d($){$&&(p(e),p(n)),G(t,$),G(s),C&&C.d(),G(i),G(d),G(m),G(h),G(I)}}}const Dt="cpg__hasLoadedSoggyPlanet";function _r(r,t,e){let n,o=te,a=()=>(o(),o=de(s,f=>e(4,n=f)),s);r.$$.on_destroy.push(()=>o());let{resources:s}=t;a();let{proceed:l}=t,{start_tour:_}=t;const c=!!localStorage.getItem(Dt),i=c;let u=!1;const d=async()=>{e(3,u=!0),await s.load(),e(3,u=!1),n.status==="success"&&(c||localStorage.setItem(Dt,"true"),l())};return r.$$set=f=>{"resources"in f&&a(e(0,s=f.resources)),"proceed"in f&&e(1,l=f.proceed),"start_tour"in f&&e(2,_=f.start_tour)},[s,l,_,u,n,i,d]}class cr extends De{constructor(t){super(),Ne(this,t,_r,ur,He,{resources:0,proceed:1,start_tour:2})}}function fr(r){let t,e,n,o;return{c(){t=S("div"),e=S("div"),this.h()},l(a){t=z(a,"DIV",{class:!0,"aria-hidden":!0});var s=j(t);e=z(s,"DIV",{class:!0,style:!0}),j(e).forEach(p),s.forEach(p),this.h()},h(){R(e,"class","daylight-fill svelte-12hldno"),Re(e,"height",100*r[0]+"%"),R(t,"class","daylight svelte-12hldno"),R(t,"aria-hidden",""),ct(t,"selected",r[1]!==null)},m(a,s){L(a,t,s),b(t,e),r[6](t),n||(o=[Ee(t,"click",r[7]),Ee(t,"mouseenter",r[8]),Ee(t,"mousemove",r[9]),Ee(t,"mouseleave",r[10])],n=!0)},p(a,[s]){s&1&&Re(e,"height",100*a[0]+"%"),s&2&&ct(t,"selected",a[1]!==null)},i:te,o:te,d(a){a&&p(t),r[6](null),n=!1,dt(o)}}}function dr(r,t,e){let{daylight:n}=t,{selected_daylight:o}=t,{select_daylight:a}=t,{hover_daylight:s}=t,l;const _=m=>{const y=l.getBoundingClientRect();return 1-(m-y.top)/(y.bottom-y.top)};function c(m){Ie[m?"unshift":"push"](()=>{l=m,e(4,l)})}const i=m=>a(o===null?_(m.clientY):null),u=m=>s(_(m.clientY)),d=m=>s(_(m.clientY)),f=()=>s(null);return r.$$set=m=>{"daylight"in m&&e(0,n=m.daylight),"selected_daylight"in m&&e(1,o=m.selected_daylight),"select_daylight"in m&&e(2,a=m.select_daylight),"hover_daylight"in m&&e(3,s=m.hover_daylight)},[n,o,a,s,l,_,c,i,u,d,f]}class mr extends De{constructor(t){super(),Ne(this,t,dr,fr,He,{daylight:0,selected_daylight:1,select_daylight:2,hover_daylight:3})}}function hr(r){let t;return{c(){t=K("muted")},l(e){t=J(e,"muted")},m(e,n){L(e,t,n)},d(e){e&&p(t)}}}function gr(r){let t;return{c(){t=K("unmuted")},l(e){t=J(e,"unmuted")},m(e,n){L(e,t,n)},d(e){e&&p(t)}}}function pr(r){let t;function e(a,s){return a[5]?gr:hr}let n=e(r),o=n(r);return{c(){o.c(),t=P()},l(a){o.l(a),t=H(a)},m(a,s){o.m(a,s),L(a,t,s)},p(a,s){n!==(n=e(a))&&(o.d(1),o=n(a),o&&(o.c(),o.m(t.parentNode,t)))},d(a){a&&p(t),o.d(a)}}}function br(r){let t,e=Math.round(r[7]*10)/10+"",n;return{c(){t=K("scale: "),n=K(e)},l(o){t=J(o,"scale: "),n=J(o,e)},m(o,a){L(o,t,a),L(o,n,a)},p(o,a){a&128&&e!==(e=Math.round(o[7]*10)/10+"")&&mt(n,e)},d(o){o&&(p(t),p(n))}}}function vr(r){let t,e=Math.round(r[8])+"",n;return{c(){t=K("x: "),n=K(e)},l(o){t=J(o,"x: "),n=J(o,e)},m(o,a){L(o,t,a),L(o,n,a)},p(o,a){a&256&&e!==(e=Math.round(o[8])+"")&&mt(n,e)},d(o){o&&(p(t),p(n))}}}function yr(r){let t,e=Math.round(r[9])+"",n;return{c(){t=K("y: "),n=K(e)},l(o){t=J(o,"y: "),n=J(o,e)},m(o,a){L(o,t,a),L(o,n,a)},p(o,a){a&512&&e!==(e=Math.round(o[9])+"")&&mt(n,e)},d(o){o&&(p(t),p(n))}}}function Nt(r){let t,e;return t=new Dn({props:{tour:r[0],debug_start_time:r[4]}}),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},p(n,o){const a={};o&1&&(a.tour=n[0]),o&16&&(a.debug_start_time=n[4]),t.$set(a)},i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function wr(r){let t,e,n,o,a,s,l,_,c;t=new tt({props:{$$slots:{default:[pr]},$$scope:{ctx:r}}}),t.$on("click",r[14]),e=new tt({props:{$$slots:{default:[br]},$$scope:{ctx:r}}}),e.$on("click",r[15]),o=new tt({props:{$$slots:{default:[vr]},$$scope:{ctx:r}}}),o.$on("click",r[16]),s=new tt({props:{$$slots:{default:[yr]},$$scope:{ctx:r}}}),s.$on("click",r[17]);let i=r[0]&&r[10]&&Nt(r);return{c(){O(t.$$.fragment),O(e.$$.fragment),n=P(),O(o.$$.fragment),a=P(),O(s.$$.fragment),l=P(),i&&i.c(),_=Xe()},l(u){V(t.$$.fragment,u),V(e.$$.fragment,u),n=H(u),V(o.$$.fragment,u),a=H(u),V(s.$$.fragment,u),l=H(u),i&&i.l(u),_=Xe()},m(u,d){x(t,u,d),x(e,u,d),L(u,n,d),x(o,u,d),L(u,a,d),x(s,u,d),L(u,l,d),i&&i.m(u,d),L(u,_,d),c=!0},p(u,[d]){const f={};d&262176&&(f.$$scope={dirty:d,ctx:u}),t.$set(f);const m={};d&262272&&(m.$$scope={dirty:d,ctx:u}),e.$set(m);const y={};d&262400&&(y.$$scope={dirty:d,ctx:u}),o.$set(y);const h={};d&262656&&(h.$$scope={dirty:d,ctx:u}),s.$set(h),u[0]&&u[10]?i?(i.p(u,d),d&1025&&w(i,1)):(i=Nt(u),i.c(),w(i,1),i.m(_.parentNode,_)):i&&(ye(),T(i,1,1,()=>{i=null}),we())},i(u){c||(w(t.$$.fragment,u),w(e.$$.fragment,u),w(o.$$.fragment,u),w(s.$$.fragment,u),w(i),c=!0)},o(u){T(t.$$.fragment,u),T(e.$$.fragment,u),T(o.$$.fragment,u),T(s.$$.fragment,u),T(i),c=!1},d(u){u&&(p(n),p(a),p(l),p(_)),G(t,u),G(e,u),G(o,u),G(s,u),i&&i.d(u)}}}function $r(r,t,e){let n,o,a,s,l=te,_=()=>(l(),l=de(C,D=>e(7,s=D)),C),c,i=te,u=()=>(i(),i=de(I,D=>e(8,c=D)),I),d,f=te,m=()=>(f(),f=de(M,D=>e(9,d=D)),M),y,h=te,E=()=>(h(),h=de(n,D=>e(10,y=D)),n);r.$$.on_destroy.push(()=>l()),r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>h());let{tour:g}=t,{x:I}=t;u();let{y:M}=t;m();let{scale:C}=t;_();let{debug_start_time:$}=t;const A=rt();Me(r,A,D=>e(13,a=D));const N=(D=!o)=>A.update(Y=>({...Y,audio_enabled:D})),ne=()=>N(),X=()=>{be(C,s=Number(prompt("ðŸ”Ž",s+""))||s,s)},Q=()=>{const D=Number(prompt("x",c+""));Number.isNaN(D)||be(I,c=D,c)},ie=()=>{const D=Number(prompt("y",d+""));Number.isNaN(D)||be(M,d=D,d)};return r.$$set=D=>{"tour"in D&&e(0,g=D.tour),"x"in D&&u(e(1,I=D.x)),"y"in D&&m(e(2,M=D.y)),"scale"in D&&_(e(3,C=D.scale)),"debug_start_time"in D&&e(4,$=D.debug_start_time)},r.$$.update=()=>{r.$$.dirty&1&&E(e(6,n=g==null?void 0:g.touring)),r.$$.dirty&8192&&e(5,{audio_enabled:o}=a,o)},[g,I,M,C,$,o,n,s,c,d,y,A,N,a,ne,X,Q,ie]}class kr extends De{constructor(t){super(),Ne(this,t,$r,wr,He,{tour:0,x:1,y:2,scale:3,debug_start_time:4})}}function At(r,t,e){const n=r.slice();return n[10]=t[e],n[12]=e,n}function Ot(r,t){let e,n,o=(t[10]||"&nbsp;")+"",a,s;return{key:r,first:null,c(){e=S("div"),n=new wn(!1),a=P(),this.h()},l(l){e=z(l,"DIV",{class:!0});var _=j(e);n=$n(_,!1),a=H(_),_.forEach(p),this.h()},h(){n.a=a,R(e,"class","text svelte-16itjb2"),this.first=e},m(l,_){L(l,e,_),n.m(o,e),b(e,a)},p(l,_){t=l,_&1&&o!==(o=(t[10]||"&nbsp;")+"")&&n.p(o)},i(l){l&&(s||Pe(()=>{s=Ge(e,Te,{duration:t[1],amount:$t}),s.start()}))},o:te,d(l){l&&p(e)}}}function Cr(r){let t,e,n=[],o=new Map,a=`${r[3]}px`,s,l=`${r[4].height/2-164}px`,_,c,i,u=yt(r[0]);const d=f=>f[12]+f[10];for(let f=0;f<u.length;f+=1){let m=At(r,u,f),y=d(m);o.set(y,n[f]=Ot(y,m))}return{c(){t=S("div"),e=S("div");for(let f=0;f<n.length;f+=1)n[f].c();this.h()},l(f){t=z(f,"DIV",{class:!0});var m=j(t);e=z(m,"DIV",{});var y=j(e);for(let h=0;h<n.length;h+=1)n[h].l(y);y.forEach(p),m.forEach(p),this.h()},h(){Re(e,"height",a),R(t,"class","tour-text prose svelte-16itjb2"),Re(t,"top",l)},m(f,m){L(f,t,m),b(t,e);for(let y=0;y<n.length;y+=1)n[y]&&n[y].m(e,null);_=!0,c||(i=[Ee(t,"click",r[6],!0),Ee(t,"keydown",r[7],!0)],c=!0)},p(f,[m]){r=f,m&1&&(u=yt(r[0]),n=Sn(n,m,d,1,r,u,o,e,zn,Ot,null,At)),m&8&&a!==(a=`${r[3]}px`)&&Re(e,"height",a),m&16&&l!==(l=`${r[4].height/2-164}px`)&&Re(t,"top",l)},i(f){if(!_){for(let m=0;m<u.length;m+=1)w(n[m]);f&&Pe(()=>{_&&(s||(s=Lt(t,Te,{duration:r[2],amount:$t},!0)),s.run(1))}),_=!0}},o(f){f&&(s||(s=Lt(t,Te,{duration:r[2],amount:$t},!1)),s.run(0)),_=!1},d(f){f&&p(t);for(let m=0;m<n.length;m+=1)n[m].d();f&&s&&s.end(),c=!1,dt(i)}}}const $t=99;function Tr(r,t,e){let n,o;const a=kt(),s=en();Me(r,s,f=>e(4,o=f));let{tour_text:l}=t,{transition_in_duration:_=600}=t,{transition_out_duration:c=870}=t,{height_per_item:i=90}=t;const u=f=>{f.target instanceof HTMLAnchorElement&&(nt(f),a.pause(),window.open(f.target.href,"_blank"))},d=f=>{f.target instanceof HTMLAnchorElement&&(f.key===" "||f.key==="Enter")&&(nt(f),a.pause(),window.open(f.target.href,"_blank"))};return r.$$set=f=>{"tour_text"in f&&e(0,l=f.tour_text),"transition_in_duration"in f&&e(1,_=f.transition_in_duration),"transition_out_duration"in f&&e(2,c=f.transition_out_duration),"height_per_item"in f&&e(8,i=f.height_per_item)},r.$$.update=()=>{r.$$.dirty&257&&e(3,n=i*l.length)},[l,_,c,n,o,s,u,d,i]}class Er extends De{constructor(t){super(),Ne(this,t,Tr,Cr,He,{tour_text:0,transition_in_duration:1,transition_out_duration:2,height_per_item:8})}}function Sr(r){let t,e,n,o="soggy",a,s,l,_,c="planet",i,u,d;return{c(){t=S("div"),e=S("div"),n=S("div"),n.textContent=o,s=P(),l=S("div"),_=S("div"),_.textContent=c,this.h()},l(f){t=z(f,"DIV",{class:!0});var m=j(t);e=z(m,"DIV",{class:!0,style:!0});var y=j(e);n=z(y,"DIV",{"data-svelte-h":!0}),W(n)!=="svelte-h5gv3z"&&(n.textContent=o),y.forEach(p),s=H(m),l=z(m,"DIV",{class:!0,style:!0});var h=j(l);_=z(h,"DIV",{"data-svelte-h":!0}),W(_)!=="svelte-1q4vgp0"&&(_.textContent=c),h.forEach(p),m.forEach(p),this.h()},h(){R(e,"class","text svelte-mdif8m"),R(e,"style",r[2]),R(l,"class","text svelte-mdif8m"),R(l,"style",r[2]),R(t,"class","tour-title svelte-mdif8m")},m(f,m){L(f,t,m),b(t,e),b(e,n),b(t,s),b(t,l),b(l,_),d=!0},p(f,[m]){r=f,(!d||m&4)&&R(e,"style",r[2]),(!d||m&4)&&R(l,"style",r[2])},i(f){d||(f&&(a||Pe(()=>{a=Ge(n,Te,{duration:r[0],amount:vt}),a.start()})),f&&(i||Pe(()=>{i=Ge(_,Te,{duration:r[0],amount:vt,delay:r[1]}),i.start()})),u&&u.end(1),d=!0)},o(f){f&&(u=En(t,Te,{duration:r[0],amount:vt})),d=!1},d(f){f&&p(t),f&&u&&u.end()}}}const vt=99;function zr(r,t,e){let n,o,{hide:a}=t,{transition_duration:s}=t,{pause_duration:l}=t,{max_delay:_}=t,c;return Qt(()=>{c=setTimeout(()=>a(),s+_+l)}),kn(()=>{clearTimeout(c)}),r.$$set=i=>{"hide"in i&&e(3,a=i.hide),"transition_duration"in i&&e(0,s=i.transition_duration),"pause_duration"in i&&e(4,l=i.pause_duration),"max_delay"in i&&e(1,_=i.max_delay)},r.$$.update=()=>{r.$$.dirty&17&&e(5,n=s*2+l),r.$$.dirty&32&&e(2,o=`animation-duration: ${n}ms;`)},[s,_,o,a,l,n]}class Lr extends De{constructor(t){super(),Ne(this,t,zr,Sr,He,{hide:3,transition_duration:0,pause_duration:4,max_delay:1})}}function Ir(r){let t,e,n=`<h2 class="svelte-1acr1r">created by</h2>
		Ryan Atkinson<br/> <a href="https://www.ryanatkn.com" class="svelte-1acr1r">ryanatkn.com</a>`,o,a,s,l='<h2 class="svelte-1acr1r">interactive webpage</h2> <a href="https://www.cosmicplayground.org/soggy-planet" class="svelte-1acr1r">cosmicplayground.org/soggy-planet</a>',_,c,i,u='<h2 class="svelte-1acr1r">open source code &amp; assets</h2> <a href="https://github.com/ryanatkn/cosmicplayground" class="svelte-1acr1r">github.com/ryanatkn/cosmicplayground</a>',d,f,m,y=`<h2 class="svelte-1acr1r">music</h2> <a href="${tn}/assets/audio/Alexander_Nakarada__PiÃ±a_Colada.mp3" class="svelte-1acr1r">&quot;PiÃ±a Colada&quot;</a> by Alexander
		Nakarada<br/> <a href="https://www.serpentsoundstudios.com" class="svelte-1acr1r">serpentsoundstudios.com</a> <br/><br/> <a href="/assets/audio/water_trickle.mp3" class="svelte-1acr1r">recording of water trickling</a> <br/> by
		<a href="https://freesound.org/people/FractalStudios/sounds/363120/" class="svelte-1acr1r">FractalStudios on freesound.org</a>,
		<a href="https://creativecommons.org/publicdomain/zero/1.0/" class="svelte-1acr1r">CC0 1.0</a>`,h,E,g,I=`<h2 class="svelte-1acr1r">imagery &amp; data</h2> <a href="https://visibleearth.nasa.gov/collection/1484/blue-marble" class="svelte-1acr1r">Blue Marble Next Generation</a>
		by Reto StÃ¶ckli <br/> <a href="https://visibleearth.nasa.gov" class="svelte-1acr1r">NASA Visible Earth</a> and
		<a href="https://earthobservatory.nasa.gov" class="svelte-1acr1r">NASA Earth Observatory</a>
		(2004) <br/> <br/> Earth <a href="https://visibleearth.nasa.gov/images/73934/topography" class="svelte-1acr1r">topography</a> and
		<a href="https://visibleearth.nasa.gov/images/73963/bathymetry" class="svelte-1acr1r">bathymetry</a>
		by Jesse Allen <br/> <a href="https://visibleearth.nasa.gov" class="svelte-1acr1r">NASA Visible Earth</a> and
		<a href="https://earthobservatory.nasa.gov" class="svelte-1acr1r">NASA Earth Observatory</a> <br/> using data from the
		<a href="https://www.gebco.net/" class="svelte-1acr1r">General Bathymetric Chart of the Oceans</a> <br/> produced by the <a href="https://www.bodc.ac.uk/" class="svelte-1acr1r">British Oceanographic Data Centre</a>
		(2005)
		<br/> <br/> <a href="https://earthobservatory.nasa.gov/features/NightLights" class="svelte-1acr1r">Earth at Night</a>
		(<a href="https://earthobservatory.nasa.gov/features/NightLights/page3.php" class="svelte-1acr1r">flat maps</a>) by
		<a href="https://earthobservatory.nasa.gov/about/michael-carlowicz" class="svelte-1acr1r">Michael Carlowicz</a><br/> <a href="https://earthobservatory.nasa.gov" class="svelte-1acr1r">NASA Earth Observatory</a>
		(2017)`,M;return{c(){t=S("div"),e=S("section"),e.innerHTML=n,a=P(),s=S("section"),s.innerHTML=l,c=P(),i=S("section"),i.innerHTML=u,f=P(),m=S("section"),m.innerHTML=y,E=P(),g=S("section"),g.innerHTML=I,this.h()},l(C){t=z(C,"DIV",{class:!0});var $=j(t);e=z($,"SECTION",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-k229uo"&&(e.innerHTML=n),a=H($),s=z($,"SECTION",{class:!0,"data-svelte-h":!0}),W(s)!=="svelte-bedmy7"&&(s.innerHTML=l),c=H($),i=z($,"SECTION",{class:!0,"data-svelte-h":!0}),W(i)!=="svelte-m0ugxf"&&(i.innerHTML=u),f=H($),m=z($,"SECTION",{class:!0,"data-svelte-h":!0}),W(m)!=="svelte-r877t7"&&(m.innerHTML=y),E=H($),g=z($,"SECTION",{class:!0,"data-svelte-h":!0}),W(g)!=="svelte-n0r2sn"&&(g.innerHTML=I),$.forEach(p),this.h()},h(){R(e,"class","svelte-1acr1r"),R(s,"class","svelte-1acr1r"),R(i,"class","svelte-1acr1r"),R(m,"class","svelte-1acr1r"),R(g,"class","svelte-1acr1r"),R(t,"class","tour-credits prose svelte-1acr1r"),ct(t,"display_for_video",r[1])},m(C,$){L(C,t,$),b(t,e),b(t,a),b(t,s),b(t,c),b(t,i),b(t,f),b(t,m),b(t,E),b(t,g)},p(C,[$]){r=C,$&2&&ct(t,"display_for_video",r[1])},i(C){C&&(o||Pe(()=>{o=Ge(e,Te,{duration:r[0],amount:et}),o.start()})),C&&(_||Pe(()=>{_=Ge(s,Te,{duration:r[0],delay:_t*1,amount:et}),_.start()})),C&&(d||Pe(()=>{d=Ge(i,Te,{duration:r[0],delay:_t*2,amount:et}),d.start()})),C&&(h||Pe(()=>{h=Ge(m,Te,{duration:r[0],delay:_t*3,amount:et}),h.start()})),C&&(M||Pe(()=>{M=Ge(g,Te,{duration:r[0],delay:_t*4,amount:et}),M.start()}))},o:te,d(C){C&&p(t)}}}const _t=250,et=20;function Mr(r,t,e){let n,o;const a=rt();Me(r,a,l=>e(3,o=l));let{transition_duration:s}=t;return r.$$set=l=>{"transition_duration"in l&&e(0,s=l.transition_duration)},r.$$.update=()=>{r.$$.dirty&8&&e(1,n=o.recording_mode)},[s,n,a,o]}class Br extends De{constructor(t){super(),Ne(this,t,Mr,Ir,He,{transition_duration:0})}}function Vt(r){let t,e,n,o,a=r[12]&&xt(r),s=r[15]&&Gt(r),l=r[14]&&Rt();return{c(){t=S("div"),a&&a.c(),e=P(),s&&s.c(),n=P(),l&&l.c(),this.h()},l(_){t=z(_,"DIV",{class:!0});var c=j(t);a&&a.l(c),e=H(c),s&&s.l(c),n=H(c),l&&l.l(c),c.forEach(p),this.h()},h(){R(t,"class","tour svelte-1ryehd")},m(_,c){L(_,t,c),a&&a.m(t,null),b(t,e),s&&s.m(t,null),b(t,n),l&&l.m(t,null),o=!0},p(_,c){_[12]?a?(a.p(_,c),c[0]&4096&&w(a,1)):(a=xt(_),a.c(),w(a,1),a.m(t,e)):a&&(ye(),T(a,1,1,()=>{a=null}),we()),_[15]?s?(s.p(_,c),c[0]&32768&&w(s,1)):(s=Gt(_),s.c(),w(s,1),s.m(t,n)):s&&(ye(),T(s,1,1,()=>{s=null}),we()),_[14]?l?(l.p(_,c),c[0]&16384&&w(l,1)):(l=Rt(),l.c(),w(l,1),l.m(t,null)):l&&(ye(),T(l,1,1,()=>{l=null}),we())},i(_){o||(w(a),w(s),w(l),o=!0)},o(_){T(a),T(s),T(l),o=!1},d(_){_&&p(t),a&&a.d(),s&&s.d(),l&&l.d()}}}function xt(r){let t,e;return t=new Er({props:{tour_text:r[12]}}),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},p(n,o){const a={};o[0]&4096&&(a.tour_text=n[12]),t.$set(a)},i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function Gt(r){let t,e;return t=new Lr({props:{hide:r[30],transition_duration:Ct,pause_duration:sn,max_delay:ln}}),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},p(n,o){const a={};o[0]&32768&&(a.hide=n[30]),t.$set(a)},i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function Rt(r){let t,e;return t=new Br({props:{transition_duration:Ct}}),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},p:te,i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function Pr(r){let t,e,n,o,a,s,l,_,c,i=r[10]&&Vt(r);function u(g){r[33](g)}function d(g){r[34](g)}function f(g){r[35](g)}function m(g){r[36](g)}function y(g){r[37](g)}function h(g){r[38](g)}let E={camera:r[7],clock:r[16],hooks:r[20],create_tour_data:r[31]};return r[2]!==void 0&&(E.touring=r[2]),r[3]!==void 0&&(E.tourData=r[3]),r[4]!==void 0&&(E.currentTime=r[4]),r[5]!==void 0&&(E.currentStepIndex=r[5]),r[0]!==void 0&&(E.paused=r[0]),r[6]!==void 0&&(E.begin_tour=r[6]),e=new Nn({props:E}),r[32](e),Ie.push(()=>je(e,"touring",u)),Ie.push(()=>je(e,"tourData",d)),Ie.push(()=>je(e,"currentTime",f)),Ie.push(()=>je(e,"currentStepIndex",m)),Ie.push(()=>je(e,"paused",y)),Ie.push(()=>je(e,"begin_tour",h)),e.$on("begin",r[39]),{c(){i&&i.c(),t=P(),O(e.$$.fragment)},l(g){i&&i.l(g),t=H(g),V(e.$$.fragment,g)},m(g,I){i&&i.m(g,I),L(g,t,I),x(e,g,I),c=!0},p(g,I){g[10]?i?(i.p(g,I),I[0]&1024&&w(i,1)):(i=Vt(g),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(ye(),T(i,1,1,()=>{i=null}),we());const M={};I[0]&128&&(M.camera=g[7]),I[0]&8192&&(M.create_tour_data=g[31]),!n&&I[0]&4&&(n=!0,M.touring=g[2],Fe(()=>n=!1)),!o&&I[0]&8&&(o=!0,M.tourData=g[3],Fe(()=>o=!1)),!a&&I[0]&16&&(a=!0,M.currentTime=g[4],Fe(()=>a=!1)),!s&&I[0]&32&&(s=!0,M.currentStepIndex=g[5],Fe(()=>s=!1)),!l&&I[0]&1&&(l=!0,M.paused=g[0],Fe(()=>l=!1)),!_&&I[0]&64&&(_=!0,M.begin_tour=g[6],Fe(()=>_=!1)),e.$set(M)},i(g){c||(w(i),w(e.$$.fragment,g),c=!0)},o(g){T(i),T(e.$$.fragment,g),c=!1},d(g){g&&p(t),i&&i.d(g),r[32](null),G(e,g)}}}const Yt="/assets/audio/Alexander_Nakarada__PiÃ±a_Colada.mp3",Ft="/assets/audio/water_trickle.mp3",Ct=2e3,sn=3e3,ln=250;function Hr(r,t,e){let n,o,a,s,l,_=te,c=()=>(_(),_=de(oe,v=>e(44,l=v)),oe),i,u=te,d=()=>(u(),u=de(re,v=>e(14,i=v)),re),f,m=te,y=()=>(m(),m=de(le,v=>e(15,f=v)),le),h,E=te,g=()=>(E(),E=de(B,v=>e(45,h=v)),B),I,M=te,C=()=>(M(),M=de(D,v=>e(10,I=v)),D),$,A=te,N=()=>(A(),A=de(Y,v=>e(27,$=v)),Y),ne,X;r.$$.on_destroy.push(()=>_()),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>E()),r.$$.on_destroy.push(()=>M()),r.$$.on_destroy.push(()=>A());let{camera:Q}=t,{tour:ie=void 0}=t,{touring:D=void 0}=t;C();let{tour_data:Y=void 0}=t;N();let{current_time:B=void 0}=t;g();let{current_step_index:q=void 0}=t,{paused:ee=void 0}=t,{begin_tour:ce=void 0}=t,{update_land_images:me}=t,{update_daylight:Be}=t,{update_sea_level:$e}=t;const Se=bt(!1),le=bt(!1);y();const re=bt(!1);d();let{scale:oe}=Q;c();const ke=kt(),ve=rt();Me(r,ve,v=>e(29,X=v));const fe=rn();Me(r,fe,v=>e(28,ne=v)),fe.addResource("audio",Yt),fe.addResource("audio",Ft);let he,ae;const ue=Ct*2+ln+sn;let ze=ee;const U=v=>{he.audio&&a&&h!=null&&v!=null&&lt(he.audio,a,h,n,v),ae.audio&&s&&h!=null&&v!=null&&lt(ae.audio,s,h,n,v)};let F=null;const se=v=>{if(typeof v=="string")e(12,F=[v]);else{const ge=F?F.filter(Boolean):[];for(ge.push(v.content);ge.length<v.count;)ge.push("");e(12,F=ge)}},Ue={event:(v,ge)=>{switch(v){case"load":return fe.load();case"play_main_song":{he.audio.currentTime=0,n&&he.audio.play();break}case"play_water_trickle":{ae.audio.currentTime=0,n&&ae.audio.play();return}case"show_text":{se(ge);return}case"clear_text":{e(12,F=null);return}case"show_title":{be(le,f=!0,f);return}case"show_credits":{be(re,i=!0,i),ae.audio.currentTime=0,n&&ae.audio.play();return}case"update_land_images":{const{min:Ae,max:Oe}=ge;me(Ae,Oe);return}case"update_daylight":{const{min:Ae,max:Oe}=ge;Be(Ae,Oe);return}case"update_sea_level":{const{min:Ae,max:Oe}=ge;$e(Ae,Oe);return}default:console.warn("unhandled event",v)}},seek:(v,ge)=>{if(!he.audio)throw Error("seek expects expected main_song.audio");if(!ae.audio)throw Error("seek expects expected water_trickle.audio");if(!a)throw Error("seek expects main_song_step");if(!s)throw Error("seek expects water_trickleStep");lt(he.audio,a,v,n,ee),lt(ae.audio,s,v,n,ee),e(12,F=null),be(le,f=!1,f),be(re,i=!1,i)},done:v=>{e(12,F=null),be(le,f=!1,f),be(re,i=!1,i),l>50&&be(oe,l=50,l),U(!0)}},Le=()=>be(le,f=!1,f),Ce=()=>Kn(ue,o);function ot(v){Ie[v?"unshift":"push"](()=>{ie=v,e(1,ie)})}function Qe(v){D=v,C(e(2,D))}function qe(v){Y=v,N(e(3,Y))}function Ke(v){B=v,g(e(4,B))}function Je(v){q=v,e(5,q)}function at(v){ee=v,e(0,ee)}function it(v){ce=v,e(6,ce)}function Ze(v){Cn.call(this,r,v)}return r.$$set=v=>{"camera"in v&&e(7,Q=v.camera),"tour"in v&&e(1,ie=v.tour),"touring"in v&&C(e(2,D=v.touring)),"tour_data"in v&&N(e(3,Y=v.tour_data)),"current_time"in v&&g(e(4,B=v.current_time)),"current_step_index"in v&&e(5,q=v.current_step_index),"paused"in v&&e(0,ee=v.paused),"begin_tour"in v&&e(6,ce=v.begin_tour),"update_land_images"in v&&e(21,me=v.update_land_images),"update_daylight"in v&&e(22,Be=v.update_daylight),"update_sea_level"in v&&e(23,$e=v.update_sea_level)},r.$$.update=()=>{r.$$.dirty[0]&128&&c(e(11,{scale:oe}=Q,oe)),r.$$.dirty[0]&536870912&&e(26,{audio_enabled:n,dev_mode:o}=X,n,(e(13,o),e(29,X))),r.$$.dirty[0]&268435456&&(he=ne.resources.find(v=>v.url===Yt)),r.$$.dirty[0]&268435456&&(ae=ne.resources.find(v=>v.url===Ft)),r.$$.dirty[0]&134217728&&(a=$&&Bt($,"play_main_song")),r.$$.dirty[0]&134217728&&(s=$&&Bt($,"play_water_trickle")),r.$$.dirty[0]&33555457&&I&&ee!==void 0&&ee!==ze&&(e(25,ze=ee),U(ee)),r.$$.dirty[0]&67108864&&U(!n)},[ee,ie,D,Y,B,q,ce,Q,le,re,I,oe,F,o,i,f,ke,ve,fe,ue,Ue,me,Be,$e,Se,ze,n,$,ne,X,Le,Ce,ot,Qe,qe,Ke,Je,at,it,Ze]}class Dr extends De{constructor(t){super(),Ne(this,t,Hr,Pr,He,{camera:7,tour:1,touring:2,tour_data:3,current_time:4,current_step_index:5,paused:0,begin_tour:6,update_land_images:21,update_daylight:22,update_sea_level:23,show_tour_intro:24,show_tour_title:8,show_tour_credits:9},null,[-1,-1])}get show_tour_intro(){return this.$$.ctx[24]}get show_tour_title(){return this.$$.ctx[8]}get show_tour_credits(){return this.$$.ctx[9]}}function Nr(r){let t,e,n="<code>[shift+Backtick `]</code>",o,a,s,l,_;return{c(){t=S("tr"),e=S("td"),e.innerHTML=n,o=S("td"),a=K("toggle dev mode (currently "),s=S("code"),l=K(r[1]),_=K(")")},l(c){t=z(c,"TR",{});var i=j(t);e=z(i,"TD",{"data-svelte-h":!0}),W(e)!=="svelte-ib4ad0"&&(e.innerHTML=n),o=z(i,"TD",{});var u=j(o);a=J(u,"toggle dev mode (currently "),s=z(u,"CODE",{});var d=j(s);l=J(d,r[1]),d.forEach(p),_=J(u,")"),u.forEach(p),i.forEach(p)},m(c,i){L(c,t,i),b(t,e),b(t,o),b(o,a),b(o,s),b(s,l),b(o,_)},p(c,i){i&2&&mt(l,c[1])},d(c){c&&p(t)}}}function Ar(r){let t,e,n;return e=new jn({props:{clock:r[0],$$slots:{end:[Nr]},$$scope:{ctx:r}}}),{c(){t=S("div"),O(e.$$.fragment),this.h()},l(o){t=z(o,"DIV",{class:!0});var a=j(t);V(e.$$.fragment,a),a.forEach(p),this.h()},h(){R(t,"class","wrapper svelte-1agb8te")},m(o,a){L(o,t,a),x(e,t,null),n=!0},p(o,[a]){const s={};a&1&&(s.clock=o[0]),a&18&&(s.$$scope={dirty:a,ctx:o}),e.$set(s)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){o&&p(t),G(e)}}}function Or(r,t,e){let n,o,{clock:a}=t;const s=rt();return Me(r,s,l=>e(3,o=l)),r.$$set=l=>{"clock"in l&&e(0,a=l.clock)},r.$$.update=()=>{r.$$.dirty&8&&e(1,n=o.dev_mode)},[a,n,s,o]}class Vr extends De{constructor(t){super(),Ne(this,t,Or,Ar,He,{clock:0})}}function jt(r){let t,e,n,o;const a=[Gr,xr],s=[];function l(_,c){return!_[12]&&_[21].status==="success"?0:1}return e=l(r),n=s[e]=a[e](r),{c(){t=S("div"),n.c(),this.h()},l(_){t=z(_,"DIV",{class:!0});var c=j(t);n.l(c),c.forEach(p),this.h()},h(){R(t,"class","soggy-planet svelte-iba55k")},m(_,c){L(_,t,c),s[e].m(t,null),o=!0},p(_,c){let i=e;e=l(_),e===i?s[e].p(_,c):(ye(),T(s[i],1,1,()=>{s[i]=null}),we(),n=s[e],n?n.p(_,c):(n=s[e]=a[e](_),n.c()),w(n,1),n.m(t,null))},i(_){o||(w(n),o=!0)},o(_){T(n),o=!1},d(_){_&&p(t),s[e].d()}}}function xr(r){let t,e;return t=new cr({props:{resources:r[42],proceed:r[43],start_tour:r[45]}}),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},p:te,i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function Gr(r){let t,e,n,o,a,s,l;t=new On({props:{camera:r[0],landImages:r[1],seaImages:r[33],shoreImage:cn,shoreImageCount:wt,seashoreFloorIndex:r[34],lightsImage:r[32],lightsOpacity:r[6],nightfallOpacity:r[17],showLights:!0,activeLandValue:r[15],activeSeaLevel:r[16],imageWidth:un,imageHeight:_n}});function _(i){r[66](i)}let c={camera:r[0],update_land_images:r[47],update_daylight:r[48],update_sea_level:r[49]};return r[5]!==void 0&&(c.tour=r[5]),n=new Dr({props:c}),Ie.push(()=>je(n,"tour",_)),n.$on("begin",r[46]),s=new nn({props:{$$slots:{default:[Zr]},$$scope:{ctx:r}}}),{c(){O(t.$$.fragment),e=P(),O(n.$$.fragment),a=P(),O(s.$$.fragment)},l(i){V(t.$$.fragment,i),e=H(i),V(n.$$.fragment,i),a=H(i),V(s.$$.fragment,i)},m(i,u){x(t,i,u),L(i,e,u),x(n,i,u),L(i,a,u),x(s,i,u),l=!0},p(i,u){const d={};u[0]&1&&(d.camera=i[0]),u[0]&2&&(d.landImages=i[1]),u[0]&64&&(d.lightsOpacity=i[6]),u[0]&131072&&(d.nightfallOpacity=i[17]),u[0]&32768&&(d.activeLandValue=i[15]),u[0]&65536&&(d.activeSeaLevel=i[16]),t.$set(d);const f={};u[0]&1&&(f.camera=i[0]),!o&&u[0]&32&&(o=!0,f.tour=i[5],Fe(()=>o=!1)),n.$set(f);const m={};u[0]&1920252|u[2]&16384&&(m.$$scope={dirty:u,ctx:i}),s.$set(m)},i(i){l||(w(t.$$.fragment,i),w(n.$$.fragment,i),w(s.$$.fragment,i),l=!0)},o(i){T(t.$$.fragment,i),T(n.$$.fragment,i),T(s.$$.fragment,i),l=!1},d(i){i&&(p(e),p(a)),G(t,i),G(n,i),G(s,i)}}}function Rr(r){let t,e,n;return e=new ht({props:{pressed:r[11],label:"toggle hud controls",$$slots:{default:[jr]},$$scope:{ctx:r}}}),e.$on("click",r[31]),{c(){t=S("div"),O(e.$$.fragment),this.h()},l(o){t=z(o,"DIV",{class:!0});var a=j(t);V(e.$$.fragment,a),a.forEach(p),this.h()},h(){R(t,"class","hud-top-controls svelte-iba55k")},m(o,a){L(o,t,a),x(e,t,null),n=!0},p(o,a){const s={};a[0]&2048&&(s.pressed=o[11]),a[2]&16384&&(s.$$scope={dirty:a,ctx:o}),e.$set(s)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){T(e.$$.fragment,o),n=!1},d(o){o&&p(t),G(e)}}}function Yr(r){let t,e;return t=new ht({props:{label:"go back to title screen",$$slots:{default:[Ur]},$$scope:{ctx:r}}}),t.$on("click",r[44]),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},p(n,o){const a={};o[2]&16384&&(a.$$scope={dirty:o,ctx:n}),t.$set(a)},i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function Fr(r){let t,e;return t=new ht({props:{label:"cancel tour",$$slots:{default:[qr]},$$scope:{ctx:r}}}),t.$on("click",function(){ft(r[5].cancel)&&r[5].cancel.apply(this,arguments)}),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},p(n,o){r=n;const a={};o[2]&16384&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function jr(r){let t;return{c(){t=K("âˆ™âˆ™âˆ™")},l(e){t=J(e,"âˆ™âˆ™âˆ™")},m(e,n){L(e,t,n)},d(e){e&&p(t)}}}function Ur(r){let t;return{c(){t=K("â‡¦")},l(e){t=J(e,"â‡¦")},m(e,n){L(e,t,n)},d(e){e&&p(t)}}}function qr(r){let t;return{c(){t=K("âœ•")},l(e){t=J(e,"âœ•")},m(e,n){L(e,t,n)},d(e){e&&p(t)}}}function Ut(r){let t,e,n,o,a,s,l,_,c,i,u,d,f,m;e=new ht({props:{pressed:r[11],label:"toggle hud controls",$$slots:{default:[Kr]},$$scope:{ctx:r}}}),e.$on("click",r[31]),o=new tt({props:{label:"start the tour of our soggy planet with history and myth",$$slots:{default:[Jr]},$$scope:{ctx:r}}}),o.$on("click",r[45]),l=new mr({props:{daylight:r[6],selected_daylight:r[4],select_daylight:r[40],hover_daylight:r[41]}});let y=r[14]&&qt(r);return u=new Vn({props:{active_land_index:r[7],selected_land_index:r[3],select_land_index:r[38],hover_land_index:r[39]}}),f=new xn({props:{sea_level:r[16],sea_index_max:r[35],selected_sea_level:r[2],select_sea_level:r[36],hover_sea_level:r[37]}}),{c(){t=S("div"),O(e.$$.fragment),n=P(),O(o.$$.fragment),a=P(),s=S("div"),O(l.$$.fragment),_=P(),y&&y.c(),c=P(),i=S("div"),O(u.$$.fragment),d=P(),O(f.$$.fragment),this.h()},l(h){t=z(h,"DIV",{class:!0});var E=j(t);V(e.$$.fragment,E),n=H(E),V(o.$$.fragment,E),E.forEach(p),a=H(h),s=z(h,"DIV",{class:!0});var g=j(s);V(l.$$.fragment,g),_=H(g),y&&y.l(g),g.forEach(p),c=H(h),i=z(h,"DIV",{class:!0});var I=j(i);V(u.$$.fragment,I),I.forEach(p),d=H(h),V(f.$$.fragment,h),this.h()},h(){R(t,"class","hud-top-controls svelte-iba55k"),R(s,"class","hud-left-controls svelte-iba55k"),R(i,"class","month-wrapper svelte-iba55k")},m(h,E){L(h,t,E),x(e,t,null),b(t,n),x(o,t,null),L(h,a,E),L(h,s,E),x(l,s,null),b(s,_),y&&y.m(s,null),L(h,c,E),L(h,i,E),x(u,i,null),L(h,d,E),x(f,h,E),m=!0},p(h,E){const g={};E[0]&2048&&(g.pressed=h[11]),E[2]&16384&&(g.$$scope={dirty:E,ctx:h}),e.$set(g);const I={};E[2]&16384&&(I.$$scope={dirty:E,ctx:h}),o.$set(I);const M={};E[0]&64&&(M.daylight=h[6]),E[0]&16&&(M.selected_daylight=h[4]),l.$set(M),h[14]?y?(y.p(h,E),E[0]&16384&&w(y,1)):(y=qt(h),y.c(),w(y,1),y.m(s,null)):y&&(ye(),T(y,1,1,()=>{y=null}),we());const C={};E[0]&128&&(C.active_land_index=h[7]),E[0]&8&&(C.selected_land_index=h[3]),u.$set(C);const $={};E[0]&65536&&($.sea_level=h[16]),E[0]&4&&($.selected_sea_level=h[2]),f.$set($)},i(h){m||(w(e.$$.fragment,h),w(o.$$.fragment,h),w(l.$$.fragment,h),w(y),w(u.$$.fragment,h),w(f.$$.fragment,h),m=!0)},o(h){T(e.$$.fragment,h),T(o.$$.fragment,h),T(l.$$.fragment,h),T(y),T(u.$$.fragment,h),T(f.$$.fragment,h),m=!1},d(h){h&&(p(t),p(a),p(s),p(c),p(i),p(d)),G(e),G(o),G(l),y&&y.d(),G(u),G(f,h)}}}function Kr(r){let t;return{c(){t=K("âˆ™âˆ™âˆ™")},l(e){t=J(e,"âˆ™âˆ™âˆ™")},m(e,n){L(e,t,n)},d(e){e&&p(t)}}}function Jr(r){let t;return{c(){t=K("tour")},l(e){t=J(e,"tour")},m(e,n){L(e,t,n)},d(e){e&&p(t)}}}function qt(r){let t,e;return t=new kr({props:{tour:r[5]||null,x:r[20],y:r[19],scale:r[18],debug_start_time:r[22]}}),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},p(n,o){const a={};o[0]&32&&(a.tour=n[5]||null),o[0]&1048576&&(a.x=n[20]),o[0]&524288&&(a.y=n[19]),o[0]&262144&&(a.scale=n[18]),t.$set(a)},i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function Zr(r){let t,e,n,o,a;const s=[Fr,Yr,Rr],l=[];function _(i,u){return i[5]&&i[10]?0:i[11]?1:2}t=_(r),e=l[t]=s[t](r);let c=r[11]&&(!r[10]||r[14])&&Ut(r);return{c(){e.c(),n=P(),c&&c.c(),o=Xe()},l(i){e.l(i),n=H(i),c&&c.l(i),o=Xe()},m(i,u){l[t].m(i,u),L(i,n,u),c&&c.m(i,u),L(i,o,u),a=!0},p(i,u){let d=t;t=_(i),t===d?l[t].p(i,u):(ye(),T(l[d],1,1,()=>{l[d]=null}),we(),e=l[t],e?e.p(i,u):(e=l[t]=s[t](i),e.c()),w(e,1),e.m(n.parentNode,n)),i[11]&&(!i[10]||i[14])?c?(c.p(i,u),u[0]&19456&&w(c,1)):(c=Ut(i),c.c(),w(c,1),c.m(o.parentNode,o)):c&&(ye(),T(c,1,1,()=>{c=null}),we())},i(i){a||(w(e),w(c),a=!0)},o(i){T(e),T(c),a=!1},d(i){i&&(p(n),p(o)),l[t].d(i),c&&c.d(i)}}}function Wr(r){let t,e;return t=new Vr({props:{clock:r[23]}}),{c(){O(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,o){x(t,n,o),e=!0},p:te,i(n){e||(w(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function Xr(r){let t,e,n,o,a,s,l,_={initialX:r[25],initialY:r[26],initialWidth:r[27],initialHeight:r[28]};t=new An({props:_}),r[65](t);let c=r[0]&&r[20]&&r[19]&&r[18]&&jt(r);return o=new Un({props:{$$slots:{default:[Wr]},$$scope:{ctx:r}}}),{c(){O(t.$$.fragment),e=P(),c&&c.c(),n=P(),O(o.$$.fragment)},l(i){V(t.$$.fragment,i),e=H(i),c&&c.l(i),n=H(i),V(o.$$.fragment,i)},m(i,u){x(t,i,u),L(i,e,u),c&&c.m(i,u),L(i,n,u),x(o,i,u),a=!0,s||(l=Ee(window,"keydown",r[30]),s=!0)},p(i,u){const d={};t.$set(d),i[0]&&i[20]&&i[19]&&i[18]?c?(c.p(i,u),u[0]&1835009&&w(c,1)):(c=jt(i),c.c(),w(c,1),c.m(n.parentNode,n)):c&&(ye(),T(c,1,1,()=>{c=null}),we());const f={};u[2]&16384&&(f.$$scope={dirty:u,ctx:i}),o.$set(f)},i(i){a||(w(t.$$.fragment,i),w(c),w(o.$$.fragment,i),a=!0)},o(i){T(t.$$.fragment,i),T(c),T(o.$$.fragment,i),a=!1},d(i){i&&(p(e),p(n)),r[65](null),G(t,i),c&&c.d(i),G(o,i),s=!1,l()}}}const un=4096,_n=2048,Kt=0,Jt=.91,Zt=3e3,cn="/assets/earth/shore.png",Wt=1e3,Xt=230;function Qr(r,t,e){let n,o,a,s,l,_,c,i,u,d,f,m,y,h,E=te,g=()=>(E(),E=de(y,k=>e(10,h=k)),y),I,M,C,$,A=te,N=()=>(A(),A=de(l,k=>e(68,$=k)),l),ne,X=te,Q=()=>(X(),X=de(s,k=>e(69,ne=k)),s),ie;r.$$.on_destroy.push(()=>E()),r.$$.on_destroy.push(()=>A()),r.$$.on_destroy.push(()=>X());const D=0,Y=kt();Me(r,Y,k=>e(62,I=k));let B;const q=en();Me(r,q,k=>e(64,C=k));const ee=It(0,un),ce=It(C.height/2,_n-C.height/2),me=C.width,Be=C.height,$e=rt();Me(r,$e,k=>e(63,M=k));let Se=!0;const le=(k=!Se)=>{e(11,Se=k)},re=k=>{Ye||(k.key==="Escape"&&!k.ctrlKey&&Mt(k.target)?(nt(k),St()):k.key==="1"&&Mt(k.target)&&(nt(k),le()))},oe=k=>{nt(k),le()},ke=(k,_e)=>Array.from({length:1+_e-k},(eo,yn)=>`/assets/earth/land_${yn+1+k}.png`);let ve=ke(0,11),fe=0;const he="/assets/earth/lights.png";let ae=Kt,ue=Jt,ze=ae,U=Zt*1.7;const F=k=>ae+(ue-ae)*(Math.sin(k/Zt)+1)/2,se=Array.from({length:3},(k,_e)=>`/assets/earth/sea_${_e+1}.png`),Ue=wt,Le=se.length+wt-1;let Ce=Wt*2.5;const ot=k=>Le*(Math.sin(k/Wt)+1)/2;let Qe=ot(Ce),qe=0,Ke=null,Je=null;const at=k=>{e(2,Ke=k)},it=k=>{e(57,Je=k)};let Ze=null,v=null;const ge=k=>{e(56,qe=Xt*k)},Ae=k=>{e(3,Ze=k),k!==null&&ge(k)},Oe=k=>{e(58,v=k),k!==null&&ge(k)};let st=null,gt=null;const Tt=k=>{e(4,st=k)},Et=k=>{e(59,gt=k)},Ve=rn();Me(r,Ve,k=>e(21,ie=k)),ve.forEach(k=>Ve.addResource("image",k)),se.forEach(k=>Ve.addResource("image",k)),Ve.addResource("image",cn),Ve.addResource("image",he);let Ye=!0;const fn=()=>{e(12,Ye=!Ye)},St=()=>{e(12,Ye=!0)},zt=()=>{e(12,Ye=!1)};Qt(()=>{_&&(zt(),Ve.load())});let xe;const dn=async()=>{Ye&&(zt(),await Ve.load()),xe||await Tn(),xe&&xe.begin_tour()},mn=()=>{console.log("on_begin_tour args")};let pt=!1;const hn=(k,_e)=>{console.log("update_land_images",k,_e),e(1,ve=ke(k,_e)),Ae(k===_e?_e:null),Oe(null)},gn=(k,_e)=>{e(51,ae=k),ue=_e,Tt(_e),Et(_e)},pn=(k,_e)=>{at(_e),it(_e)};function bn(k){Ie[k?"unshift":"push"](()=>{B=k,e(0,B)})}function vn(k){xe=k,e(5,xe)}return r.$$.update=()=>{r.$$.dirty[0]&1&&e(20,n=B==null?void 0:B.x),r.$$.dirty[0]&1&&e(19,o=B==null?void 0:B.y),r.$$.dirty[0]&1&&e(18,a=B==null?void 0:B.scale),r.$$.dirty[0]&1&&Q(e(9,s=B==null?void 0:B.width)),r.$$.dirty[0]&1&&N(e(8,l=B==null?void 0:B.height)),r.$$.dirty[0]&512|r.$$.dirty[2]&4&&s&&be(s,ne=C.width,ne),r.$$.dirty[0]&256|r.$$.dirty[2]&4&&l&&be(l,$=C.height,$),r.$$.dirty[2]&2&&e(14,_=M.dev_mode),r.$$.dirty[0]&10|r.$$.dirty[1]&167772160|r.$$.dirty[2]&1&&Ze===null&&v===null&&(e(56,qe+=I.dt),e(50,fe=qe/Xt%ve.length)),r.$$.dirty[1]&524288&&e(61,c=Math.floor(fe)),r.$$.dirty[0]&16|r.$$.dirty[1]&4194304|r.$$.dirty[2]&1&&st===null&&e(53,U+=I.dt),r.$$.dirty[1]&4194304&&e(52,ze=F(U)),r.$$.dirty[0]&16|r.$$.dirty[1]&270532608&&e(6,m=gt??st??ze),r.$$.dirty[0]&1024|r.$$.dirty[1]&536870912&&(pt&&!h&&(e(51,ae=Kt),ue=Jt),e(60,pt=!!h)),r.$$.dirty[0]&64|r.$$.dirty[1]&1048576&&e(17,i=(m-ae)*.48),r.$$.dirty[0]&4|r.$$.dirty[1]&75497472|r.$$.dirty[2]&1&&Ke===null&&Je===null&&e(54,Ce+=I.dt),r.$$.dirty[1]&8388608&&e(55,Qe=ot(Ce)),r.$$.dirty[0]&4|r.$$.dirty[1]&83886080&&e(16,u=Je??Ke??Qe),r.$$.dirty[0]&8|r.$$.dirty[1]&1207959552&&e(7,d=v??Ze??c),r.$$.dirty[0]&128|r.$$.dirty[1]&1074266112&&e(15,f=d===c?fe:d),r.$$.dirty[0]&32&&g(e(13,y=xe?xe.touring:null)),r.$$.dirty[0]&1024&&console.log("$touring",h)},[B,ve,Ke,Ze,st,xe,m,d,l,s,h,Se,Ye,y,_,f,u,i,a,o,n,ie,D,Y,q,ee,ce,me,Be,$e,re,oe,he,se,Ue,Le,at,it,Ae,Oe,Tt,Et,Ve,fn,St,dn,mn,hn,gn,pn,fe,ae,ze,U,Ce,Qe,qe,Je,v,gt,pt,c,I,M,C,bn,vn]}class Io extends De{constructor(t){super(),Ne(this,t,Qr,Xr,He,{},null,[-1,-1,-1])}}export{Io as component};
